import{d as h,k as P,r,o as g,H as w,w as o,g as d,a as t,h as V,G as X,A as j,X as A,J as G,M as H,L as J,P as L,__tla as R}from"./index-DkWBYEPi.js";import{_ as T,__tla as z}from"./Dialog.vue_vue_type_style_index_0_lang-Pdg60xs8.js";import{g as B,c as D,u as E,__tla as K}from"./index-DJEu2kHN.js";import{u as N,__tla as O}from"./useMessage-CeuPBduw.js";let b,Q=Promise.all([(()=>{try{return R}catch{}})(),(()=>{try{return z}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return O}catch{}})()]).then(async()=>{let _;_=h({name:"MpTagForm"}),b=h({..._,emits:["success"],setup(W,{expose:k,emit:x}){const{t:i}=P(),f=N(),s=r(!1),p=r(""),u=r(!1),v=r(""),l=r({accountId:-1,name:""}),I={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u7B7E\u540D\u79F0",trigger:"blur"}]},c=r(null);k({open:async(e,a,n)=>{if(s.value=!0,p.value=i("action."+e),v.value=e,F(),l.value.accountId=a,n){u.value=!0;try{l.value=await B(n)}finally{u.value=!1}}}});const C=async()=>{var e;if(c&&await((e=c.value)==null?void 0:e.validate())){u.value=!0;try{const a=l.value;v.value==="create"?(await D(a),f.success(i("common.createSuccess"))):(await E(a),f.success(i("common.updateSuccess"))),s.value=!1,x("success")}finally{u.value=!1}}},F=()=>{var e;l.value={accountId:-1,name:""},(e=c.value)==null||e.resetFields()};return(e,a)=>{const n=A,M=G,S=H,y=J,U=T,q=L;return g(),w(U,{modelValue:t(s),"onUpdate:modelValue":a[2]||(a[2]=m=>j(s)?s.value=m:null),title:t(p)},{footer:o(()=>[d(y,{disabled:t(u),type:"primary",onClick:C},{default:o(()=>[V("\u786E \u5B9A")]),_:1},8,["disabled"]),d(y,{onClick:a[1]||(a[1]=m=>s.value=!1)},{default:o(()=>[V("\u53D6 \u6D88")]),_:1})]),default:o(()=>[X((g(),w(S,{ref_key:"formRef",ref:c,model:t(l),rules:I,"label-width":"80px"},{default:o(()=>[d(M,{label:"\u6807\u7B7E\u540D\u79F0",prop:"name"},{default:o(()=>[d(n,{modelValue:t(l).name,"onUpdate:modelValue":a[0]||(a[0]=m=>t(l).name=m),placeholder:"\u8BF7\u8F93\u5165\u6807\u7B7E\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[q,t(u)]])]),_:1},8,["modelValue","title"])}}})});export{b as _,Q as __tla};
