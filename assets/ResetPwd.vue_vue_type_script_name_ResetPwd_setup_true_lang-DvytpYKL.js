import{d as _,r as V,D as f,o as h,H as v,w as d,a as e,k,M as q,g as s,J as x,__tla as M}from"./index-DPXDMqGw.js";import{_ as R,__tla as U}from"./XButton-DPynWnbu.js";import{I as w,__tla as C}from"./InputPassword-RnY5AgfT.js";import{a as D,__tla as E}from"./profile-CnNgLP2F.js";import{u as F,__tla as H}from"./useMessage-BBdrvaZ-.js";let c,I=Promise.all([(()=>{try{return M}catch{}})(),(()=>{try{return U}catch{}})(),(()=>{try{return C}catch{}})(),(()=>{try{return E}catch{}})(),(()=>{try{return H}catch{}})()]).then(async()=>{let i;i=_({name:"ResetPwd"}),c=_({...i,setup(J){const{t:a}=k(),g=F(),u=V(),l=f({oldPassword:"",newPassword:"",confirmPassword:""}),P=f({oldPassword:[{required:!0,message:a("profile.password.oldPwdMsg"),trigger:"blur"},{min:3,max:5,message:a("profile.password.pwdRules"),trigger:"blur"}],newPassword:[{required:!0,message:a("profile.password.newPwdMsg"),trigger:"blur"},{min:6,max:20,message:a("profile.password.pwdRules"),trigger:"blur"}],confirmPassword:[{required:!0,message:a("profile.password.cfPwdMsg"),trigger:"blur"},{required:!0,validator:(m,r)=>{l.newPassword!==m?r(new Error(a("profile.password.diffPwd"))):r()},trigger:"blur"}]});return(m,r)=>{const n=x,p=R,b=q;return h(),v(b,{ref_key:"formRef",ref:u,model:e(l),rules:e(P),"label-width":"80px"},{default:d(()=>[s(n,{label:e(a)("profile.password.oldPassword")},{default:d(()=>[s(e(w),{modelValue:e(l).oldPassword,"onUpdate:modelValue":r[0]||(r[0]=o=>e(l).oldPassword=o)},null,8,["modelValue"])]),_:1},8,["label"]),s(n,{label:e(a)("profile.password.newPassword")},{default:d(()=>[s(e(w),{modelValue:e(l).newPassword,"onUpdate:modelValue":r[1]||(r[1]=o=>e(l).newPassword=o),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),s(n,{label:e(a)("profile.password.confirmPassword")},{default:d(()=>[s(e(w),{modelValue:e(l).confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=o=>e(l).confirmPassword=o),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),s(n,null,{default:d(()=>[s(p,{title:e(a)("common.save"),type:"primary",onClick:r[3]||(r[3]=o=>{var t;(t=e(u))&&t.validate(async y=>{y&&(await D(l.oldPassword,l.newPassword),g.success(a("common.updateSuccess")))})})},null,8,["title"]),s(p,{title:e(a)("common.reset"),type:"danger",onClick:r[4]||(r[4]=o=>{var t;(t=e(u))&&t.resetFields()})},null,8,["title"])]),_:1})]),_:1},8,["model","rules"])}}})});export{c as _,I as __tla};
