import{d as K,k as X,r as p,D as j,e as A,S as B,o as c,c as x,g as a,w as e,a as l,U as I,h as _,G as m,H as d,F as Q,X as Y,J as Z,_ as $,L as aa,M as ea,N as ta,O as la,P as ra,__tla as oa}from"./index-B2l-tRNr.js";import{_ as sa,__tla as ca}from"./index-DSgEoFrX.js";import{E as na,__tla as ia}from"./el-image-Cvd0uxQe.js";import{__tla as pa}from"./el-image-viewer-DQYIABVL.js";import{_ as _a,__tla as ua}from"./ContentWrap.vue_vue_type_script_name_ContentWrap_setup_true_lang-CKAf4vXg.js";import{d as ma,__tla as da}from"./formatTime-U2F_5HmG.js";import{d as fa}from"./download--D_IyRio.js";import{_ as ya,g as ga,d as ha,e as wa,__tla as ka}from"./ProductForm.vue_vue_type_script_setup_true_lang-3tdeQoXD.js";import{u as xa,__tla as ba}from"./useMessage-CCK8Vpo2.js";import{__tla as Ca}from"./el-card-DXk2QVka.js";import{__tla as Sa}from"./Dialog.vue_vue_type_style_index_0_lang-DjDfdkfy.js";import{__tla as va}from"./Materials-CSkEYgk4.js";import{__tla as Pa}from"./material-iALphUsa.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";let M,Na=Promise.all([(()=>{try{return oa}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ua}catch{}})(),(()=>{try{return da}catch{}})(),(()=>{try{return ka}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return Ca}catch{}})(),(()=>{try{return Sa}catch{}})(),(()=>{try{return va}catch{}})(),(()=>{try{return Pa}catch{}})()]).then(async()=>{let b,C,S;b={key:0},C={key:1},S=K({name:"ScoreProduct"}),M=K({...S,setup(Ua){const g=xa(),{t:R}=X(),h=p(!0),v=p(0),P=p([]),r=j({pageNo:1,pageSize:10,title:null,image:null,images:null,desc:null,score:null,weigh:null,stock:null,sales:null,switch:null,createTime:[]}),N=p(),w=p(!1),u=async()=>{h.value=!0;try{const n=await ga(r);P.value=n.list,v.value=n.total}finally{h.value=!1}},k=()=>{r.pageNo=1,u()},T=()=>{N.value.resetFields(),k()},U=p(),V=(n,o)=>{U.value.open(n,o)},q=async()=>{try{await g.exportConfirm(),w.value=!0;const n=await wa(r);fa.excel(n,"\u79EF\u5206\u4EA7\u54C1.xls")}catch{}finally{w.value=!1}};return A(()=>{u()}),(n,o)=>{const D=Y,z=Z,f=$,i=aa,E=ea,F=_a,s=ta,G=na,H=la,J=sa,y=B("hasPermi"),L=ra;return c(),x(Q,null,[a(F,null,{default:e(()=>[a(E,{class:"-mb-15px",model:l(r),ref_key:"queryFormRef",ref:N,inline:!0,"label-width":"68px"},{default:e(()=>[a(z,{label:"\u4EA7\u54C1\u6807\u9898",prop:"title"},{default:e(()=>[a(D,{modelValue:l(r).title,"onUpdate:modelValue":o[0]||(o[0]=t=>l(r).title=t),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u6807\u9898",clearable:"",onKeyup:I(k,["enter"]),class:"!w-240px"},null,8,["modelValue","onKeyup"])]),_:1}),a(z,null,{default:e(()=>[a(i,{onClick:k},{default:e(()=>[a(f,{icon:"ep:search",class:"mr-5px"}),_(" \u641C\u7D22")]),_:1}),a(i,{onClick:T},{default:e(()=>[a(f,{icon:"ep:refresh",class:"mr-5px"}),_(" \u91CD\u7F6E")]),_:1}),m((c(),d(i,{type:"primary",plain:"",onClick:o[1]||(o[1]=t=>V("create"))},{default:e(()=>[a(f,{icon:"ep:plus",class:"mr-5px"}),_(" \u65B0\u589E ")]),_:1})),[[y,["score:product:create"]]]),m((c(),d(i,{type:"success",plain:"",onClick:q,loading:l(w)},{default:e(()=>[a(f,{icon:"ep:download",class:"mr-5px"}),_(" \u5BFC\u51FA ")]),_:1},8,["loading"])),[[y,["score:product:export"]]])]),_:1})]),_:1},8,["model"])]),_:1}),a(F,null,{default:e(()=>[m((c(),d(H,{data:l(P)},{default:e(()=>[a(s,{label:"id",align:"center",prop:"id"}),a(s,{label:"\u4EA7\u54C1\u6807\u9898",align:"center",prop:"title"}),a(s,{label:"\u4E3B\u56FE",align:"center",prop:"image"},{default:e(t=>[a(G,{style:{width:"100px",height:"100px"},src:t.row.image},null,8,["src"])]),_:1}),a(s,{label:"\u6D88\u8017\u79EF\u5206",align:"center",prop:"score"}),a(s,{label:"\u6743\u91CD",align:"center",prop:"weigh"}),a(s,{label:"\u5E93\u5B58",align:"center",prop:"stock"}),a(s,{label:"\u9500\u552E\u91CF",align:"center",prop:"sales"}),a(s,{label:"\u662F\u5426\u4E0A\u67B6",align:"center",prop:"isSwitch"},{default:e(t=>[t.row.isSwitch==1?(c(),x("span",b,"\u4E0A\u67B6")):(c(),x("span",C,"\u4E0B\u67B6"))]),_:1}),a(s,{label:"\u6DFB\u52A0\u65F6\u95F4",align:"center",prop:"createTime",formatter:l(ma),width:"170"},null,8,["formatter"]),a(s,{label:"\u64CD\u4F5C",align:"center",fixed:"right",width:"150"},{default:e(t=>[m((c(),d(i,{link:"",type:"primary",onClick:O=>V("update",t.row.id)},{default:e(()=>[_(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[y,["score:product:update"]]]),m((c(),d(i,{link:"",type:"danger",onClick:O=>(async W=>{try{await g.delConfirm(),await ha(W),g.success(R("common.delSuccess")),await u()}catch{}})(t.row.id)},{default:e(()=>[_(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[y,["score:product:delete"]]])]),_:1})]),_:1},8,["data"])),[[L,l(h)]]),a(J,{total:l(v),page:l(r).pageNo,"onUpdate:page":o[2]||(o[2]=t=>l(r).pageNo=t),limit:l(r).pageSize,"onUpdate:limit":o[3]||(o[3]=t=>l(r).pageSize=t),onPagination:u},null,8,["total","page","limit"])]),_:1}),a(ya,{ref_key:"formRef",ref:U,onSuccess:u},null,512)],64)}}})});export{Na as __tla,M as default};
