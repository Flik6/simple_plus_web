import{d as j,k as q,r as t,D as G,o as c,H as f,w as a,g as l,a as s,h as p,G as H,c as J,F as M,j as O,A as X,aT as L,aU as Q,J as z,Q as B,I as E,X as K,M as W,L as Y,P as Z,__tla as $}from"./index-DPXDMqGw.js";import{_ as ee,__tla as ae}from"./Dialog.vue_vue_type_style_index_0_lang-C9XY-OUi.js";import{g as le,u as se,__tla as re}from"./index-ZqcePKJG.js";import{f as oe,__tla as de}from"./index-DhVwhy5X.js";import{u as te,__tla as ue}from"./useMessage-BBdrvaZ-.js";let V,ie=Promise.all([(()=>{try{return $}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return re}catch{}})(),(()=>{try{return de}catch{}})(),(()=>{try{return ue}catch{}})()]).then(async()=>{V=j({__name:"OrderForm",emits:["success"],setup(ve,{expose:w,emit:N}){const{t:b}=q(),S=te(),u=t(!1),y=t(""),i=t(!1),C=t(""),d=t({id:void 0,userId:void 0,productId:void 0,number:void 0,score:void 0,totalScore:void 0,ip:void 0,expressSn:void 0,expressNumber:void 0,expressCompany:void 0,customerName:void 0,customerPhone:void 0,customerAddress:void 0,status:void 0,havePaid:void 0,haveDelivered:void 0,haveReceived:void 0}),_=t([]),k=G({expressSn:[{required:!0,message:"\u8BF7\u9009\u62E9\u5FEB\u9012\u516C\u53F8",trigger:"blur"}],expressNumber:[{required:!0,message:"\u5FEB\u9012\u5355\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),v=t();w({open:async(r,e)=>{if(u.value=!0,y.value=b("action."+r),C.value=r,U(),_.value=await oe(),e){i.value=!0;try{d.value=await le(e)}finally{i.value=!1}}}});const I=async()=>{if(v&&await v.value.validate()){i.value=!0;try{const r=d.value;await se(r),S.success(b("common.updateSuccess")),u.value=!1,N("success")}finally{i.value=!1}}},P=r=>{let e={};e=_.value.find(m=>m.code===r),d.value.expressCompany=e.name},U=()=>{var r;d.value={id:void 0,userId:void 0,productId:void 0,number:void 0,score:void 0,totalScore:void 0,ip:void 0,expressNumber:void 0,expressCompany:void 0,customerName:void 0,customerPhone:void 0,customerAddress:void 0,status:void 0,havePaid:void 0,haveDelivered:void 0,haveReceived:void 0},(r=v.value)==null||r.resetFields()};return(r,e)=>{const m=L,h=Q,n=z,x=B,D=E,A=K,F=W,g=Y,R=ee,T=Z;return c(),f(R,{title:s(y),modelValue:s(u),"onUpdate:modelValue":e[3]||(e[3]=o=>X(u)?u.value=o:null)},{footer:a(()=>[l(g,{onClick:I,type:"primary",disabled:s(i)},{default:a(()=>[p("\u786E \u5B9A")]),_:1},8,["disabled"]),l(g,{onClick:e[2]||(e[2]=o=>u.value=!1)},{default:a(()=>[p("\u53D6 \u6D88")]),_:1})]),default:a(()=>[H((c(),f(F,{ref_key:"formRef",ref:v,model:s(d),rules:s(k),"label-width":"100px"},{default:a(()=>[l(n,{label:"\u9009\u62E9\u7C7B\u578B",prop:"orderType"},{default:a(()=>[l(h,{"model-value":"send"},{default:a(()=>[l(m,{label:"send"},{default:a(()=>[p("\u53D1\u8D27")]),_:1})]),_:1})]),_:1}),l(n,{label:"\u53D1\u8D27\u7C7B\u578B",prop:"deliveryType"},{default:a(()=>[l(h,{"model-value":"normal"},{default:a(()=>[l(m,{label:"normal"},{default:a(()=>[p("\u624B\u52A8\u586B\u5199")]),_:1})]),_:1})]),_:1}),l(n,{label:"\u5FEB\u9012\u516C\u53F8",prop:"expressSn"},{default:a(()=>[l(D,{modelValue:s(d).expressSn,"onUpdate:modelValue":e[0]||(e[0]=o=>s(d).expressSn=o),placeholder:"\u9009\u62E9\u5FEB\u9012\u516C\u53F8",onChange:P},{default:a(()=>[l(x,{label:"\u9009\u62E9\u5FEB\u9012\u516C\u53F8",value:""}),(c(!0),J(M,null,O(s(_),o=>(c(),f(x,{key:o.code,label:o.name,value:o.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"\u5FEB\u9012\u5355\u53F7",prop:"expressNumber"},{default:a(()=>[l(A,{modelValue:s(d).expressNumber,"onUpdate:modelValue":e[1]||(e[1]=o=>s(d).expressNumber=o),placeholder:"\u8BF7\u8F93\u5165\u5FEB\u9012\u5355\u53F7",class:"input-width"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[T,s(i)]])]),_:1},8,["title","modelValue"])}}})});export{V as _,ie as __tla};
