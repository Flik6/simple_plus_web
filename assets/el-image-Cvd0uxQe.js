import{ad as te,aY as k,ce as se,aW as ie,d as T,bx as ne,ae as oe,b6 as re,d7 as ce,r as c,an as u,bh as y,ac as ue,e as de,o,c as d,ai as z,f as $,t as ve,a,n as g,F as A,aj as fe,i as p,H as ye,w as pe,ay as me,ag as ge,az as we,d8 as he,aZ as _e,d9 as be,cD as M,da as Se,db as xe,al as ke,__tla as ze}from"./index-B2l-tRNr.js";import{E as Ee,__tla as Ie}from"./el-image-viewer-DQYIABVL.js";let P,Ce=Promise.all([(()=>{try{return ze}catch{}})(),(()=>{try{return Ie}catch{}})()]).then(async()=>{const Y=te({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:k([String,Object])},previewSrcList:{type:k(Array),default:()=>se([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:k(String)}}),j={load:i=>i instanceof Event,error:i=>i instanceof Event,switch:i=>ie(i),close:()=>!0,show:()=>!0},H=["src","loading","crossorigin"],D={key:0},F=T({name:"ElImage",inheritAttrs:!1});P=ke(ge(T({...F,props:Y,emits:j,setup(i,{emit:v}){const l=i;let E="";const{t:R}=ne(),n=oe("image"),q=re(),K=ce(),w=c(),f=c(!1),r=c(!0),h=c(!1),m=c(),s=c(),W=y&&"loading"in HTMLImageElement.prototype;let _,b;const Z=u(()=>[n.e("inner"),S.value&&n.e("preview"),r.value&&n.is("loading")]),G=u(()=>q.style),J=u(()=>{const{fit:e}=l;return y&&e?{objectFit:e}:{}}),S=u(()=>{const{previewSrcList:e}=l;return Array.isArray(e)&&e.length>0}),Q=u(()=>{const{previewSrcList:e,initialIndex:t}=l;let O=t;return t>e.length-1&&(O=0),O}),I=u(()=>l.loading!=="eager"&&(!W&&l.loading==="lazy"||l.lazy)),x=()=>{y&&(r.value=!0,f.value=!1,w.value=l.src)};function U(e){r.value=!1,f.value=!1,v("load",e)}function V(e){r.value=!1,f.value=!0,v("error",e)}function C(){Se(m.value,s.value)&&(x(),N())}const L=xe(C,200,!0);async function B(){var e;if(!y)return;await we();const{scrollContainer:t}=l;he(t)?s.value=t:_e(t)&&t!==""?s.value=(e=document.querySelector(t))!=null?e:void 0:m.value&&(s.value=be(m.value)),s.value&&(_=M(s,"scroll",L),setTimeout(()=>C(),100))}function N(){y&&s.value&&L&&(_==null||_(),s.value=void 0)}function X(e){if(e.ctrlKey)return e.deltaY<0||e.deltaY>0?(e.preventDefault(),!1):void 0}function ee(){S.value&&(b=M("wheel",X,{passive:!1}),E=document.body.style.overflow,document.body.style.overflow="hidden",h.value=!0,v("show"))}function ae(){b==null||b(),document.body.style.overflow=E,h.value=!1,v("close")}function le(e){v("switch",e)}return ue(()=>l.src,()=>{I.value?(r.value=!0,f.value=!1,N(),B()):x()}),de(()=>{I.value?B():x()}),(e,t)=>(o(),d("div",{ref_key:"container",ref:m,class:g([a(n).b(),e.$attrs.class]),style:me(a(G))},[f.value?z(e.$slots,"error",{key:0},()=>[$("div",{class:g(a(n).e("error"))},ve(a(R)("el.image.error")),3)]):(o(),d(A,{key:1},[w.value!==void 0?(o(),d("img",fe({key:0},a(K),{src:w.value,loading:e.loading,style:a(J),class:a(Z),crossorigin:e.crossorigin,onClick:ee,onLoad:U,onError:V}),null,16,H)):p("v-if",!0),r.value?(o(),d("div",{key:1,class:g(a(n).e("wrapper"))},[z(e.$slots,"placeholder",{},()=>[$("div",{class:g(a(n).e("placeholder"))},null,2)])],2)):p("v-if",!0)],64)),a(S)?(o(),d(A,{key:2},[h.value?(o(),ye(a(Ee),{key:0,"z-index":e.zIndex,"initial-index":a(Q),infinite:e.infinite,"zoom-rate":e.zoomRate,"min-scale":e.minScale,"max-scale":e.maxScale,"url-list":e.previewSrcList,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:ae,onSwitch:le},{default:pe(()=>[e.$slots.viewer?(o(),d("div",D,[z(e.$slots,"viewer")])):p("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):p("v-if",!0)],64)):p("v-if",!0)],6))}}),[["__file","image.vue"]]))});export{P as E,Ce as __tla};
