import{ad as $e,aY as V,cR as Pe,ag as K,d as M,r as F,bs as I,an as E,bP as U,cK as Ke,ah as A,a as k,ac as ae,cD as Me,ai as D,cS as T,ar as h,o as x,H as z,w as g,g as _,ak as Le,bS as Ge,cT as ie,bw as L,az as ze,L as se,co as Oe,cU as Ae,ba as He,cV as Ne,a$ as de,bC as Ue,cW as Ye,ax as ue,ae as X,bx as We,a_ as je,cX as Je,bc as Ve,bE as Xe,c as Y,bR as Ze,aj as H,n as Z,i as q,cY as ce,cZ as qe,c_ as Qe,f as en,aD as nn,aR as Q,F as on,c$ as pe,d0 as tn,d1 as ve,d2 as ln,d3 as rn,d4 as an,ay as sn,d5 as dn,d6 as un,al as cn,am as fe,__tla as pn}from"./index-DkWBYEPi.js";let me,ge,be,vn=Promise.all([(()=>{try{return pn}catch{}})()]).then(async()=>{const we=$e({style:{type:V([String,Array,Object])},currentTabId:{type:V(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:V(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:he,ElCollectionItem:ye,COLLECTION_INJECTION_KEY:W,COLLECTION_ITEM_INJECTION_KEY:Ie}=Pe("RovingFocusGroup"),j=Symbol("elRovingFocusGroup"),ee=Symbol("elRovingFocusGroupItem"),Ee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},J=e=>{const{activeElement:o}=document;for(const c of e)if(c===o||(c.focus(),o!==document.activeElement))return},ne="currentTabIdChange",oe="rovingFocusGroup.entryFocus",Fe={bubbles:!1,cancelable:!0},_e=M({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:we,emits:[ne,"entryFocus"],setup(e,{emit:o}){var c;const s=F((c=e.currentTabId||e.defaultCurrentTabId)!=null?c:null),p=F(!1),u=F(!1),a=F(null),{getItems:r}=I(W,void 0),v=E(()=>[{outline:"none"},e.style]),b=T(l=>{var i;(i=e.onMousedown)==null||i.call(e,l)},()=>{u.value=!0}),w=T(l=>{var i;(i=e.onFocus)==null||i.call(e,l)},l=>{const i=!k(u),{target:f,currentTarget:y}=l;if(f===y&&i&&!k(p)){const $=new Event(oe,Fe);if(y==null||y.dispatchEvent($),!$.defaultPrevented){const C=r().filter(m=>m.focusable),S=[C.find(m=>m.active),C.find(m=>m.id===k(s)),...C].filter(Boolean).map(m=>m.ref);J(S)}}u.value=!1}),t=T(l=>{var i;(i=e.onBlur)==null||i.call(e,l)},()=>{p.value=!1});U(j,{currentTabbedId:Ke(s),loop:A(e,"loop"),tabIndex:E(()=>k(p)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:v,orientation:A(e,"orientation"),dir:A(e,"dir"),onItemFocus:l=>{o(ne,l)},onItemShiftTab:()=>{p.value=!0},onBlur:t,onFocus:w,onMousedown:b}),ae(()=>e.currentTabId,l=>{s.value=l??null}),Me(a,oe,(...l)=>{o("entryFocus",...l)})}});var Ce=K(M({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:he,ElRovingFocusGroupImpl:K(_e,[["render",function(e,o,c,s,p,u){return D(e.$slots,"default")}],["__file","roving-focus-group-impl.vue"]])}}),[["render",function(e,o,c,s,p,u){const a=h("el-roving-focus-group-impl"),r=h("el-focus-group-collection");return x(),z(r,null,{default:g(()=>[_(a,Le(Ge(e.$attrs)),{default:g(()=>[D(e.$slots,"default")]),_:3},16)]),_:3})}],["__file","roving-focus-group.vue"]]),Re=K(M({components:{ElRovingFocusCollectionItem:ye},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:c,loop:s,onItemFocus:p,onItemShiftTab:u}=I(j,void 0),{getItems:a}=I(W,void 0),r=ie(),v=F(null),b=T(i=>{o("mousedown",i)},i=>{e.focusable?p(k(r)):i.preventDefault()}),w=T(i=>{o("focus",i)},()=>{p(k(r))}),t=T(i=>{o("keydown",i)},i=>{const{key:f,shiftKey:y,target:$,currentTarget:C}=i;if(f===L.tab&&y)return void u();if($!==C)return;const S=(n=>{const d=n.key;return Ee[d]})(i);if(S){i.preventDefault();let n=a().filter(d=>d.focusable).map(d=>d.ref);switch(S){case"last":n.reverse();break;case"prev":case"next":{S==="prev"&&n.reverse();const d=n.indexOf(C);n=s.value?(B=d+1,(m=n).map((R,P)=>m[(P+B)%m.length])):n.slice(d+1);break}}ze(()=>{J(n)})}var m,B}),l=E(()=>c.value===k(r));return U(ee,{rovingFocusGroupItemRef:v,tabIndex:E(()=>k(l)?0:-1),handleMousedown:b,handleFocus:w,handleKeydown:t}),{id:r,handleKeydown:t,handleFocus:w,handleMousedown:b}}}),[["render",function(e,o,c,s,p,u){const a=h("el-roving-focus-collection-item");return x(),z(a,{id:e.id,focusable:e.focusable,active:e.active},{default:g(()=>[D(e.$slots,"default")]),_:3},8,["id","focusable","active"])}],["__file","roving-focus-item.vue"]]);const N=Symbol("elDropdown"),{ButtonGroup:ke}=se;var Te=K(M({name:"ElDropdown",components:{ElButton:se,ElButtonGroup:ke,ElScrollbar:Oe,ElDropdownCollection:Ae,ElTooltip:He,ElRovingFocusGroup:Ce,ElOnlyChild:Ne,ElIcon:de,ArrowDown:Ue},props:Ye,emits:["visible-change","click","command"],setup(e,{emit:o}){const c=ue(),s=X("dropdown"),{t:p}=We(),u=F(),a=F(),r=F(null),v=F(null),b=F(null),w=F(null),t=F(!1),l=[L.enter,L.space,L.down],i=E(()=>({maxHeight:je(e.maxHeight)})),f=E(()=>[s.m(m.value)]),y=E(()=>Je(e.trigger)),$=ie().value,C=E(()=>e.id||$);function S(){var n;(n=r.value)==null||n.onClose()}ae([u,y],([n,d],[R])=>{var P,O,G;(P=R==null?void 0:R.$el)!=null&&P.removeEventListener&&R.$el.removeEventListener("pointerenter",B),(O=n==null?void 0:n.$el)!=null&&O.removeEventListener&&n.$el.removeEventListener("pointerenter",B),(G=n==null?void 0:n.$el)!=null&&G.addEventListener&&d.includes("hover")&&n.$el.addEventListener("pointerenter",B)},{immediate:!0}),Ve(()=>{var n,d;(d=(n=u.value)==null?void 0:n.$el)!=null&&d.removeEventListener&&u.value.$el.removeEventListener("pointerenter",B)});const m=Xe();function B(){var n,d;(d=(n=u.value)==null?void 0:n.$el)==null||d.focus()}return U(N,{contentRef:v,role:E(()=>e.role),triggerId:C,isUsingKeyboard:t,onItemEnter:function(){},onItemLeave:function(){const n=k(v);y.value.includes("hover")&&(n==null||n.focus()),w.value=null}}),U("elDropdown",{instance:c,dropdownSize:m,handleClick:function(){S()},commandHandler:function(...n){o("command",...n)},trigger:A(e,"trigger"),hideOnClick:A(e,"hideOnClick")}),{t:p,ns:s,scrollbar:b,wrapStyle:i,dropdownTriggerKls:f,dropdownSize:m,triggerId:C,triggerKeys:l,currentTabId:w,handleCurrentTabIdChange:function(n){w.value=n},handlerMainButtonClick:n=>{o("click",n)},handleEntryFocus:function(n){t.value||(n.preventDefault(),n.stopImmediatePropagation())},handleClose:S,handleOpen:function(){var n;(n=r.value)==null||n.onOpen()},handleBeforeShowTooltip:function(){o("visible-change",!0)},handleShowTooltip:function(n){(n==null?void 0:n.type)==="keydown"&&v.value.focus()},handleBeforeHideTooltip:function(){o("visible-change",!1)},onFocusAfterTrapped:n=>{var d,R;n.preventDefault(),(R=(d=v.value)==null?void 0:d.focus)==null||R.call(d,{preventScroll:!0})},popperRef:r,contentRef:v,triggeringElementRef:u,referenceElementRef:a}}}),[["render",function(e,o,c,s,p,u){var a;const r=h("el-dropdown-collection"),v=h("el-roving-focus-group"),b=h("el-scrollbar"),w=h("el-only-child"),t=h("el-tooltip"),l=h("el-button"),i=h("arrow-down"),f=h("el-icon"),y=h("el-button-group");return x(),Y("div",{class:Z([e.ns.b(),e.ns.is("disabled",e.disabled)])},[_(t,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(a=e.referenceElementRef)==null?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Ze({content:g(()=>[_(b,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:g(()=>[_(v,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:g(()=>[_(r,null,{default:g(()=>[D(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:g(()=>[_(w,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:g(()=>[D(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(x(),z(y,{key:0},{default:g(()=>[_(l,H({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:g(()=>[D(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),_(l,H({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:g(()=>[_(f,{class:Z(e.ns.e("icon"))},{default:g(()=>[_(i)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):q("v-if",!0)],2)}],["__file","dropdown.vue"]]);const Se=M({name:"DropdownItemImpl",components:{ElIcon:de},props:ce,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const c=X("dropdown"),{role:s}=I(N,void 0),{collectionItemRef:p}=I(qe,void 0),{collectionItemRef:u}=I(Ie,void 0),{rovingFocusGroupItemRef:a,tabIndex:r,handleFocus:v,handleKeydown:b,handleMousedown:w}=I(ee,void 0),t=pe(p,u,a),l=E(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),i=T(f=>{const{code:y}=f;if(y===L.enter||y===L.space)return f.preventDefault(),f.stopImmediatePropagation(),o("clickimpl",f),!0},b);return{ns:c,itemRef:t,dataset:{[Qe]:""},role:l,tabIndex:r,handleFocus:v,handleKeydown:i,handleMousedown:w}}}),xe=["aria-disabled","tabindex","role"],te=()=>{const e=I("elDropdown",{}),o=E(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:o}};var le=K(M({name:"ElDropdownItem",components:{ElDropdownCollectionItem:tn,ElRovingFocusItem:Re,ElDropdownItemImpl:K(Se,[["render",function(e,o,c,s,p,u){const a=h("el-icon");return x(),Y(on,null,[e.divided?(x(),Y("li",H({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):q("v-if",!0),en("li",H({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o[0]||(o[0]=r=>e.$emit("clickimpl",r)),onFocus:o[1]||(o[1]=(...r)=>e.handleFocus&&e.handleFocus(...r)),onKeydown:o[2]||(o[2]=Q((...r)=>e.handleKeydown&&e.handleKeydown(...r),["self"])),onMousedown:o[3]||(o[3]=(...r)=>e.handleMousedown&&e.handleMousedown(...r)),onPointermove:o[4]||(o[4]=r=>e.$emit("pointermove",r)),onPointerleave:o[5]||(o[5]=r=>e.$emit("pointerleave",r))}),[e.icon?(x(),z(a,{key:0},{default:g(()=>[(x(),z(nn(e.icon)))]),_:1})):q("v-if",!0),D(e.$slots,"default")],16,xe)],64)}],["__file","dropdown-item-impl.vue"]])},inheritAttrs:!1,props:ce,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:c}){const{elDropdown:s}=te(),p=ue(),u=F(null),a=E(()=>{var t,l;return(l=(t=k(u))==null?void 0:t.textContent)!=null?l:""}),{onItemEnter:r,onItemLeave:v}=I(N,void 0),b=T(t=>(o("pointermove",t),t.defaultPrevented),ve(t=>{if(e.disabled)return void v(t);const l=t.currentTarget;l===document.activeElement||l.contains(document.activeElement)||(r(t),t.defaultPrevented||l==null||l.focus())})),w=T(t=>(o("pointerleave",t),t.defaultPrevented),ve(t=>{v(t)}));return{handleClick:T(t=>{if(!e.disabled)return o("click",t),t.type!=="keydown"&&t.defaultPrevented},t=>{var l,i,f;e.disabled?t.stopImmediatePropagation():((l=s==null?void 0:s.hideOnClick)!=null&&l.value&&((i=s.handleClick)==null||i.call(s)),(f=s.commandHandler)==null||f.call(s,e.command,p,t))}),handlePointerMove:b,handlePointerLeave:w,textContent:a,propsAndAttrs:E(()=>({...e,...c}))}}}),[["render",function(e,o,c,s,p,u){var a;const r=h("el-dropdown-item-impl"),v=h("el-roving-focus-item"),b=h("el-dropdown-collection-item");return x(),z(b,{disabled:e.disabled,"text-value":(a=e.textValue)!=null?a:e.textContent},{default:g(()=>[_(v,{focusable:!e.disabled},{default:g(()=>[_(r,H(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:g(()=>[D(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}],["__file","dropdown-item.vue"]]);const Be=M({name:"ElDropdownMenu",props:ln,setup(e){const o=X("dropdown"),{_elDropdownSize:c}=te(),s=c.value,{focusTrapRef:p,onKeydown:u}=I(rn,void 0),{contentRef:a,role:r,triggerId:v}=I(N,void 0),{collectionRef:b,getItems:w}=I(an,void 0),{rovingFocusGroupRef:t,rovingFocusGroupRootStyle:l,tabIndex:i,onBlur:f,onFocus:y,onMousedown:$}=I(j,void 0),{collectionRef:C}=I(W,void 0),S=E(()=>[o.b("menu"),o.bm("menu",s==null?void 0:s.value)]),m=pe(a,b,p,t,C),B=T(n=>{var d;(d=e.onKeydown)==null||d.call(e,n)},n=>{const{currentTarget:d,code:R,target:P}=n;if(d.contains(P),L.tab===R&&n.stopImmediatePropagation(),n.preventDefault(),P!==k(a)||!dn.includes(R))return;const O=w().filter(G=>!G.disabled).map(G=>G.ref);un.includes(R)&&O.reverse(),J(O)});return{size:s,rovingFocusGroupRootStyle:l,tabIndex:i,dropdownKls:S,role:r,triggerId:v,dropdownListWrapperRef:m,handleKeydown:n=>{B(n),u(n)},onBlur:f,onFocus:y,onMousedown:$}}}),De=["role","aria-labelledby"];var re=K(Be,[["render",function(e,o,c,s,p,u){return x(),Y("ul",{ref:e.dropdownListWrapperRef,class:Z(e.dropdownKls),style:sn(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:o[0]||(o[0]=(...a)=>e.onBlur&&e.onBlur(...a)),onFocus:o[1]||(o[1]=(...a)=>e.onFocus&&e.onFocus(...a)),onKeydown:o[2]||(o[2]=Q((...a)=>e.handleKeydown&&e.handleKeydown(...a),["self"])),onMousedown:o[3]||(o[3]=Q((...a)=>e.onMousedown&&e.onMousedown(...a),["self"]))},[D(e.$slots,"default")],46,De)}],["__file","dropdown-menu.vue"]]);be=cn(Te,{DropdownItem:le,DropdownMenu:re}),me=fe(le),ge=fe(re)});export{me as E,vn as __tla,ge as a,be as b};
