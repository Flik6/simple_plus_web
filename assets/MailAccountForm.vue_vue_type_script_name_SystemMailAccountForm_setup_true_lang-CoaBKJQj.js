import{d as p,k as x,r as c,o as C,B as F,w as u,g as m,a as l,h,A as M,v as R,H as A,L as j,__tla as B}from"./index-IVPz-ih6.js";import{_ as E,__tla as H}from"./Dialog.vue_vue_type_style_index_0_lang-DMbm9tVa.js";import{_ as L,__tla as P}from"./Form-C7lm0X4d.js";import{g as U,c as q,a as z,__tla as D}from"./useCrudSchemas-DCRWJ5K2.js";import{r as G,a as I,__tla as J}from"./account.data-BkNgc16x.js";import{u as K,__tla as N}from"./useMessage-DmGM48R-.js";let w,O=Promise.all([(()=>{try{return B}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return P}catch{}})(),(()=>{try{return D}catch{}})(),(()=>{try{return J}catch{}})(),(()=>{try{return N}catch{}})()]).then(async()=>{let n;n=p({name:"SystemMailAccountForm"}),w=p({...n,emits:["success"],setup(Q,{expose:k,emit:S}){const{t:o}=x(),i=K(),t=c(!1),f=c(""),e=c(!1),y=c(""),r=c();k({open:async(s,a)=>{if(t.value=!0,f.value=o("action."+s),y.value=s,a){e.value=!0;try{const _=await U(a);r.value.setValues(_)}finally{e.value=!1}}}});const V=async()=>{if(r&&await r.value.getElFormRef().validate()){e.value=!0;try{const s=r.value.formModel;y.value==="create"?(await q(s),i.success(o("common.createSuccess"))):(await z(s),i.success(o("common.updateSuccess"))),t.value=!1,S("success")}finally{e.value=!1}}};return(s,a)=>{const _=L,v=A,g=E,b=j;return C(),F(g,{modelValue:l(t),"onUpdate:modelValue":a[1]||(a[1]=d=>R(t)?t.value=d:null),title:l(f)},{footer:u(()=>[m(v,{disabled:l(e),type:"primary",onClick:V},{default:u(()=>[h("\u786E \u5B9A")]),_:1},8,["disabled"]),m(v,{onClick:a[0]||(a[0]=d=>t.value=!1)},{default:u(()=>[h("\u53D6 \u6D88")]),_:1})]),default:u(()=>[M(m(_,{ref_key:"formRef",ref:r,rules:l(G),schema:l(I).formSchema},null,8,["rules","schema"]),[[b,l(e)]])]),_:1},8,["modelValue","title"])}}})});export{w as _,O as __tla};
