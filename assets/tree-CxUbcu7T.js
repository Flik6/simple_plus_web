const m={id:"id",children:"children",pid:"pid"},y={children:"children",label:"name",value:"id"},f=r=>Object.assign({},m,r),A=(r,t={})=>{t=f(t);const{children:i}=t,s=[...r];for(let n=0;n<s.length;n++)s[n][i]&&s.splice(n+1,0,...s[n][i]);return s},b=(r,t,i={})=>{i=f(i);const s=[],n=[...r],o=new Set,{children:c}=i;for(;n.length;){const e=n[0];if(o.has(e))s.pop(),n.shift();else if(o.add(e),e[c]&&n.unshift(...e[c]),s.push(e),t(e))return s}return null},v=(r,t,i={})=>{const s=(i=f(i)).children;return function n(o){return o.map(c=>({...c})).filter(c=>(c[s]=c[s]&&n(c[s]),t(c)||c[s]&&c[s].length))}(r)},O=(r,t)=>r.map(i=>p(i,t)),p=(r,{children:t="children",conversion:i})=>{const s=Array.isArray(r[t])&&r[t].length>0,n=i(r)||{};return s?{...n,[t]:r[t].map(o=>p(o,{children:t,conversion:i}))}:{...n}},g=(r,t,i={})=>{r.forEach(s=>{const n=t(s,i)||s;s.children&&g(s.children,t,n)})},S=(r,t,i,s)=>{if(!Array.isArray(r))return[];const n=t||"id",o=i||"parentId",c="children",e={},a={},h=[];for(const l of r){const d=l[o];e[d]==null&&(e[d]=[]),a[l[n]]=l,e[d].push(l)}for(const l of r)a[l[o]]==null&&h.push(l);for(const l of h)u(l);function u(l){if(e[l[n]]!==null&&(l[c]=e[l[n]]),l[c])for(const d of l[c])u(d)}return h},I=(r,t,i,s,n)=>{t=t||"id",i=i||"parentId",n=n||Math.min(...r.map(e=>e[i]))||0;const o=JSON.parse(JSON.stringify(r)),c=o.filter(e=>{const a=o.filter(h=>e[t]===h[i]);return a.length>0&&(e.children=a),e[i]===n});return c!==""?c:r};export{I as a,b,A as c,y as d,g as e,v as f,S as h,O as t};
