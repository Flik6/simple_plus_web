import{aQ as u,k as x,D as N,cb as C,b0 as Q,__tla as j}from"./index-BFAKpZuq.js";import{e as S,t as q,f as z}from"./tree-CxUbcu7T.js";import{b as P,a as B,g as G,__tla as J}from"./dict-GZFn5X1r.js";import{_ as K,__tla as L}from"./DictTag.vue_vue_type_script_lang-Dyh9FoSP.js";let D,E,Y,I,A,H,M,O=Promise.all([(()=>{try{return j}catch{}})(),(()=>{try{return J}catch{}})(),(()=>{try{return L}catch{}})()]).then(async()=>{let _,T,F,g,v,w;E=async s=>await u.get({url:"/system/mail-account/page",params:s}),H=async s=>await u.get({url:"/system/mail-account/get?id="+s}),Y=async s=>await u.post({url:"/system/mail-account/create",data:s}),D=async s=>await u.put({url:"/system/mail-account/update",data:s}),I=async s=>await u.delete({url:"/system/mail-account/delete?id="+s}),A=async()=>u.get({url:"/system/mail-account/list-all-simple"}),{t:_}=x(),M=s=>{const o=N({searchSchema:[],tableColumns:[],formSchema:[],detailSchema:[]}),t=T(s,o);o.searchSchema=t||[];const l=F(s);o.tableColumns=l||[];const a=g(s,o);o.formSchema=a;const i=v(s);return o.detailSchema=i,{allSchemas:o}},T=(s,o)=>{const t=[],l=[];S(s,a=>{var i,m,d,e;if(a!=null&&a.isSearch||(i=a.search)!=null&&i.show){let y=((m=a==null?void 0:a.search)==null?void 0:m.component)||"Input";const f=[];let h={};if(a.dictType){const r={label:"\u5168\u90E8",value:""};f.push(r),P(a.dictType).forEach(c=>{f.push(c)}),h={options:f},(d=a.search)!=null&&d.component||(y="Select")}const p={component:y,componentProps:h,...a.search,field:a.field,label:((e=a.search)==null?void 0:e.label)||a.label};p.api&&l.push(async()=>{var c;const r=await p.api();if(r){const n=C(o.searchSchema,b=>b.field===p.field);n!==-1&&(o.searchSchema[n].componentProps.options=w(r,(c=p.componentProps.optionsAlias)==null?void 0:c.labelField))}}),delete p.show,t.push(p)}});for(const a of l)a();return t},F=s=>{const o=q(s,{conversion:t=>{var l;if((t==null?void 0:t.isTable)!==!1&&((l=t==null?void 0:t.table)==null?void 0:l.show)!==!1)return!t.formatter&&t.dictType&&(t.formatter=(a,i,m)=>Q(K,{type:t.dictType,value:m})),{...t.table,...t}}});return z(o,t=>(t.children===void 0&&delete t.children,!!t.field))},g=(s,o)=>{const t=[],l=[];S(s,a=>{var i,m,d,e,y;if((a==null?void 0:a.isForm)!==!1&&((i=a==null?void 0:a.form)==null?void 0:i.show)!==!1){let f=((m=a==null?void 0:a.form)==null?void 0:m.component)||"Input",h="";(d=a.form)!=null&&d.value?h=(e=a.form)==null?void 0:e.value:f==="InputNumber"&&(h=0);let p={};if(a.dictType){const c=[];a.dictClass&&a.dictClass==="number"?B(a.dictType).forEach(n=>{c.push(n)}):a.dictClass&&a.dictClass==="boolean"?G(a.dictType).forEach(n=>{c.push(n)}):P(a.dictType).forEach(n=>{c.push(n)}),p={options:c},a.form&&a.form.component||(f="Select")}const r={component:f,componentProps:p,value:h,...a.form,field:a.field,label:((y=a.form)==null?void 0:y.label)||a.label};r.api&&l.push(async()=>{var n;const c=await r.api();if(c){const b=C(o.formSchema,k=>k.field===r.field);b!==-1&&(o.formSchema[b].componentProps.options=w(c,(n=r.componentProps.optionsAlias)==null?void 0:n.labelField))}}),delete r.show,t.push(r)}});for(const a of l)a();return t},v=s=>{const o=[];return S(s,t=>{var l,a,i,m,d;if((t==null?void 0:t.isDetail)!==!1&&((l=t.detail)==null?void 0:l.show)!==!1){const e={...t.detail,field:t.field,label:((a=t.detail)==null?void 0:a.label)||t.label};t.dictType&&(e.dictType=t.dictType),((i=t.detail)!=null&&i.dateFormat||t.formatter=="formatDate")&&(e.dateFormat=(m=t==null?void 0:t.detail)!=null&&m.dateFormat?(d=t==null?void 0:t.detail)==null?void 0:d.dateFormat:"YYYY-MM-DD HH:mm:ss"),delete e.show,o.push(e)}}),o},w=(s,o)=>s==null?void 0:s.map(t=>(o?t.labelField=_(t.labelField):t.label=_(t.label),t))});export{O as __tla,D as a,E as b,Y as c,I as d,A as e,H as g,M as u};
