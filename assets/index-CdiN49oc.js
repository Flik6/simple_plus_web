import{d as R,ap as X,k as B,r as _,D as W,e as Y,S as Z,o as n,c as T,g as a,w as e,a as t,U as $,F as E,j as aa,H as i,h as u,G as m,i as ea,az as la,aq as ta,X as ra,J as oa,Q as sa,I as na,_ as ua,L as ca,M as pa,N as _a,O as ia,P as ma,__tla as da}from"./index-BGiPFk3o.js";import{_ as fa,__tla as ya}from"./DictTag.vue_vue_type_script_lang-HRMUfBeu.js";import{_ as ha,__tla as wa}from"./ContentWrap.vue_vue_type_script_name_ContentWrap_setup_true_lang-ly8V3nUc.js";import{a as va,D as F,__tla as ka}from"./dict-BMmUnC2I.js";import{h as ba}from"./tree-CxUbcu7T.js";import{b as Ca,d as xa,__tla as Sa}from"./index-BMTekOto.js";import{_ as Oa,__tla as Ua}from"./MenuForm.vue_vue_type_script_name_SystemMenuForm_setup_true_lang-96GtYfXp.js";import{u as Va,__tla as ga}from"./useMessage-DSjeOOd7.js";import"./color-DXkOL5Tu.js";import{__tla as Ma}from"./el-card-C4fLjGwL.js";import{__tla as Na}from"./Dialog.vue_vue_type_style_index_0_lang-C1Y15J1B.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import{__tla as Ra}from"./el-tree-select-CXcYvRG_.js";import"./constants-BjZq39Lm.js";let G,Ta=Promise.all([(()=>{try{return da}catch{}})(),(()=>{try{return ya}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return ka}catch{}})(),(()=>{try{return Sa}catch{}})(),(()=>{try{return Ua}catch{}})(),(()=>{try{return ga}catch{}})(),(()=>{try{return Ma}catch{}})(),(()=>{try{return Na}catch{}})(),(()=>{try{return Ra}catch{}})()]).then(async()=>{let O;O=R({name:"SystemMenu"}),G=R({...O,setup(Ea){const{wsCache:K}=X(),{t:L}=B(),h=Va(),w=_(!0),U=_([]),c=W({name:void 0,status:void 0}),V=_(),v=_(!1),k=_(!0),d=async()=>{w.value=!0;try{const f=await Ca(c);U.value=ba(f)}finally{w.value=!1}},b=()=>{d()},P=()=>{V.value.resetFields(),b()},g=_(),C=(f,r,x)=>{g.value.open(f,r,x)},q=()=>{k.value=!1,v.value=!v.value,la(()=>{k.value=!0})},A=async()=>{try{await h.confirm("\u5373\u5C06\u66F4\u65B0\u7F13\u5B58\u5237\u65B0\u6D4F\u89C8\u5668\uFF01","\u5237\u65B0\u83DC\u5355\u7F13\u5B58"),K.delete(ta.ROLE_ROUTERS),location.reload()}catch{}};return Y(()=>{d()}),(f,r)=>{const x=ra,S=oa,j=sa,z=na,p=ua,o=ca,D=pa,M=ha,s=_a,H=fa,I=ia,y=Z("hasPermi"),J=ma;return n(),T(E,null,[a(M,null,{default:e(()=>[a(D,{ref_key:"queryFormRef",ref:V,inline:!0,model:t(c),class:"-mb-15px","label-width":"68px"},{default:e(()=>[a(S,{label:"\u83DC\u5355\u540D\u79F0",prop:"name"},{default:e(()=>[a(x,{modelValue:t(c).name,"onUpdate:modelValue":r[0]||(r[0]=l=>t(c).name=l),class:"!w-240px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",onKeyup:$(b,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),a(S,{label:"\u72B6\u6001",prop:"status"},{default:e(()=>[a(z,{modelValue:t(c).status,"onUpdate:modelValue":r[1]||(r[1]=l=>t(c).status=l),class:"!w-240px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u83DC\u5355\u72B6\u6001"},{default:e(()=>[(n(!0),T(E,null,aa(t(va)(t(F).COMMON_STATUS),l=>(n(),i(j,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(S,null,{default:e(()=>[a(o,{onClick:b},{default:e(()=>[a(p,{class:"mr-5px",icon:"ep:search"}),u(" \u641C\u7D22 ")]),_:1}),a(o,{onClick:P},{default:e(()=>[a(p,{class:"mr-5px",icon:"ep:refresh"}),u(" \u91CD\u7F6E ")]),_:1}),m((n(),i(o,{plain:"",type:"primary",onClick:r[2]||(r[2]=l=>C("create"))},{default:e(()=>[a(p,{class:"mr-5px",icon:"ep:plus"}),u(" \u65B0\u589E ")]),_:1})),[[y,["system:menu:create"]]]),a(o,{plain:"",type:"danger",onClick:q},{default:e(()=>[a(p,{class:"mr-5px",icon:"ep:sort"}),u(" \u5C55\u5F00/\u6298\u53E0 ")]),_:1}),a(o,{plain:"",onClick:A},{default:e(()=>[a(p,{class:"mr-5px",icon:"ep:refresh"}),u(" \u5237\u65B0\u83DC\u5355\u7F13\u5B58 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(M,null,{default:e(()=>[t(k)?m((n(),i(I,{key:0,data:t(U),"default-expand-all":t(v),"row-key":"id"},{default:e(()=>[a(s,{"show-overflow-tooltip":!0,label:"\u83DC\u5355\u540D\u79F0",prop:"name",width:"250"}),a(s,{align:"center",label:"\u56FE\u6807",prop:"icon",width:"100"},{default:e(l=>[a(p,{icon:l.row.icon},null,8,["icon"])]),_:1}),a(s,{label:"\u6392\u5E8F",prop:"sort",width:"60"}),a(s,{"show-overflow-tooltip":!0,label:"\u6743\u9650\u6807\u8BC6",prop:"permission"}),a(s,{"show-overflow-tooltip":!0,label:"\u7EC4\u4EF6\u8DEF\u5F84",prop:"component"}),a(s,{"show-overflow-tooltip":!0,label:"\u7EC4\u4EF6\u540D\u79F0",prop:"componentName"}),a(s,{label:"\u72B6\u6001",prop:"status",width:"80"},{default:e(l=>[a(H,{type:t(F).COMMON_STATUS,value:l.row.status},null,8,["type","value"])]),_:1}),a(s,{align:"center",label:"\u64CD\u4F5C"},{default:e(l=>[m((n(),i(o,{link:"",type:"primary",onClick:N=>C("update",l.row.id)},{default:e(()=>[u(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[y,["system:menu:update"]]]),m((n(),i(o,{link:"",type:"primary",onClick:N=>C("create",void 0,l.row.id)},{default:e(()=>[u(" \u65B0\u589E ")]),_:2},1032,["onClick"])),[[y,["system:menu:create"]]]),m((n(),i(o,{link:"",type:"danger",onClick:N=>(async Q=>{try{await h.delConfirm(),await xa(Q),h.success(L("common.delSuccess")),await d()}catch{}})(l.row.id)},{default:e(()=>[u(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[y,["system:menu:delete"]]])]),_:1})]),_:1},8,["data","default-expand-all"])),[[J,t(w)]]):ea("",!0)]),_:1}),a(Oa,{ref_key:"formRef",ref:g,onSuccess:d},null,512)],64)}}})});export{Ta as __tla,G as default};
