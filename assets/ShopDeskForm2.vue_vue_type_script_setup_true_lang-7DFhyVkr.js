import{d as j,k as D,r as u,z as E,o as _,B as v,w as o,g as r,a as l,h as c,A as z,c as B,F as H,j as M,v as R,f as L,M as Y,C as G,D as J,T as K,aT as W,aU as X,I as Z,H as $,L as ee,__tla as le}from"./index-IVPz-ih6.js";import{_ as ae,__tla as te}from"./Dialog.vue_vue_type_style_index_0_lang-DMbm9tVa.js";import{g as re,b as oe,__tla as se}from"./index-DxBIF9Sx.js";import{g as ue,__tla as de}from"./index-Zx5E6hWg.js";import{u as ie,__tla as me}from"./useMessage-DmGM48R-.js";let N,ne=Promise.all([(()=>{try{return le}catch{}})(),(()=>{try{return te}catch{}})(),(()=>{try{return se}catch{}})(),(()=>{try{return de}catch{}})(),(()=>{try{return me}catch{}})()]).then(async()=>{let b;b=L("span",{style:{padding:"0 15px",background:"#E5EAF3"}},"-",-1),N=j({__name:"ShopDeskForm2",emits:["success"],setup(pe,{expose:k,emit:w}){const{t:f}=D(),I=ie(),d=u(!1),h=u(""),i=u(!1),U=u(""),t=u({id:void 0,shopId:void 0,numberPre:void 0,startNumber:void 0,endNumber:void 0,note:void 0,status:void 0}),q=E({shopId:[{required:!0,message:"\u95E8\u5E97\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],numberPre:[{required:!0,message:"\u684C\u53F7\u524D\u7F00\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],startNumber:[{required:!0,message:"\u684C\u53F7\u5F00\u59CB\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],endNumber:[{required:!0,message:"\u684C\u53F7\u7ED3\u675F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u72B6\u6001\uFF1A1=\u542F\u7528\uFF0C2=\u7981\u7528\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),n=u(),y=u([]);k({open:async(s,e)=>{if(d.value=!0,h.value=f("action."+s),U.value=s,C(),P(),e){i.value=!0;try{t.value=await re(e)}finally{i.value=!1}}}});const x=async()=>{if(n&&await n.value.validate()){i.value=!0;try{const s=t.value;await oe(s),I.success(f("common.createSuccess")),d.value=!1,w("success")}finally{i.value=!1}}},P=async()=>{try{const s=await ue();y.value=s}finally{}},C=()=>{var s;t.value={id:void 0,shopId:void 0,shopName:void 0,number:void 0,miniQrcode:void 0,h5Qrcode:void 0,aliQrcode:void 0,note:void 0,orderCount:void 0,costAmount:void 0,lastOrderNo:void 0,lastOrderTime:void 0,lastOrderStatus:void 0,status:1},(s=n.value)==null||s.resetFields()};return(s,e)=>{const F=Y,O=G,m=J,p=K,V=W,A=X,Q=Z,g=$,S=ae,T=ee;return _(),v(S,{title:l(h),modelValue:l(d),"onUpdate:modelValue":e[7]||(e[7]=a=>R(d)?d.value=a:null)},{footer:o(()=>[r(g,{onClick:x,type:"primary",disabled:l(i)},{default:o(()=>[c("\u786E \u5B9A")]),_:1},8,["disabled"]),r(g,{onClick:e[6]||(e[6]=a=>d.value=!1)},{default:o(()=>[c("\u53D6 \u6D88")]),_:1})]),default:o(()=>[z((_(),v(Q,{ref_key:"formRef",ref:n,model:l(t),rules:l(q),"label-width":"100px"},{default:o(()=>[r(m,{label:"\u9009\u62E9\u5E97\u94FA",prop:"shopId"},{default:o(()=>[r(O,{modelValue:l(t).shopId,"onUpdate:modelValue":e[0]||(e[0]=a=>l(t).shopId=a),placeholder:"\u9009\u62E9\u5E97\u94FA"},{default:o(()=>[(_(!0),B(H,null,M(l(y),a=>(_(),v(F,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(m,{label:"\u684C\u53F7\u524D\u7F00",prop:"numberPre"},{default:o(()=>[r(p,{modelValue:l(t).numberPre,"onUpdate:modelValue":e[1]||(e[1]=a=>l(t).numberPre=a),placeholder:"\u6BD4\u5982:Y"},null,8,["modelValue"])]),_:1}),r(m,{label:"\u684C\u53F7\u8303\u56F4",prop:"startNumber"},{default:o(()=>[r(p,{style:{width:"100px"},modelValue:l(t).startNumber,"onUpdate:modelValue":e[2]||(e[2]=a=>l(t).startNumber=a),placeholder:"1"},null,8,["modelValue"]),b,r(p,{style:{width:"100px"},modelValue:l(t).endNumber,"onUpdate:modelValue":e[3]||(e[3]=a=>l(t).endNumber=a),placeholder:"99"},null,8,["modelValue"])]),_:1}),r(m,{label:"\u5907\u6CE8",prop:"note"},{default:o(()=>[r(p,{modelValue:l(t).note,"onUpdate:modelValue":e[4]||(e[4]=a=>l(t).note=a),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),r(m,{label:"\u72B6\u6001",prop:"status"},{default:o(()=>[r(A,{modelValue:l(t).status,"onUpdate:modelValue":e[5]||(e[5]=a=>l(t).status=a)},{default:o(()=>[r(V,{label:1},{default:o(()=>[c("\u542F\u7528")]),_:1}),r(V,{label:0},{default:o(()=>[c("\u7981\u7528")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[T,l(i)]])]),_:1},8,["title","modelValue"])}}})});export{N as _,ne as __tla};
