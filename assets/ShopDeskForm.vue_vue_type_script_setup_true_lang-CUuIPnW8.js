import{d as j,k as D,r,z,o as c,B as p,w as t,g as s,a,h as v,A as B,c as H,F as L,j as M,v as R,M as E,C as P,D as G,T as J,aT as K,aU as W,I as X,H as Y,L as Z,__tla as $}from"./index-IVPz-ih6.js";import{_ as ee,__tla as ae}from"./Dialog.vue_vue_type_style_index_0_lang-DMbm9tVa.js";import{g as le,c as te,u as oe,__tla as se}from"./index-DxBIF9Sx.js";import{g as de,__tla as re}from"./index-Zx5E6hWg.js";import{u as ue,__tla as ie}from"./useMessage-DmGM48R-.js";let k,me=Promise.all([(()=>{try{return $}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return se}catch{}})(),(()=>{try{return re}catch{}})(),(()=>{try{return ie}catch{}})()]).then(async()=>{k=j({__name:"ShopDeskForm",emits:["success"],setup(ne,{expose:w,emit:O}){const{t:_}=D(),f=ue(),u=r(!1),h=r(""),i=r(!1),b=r(""),o=r({id:void 0,shopId:void 0,shopName:void 0,number:void 0,miniQrcode:void 0,h5Qrcode:void 0,aliQrcode:void 0,note:void 0,orderCount:void 0,costAmount:void 0,lastOrderNo:void 0,lastOrderTime:void 0,lastOrderStatus:void 0,status:void 0}),Q=z({shopId:[{required:!0,message:"\u95E8\u5E97\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],number:[{required:!0,message:"\u684C\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u72B6\u6001\uFF1A1=\u542F\u7528\uFF0C2=\u7981\u7528\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),m=r(),y=r([]);w({open:async(d,e)=>{if(u.value=!0,h.value=_("action."+d),b.value=d,N(),U(),e){i.value=!0;try{o.value=await le(e)}finally{i.value=!1}}}});const C=async()=>{if(m&&await m.value.validate()){i.value=!0;try{const d=o.value;b.value==="create"?(await te(d),f.success(_("common.createSuccess"))):(await oe(d),f.success(_("common.updateSuccess"))),u.value=!1,O("success")}finally{i.value=!1}}},U=async()=>{try{const d=await de();y.value=d}finally{}},N=()=>{var d;o.value={id:void 0,shopId:void 0,shopName:void 0,number:void 0,miniQrcode:void 0,h5Qrcode:void 0,aliQrcode:void 0,note:void 0,orderCount:void 0,costAmount:void 0,lastOrderNo:void 0,lastOrderTime:void 0,lastOrderStatus:void 0,status:1},(d=m.value)==null||d.resetFields()};return(d,e)=>{const S=E,T=P,n=G,V=J,g=K,q=W,x=X,I=Y,A=ee,F=Z;return c(),p(A,{title:a(h),modelValue:a(u),"onUpdate:modelValue":e[5]||(e[5]=l=>R(u)?u.value=l:null)},{footer:t(()=>[s(I,{onClick:C,type:"primary",disabled:a(i)},{default:t(()=>[v("\u786E \u5B9A")]),_:1},8,["disabled"]),s(I,{onClick:e[4]||(e[4]=l=>u.value=!1)},{default:t(()=>[v("\u53D6 \u6D88")]),_:1})]),default:t(()=>[B((c(),p(x,{ref_key:"formRef",ref:m,model:a(o),rules:a(Q),"label-width":"100px"},{default:t(()=>[s(n,{label:"\u9009\u62E9\u5E97\u94FA",prop:"shopId"},{default:t(()=>[s(T,{modelValue:a(o).shopId,"onUpdate:modelValue":e[0]||(e[0]=l=>a(o).shopId=l),placeholder:"\u9009\u62E9\u5E97\u94FA"},{default:t(()=>[(c(!0),H(L,null,M(a(y),l=>(c(),p(S,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(n,{label:"\u684C\u53F7",prop:"number"},{default:t(()=>[s(V,{modelValue:a(o).number,"onUpdate:modelValue":e[1]||(e[1]=l=>a(o).number=l),placeholder:"\u8BF7\u8F93\u5165\u684C\u53F7"},null,8,["modelValue"])]),_:1}),s(n,{label:"\u5907\u6CE8",prop:"note"},{default:t(()=>[s(V,{modelValue:a(o).note,"onUpdate:modelValue":e[2]||(e[2]=l=>a(o).note=l),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),s(n,{label:"\u72B6\u6001",prop:"status"},{default:t(()=>[s(q,{modelValue:a(o).status,"onUpdate:modelValue":e[3]||(e[3]=l=>a(o).status=l)},{default:t(()=>[s(g,{label:1},{default:t(()=>[v("\u542F\u7528")]),_:1}),s(g,{label:0},{default:t(()=>[v("\u7981\u7528")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[F,a(i)]])]),_:1},8,["title","modelValue"])}}})});export{k as _,me as __tla};
