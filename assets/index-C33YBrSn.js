import{aQ as ky,d as Nd,r as Ja,dg as Ny,o as Vy,c as Ry,g as ge,w as ve,h as et,t as Xe,a as He,f as Vd,F as zy,q as Oy,v as Ey,co as By,__tla as Gy}from"./index-06lJR0i3.js";import{E as Hy,__tla as Fy}from"./el-card-jxTvgqU7.js";import{E as Wy,a as Zy,__tla as Uy}from"./el-descriptions-item-DrZHM1Ky.js";import{_ as Yy,__tla as Xy}from"./index-BnGiGokx.js";import{by as H,c as cn,aB as ke,J as pt,bz as Pe,O as se,f as tt,j as _e,bA as Gi,bB as Hi,aC as Ne,bd as ne,bC as jy,k as gt,bD as J,bE as Fi,bF as Wi,bG as er,bH as Rd,bI as zd,bJ as Od,bK as Ed,ab as Ve,bL as tr,bM as qy,bN as Ky,I as Bd,ao as Ae,bO as rt,bP as Zi,bQ as nr,bR as Oe,ap as V,an as le,bS as Ui,aq as te,ay as q,bT as Le,au as K,bU as It,bV as ir,aG as je,av as pe,ax as re,as as be,M as Mt,bW as ft,bX as Gd,bY as Yt,bZ as $y,b_ as fe,b$ as qe,c0 as or,c1 as Qy,T as Xt,Z as ye,b as Se,c2 as Yi,c3 as Re,c4 as Jy,c5 as jt,al as Q,c6 as Xi,c7 as ev,c8 as Hd,c9 as Fd,ca as Wd,cb as Bn,cc as Zd,cd as Rt,ce as yt,cf as tv,cg as Gn,W as Ee,am as Te,aw as Fe,ch as ar,ci as rr,v as oe,cj as nv,cl as Hn,cm as ji,cn as st,ar as nt,l as Ud,co as vt,cp as Fn,cq as zt,cr as Wn,cs as iv,ct as ov,cu as pn,cv as Yd,cw as av,cx as We,cy as sr,R as gn,a5 as mt,cz as lr,F as Xd,cA as Zn,cB as Un,cC as qi,cD as Ki,cE as $i,cF as rv,cG as jd,cH as sv,m as qt,cI as qd,cJ as ur,cK as dr,cL as lv,cM as uv,cN as Kd,P as Kt,cO as dv,cP as hv,cQ as $d,Y as Yn,cR as hr,U as Xn,cS as fn,cT as Dt,cU as cv,cV as pv,cW as gv,cX as fv,cY as cr,x as yv,cZ as vv,bo as Qd,S as Jd,c_ as pr,c$ as gr,d0 as mv,d1 as xv,o as lt,z as fr,d2 as eh,d3 as me,d4 as yr,d5 as vr,d6 as mr,d7 as _v,d8 as Be,d9 as bv,da as jn,db as Sv,dc as th,dd as wv,de as nh,df as ih,dg as Qi,dh as Iv,di as yn,dj as oh,dk as ah,dl as Ji,dm as Mv,u as Dv,dn as Cv,dp as Z,aA as Av,dq as qn,dr as Tv,ds as rh,dt as Kn,du as sh,dv as lh,dw as Lv,dx as uh,a7 as Pv,a3 as dh,dy as kv,dz as Nv,dA as Vv,dB as hh,dC as Rv,a8 as zv,dD as Ov,aD as Ct,A as Ev,aF as ch,a as Bv,n as Gv,dE as Hv,dF as Fv,dG as Wv,dH as Zv,dI as Uv,dJ as Yv,aE as At,dK as ph,dL as Xv,dM as gh,dN as jv,dO as fh,dP as qv,dQ as yh,y as Kv,dR as $v,az as Ze,dS as Qv,dT as vh,dU as Jv,dV as em,dW as vn,q as tm,dX as nm,dY as im,dZ as om,a0 as mh,d_ as am,d$ as rm,e0 as sm,aP as xh,aY as xr,e1 as lm,e2 as _h,e3 as um,e4 as dm,e5 as hm,e6 as bh,a4 as $n,e7 as Sh,e8 as cm,e9 as pm,ea as wh,eb as Ih,ec as Qn,ed as eo,ee as _r,ef as gm,eg as Jn,eh as br,ei as fm,h as to,ej as Sr,ek as mn,el as ym,em as vm,en as mm,i as xm,r as _m,eo as no,ep as bm,eq as Sm,er as io,g as wm,es as Im,et as Mm,eu as Mh,ev as ei,ai as Dm,ew as Cm,ex as Am,D as Dh,ey as Tm,ez as Ch,eA as Lm,eB as Pm,eC as km,eD as Nm,eE as Ot,eF as ti,eG as Vm,eH as Ah,ae as Rm,L as zm,eI as Om,eJ as Em,eK as Th,eL as Lh,eM as Ph,eN as Bm,eO as Gm,eP as Hm,eQ as Fm,eR as Wm,eS as oo,eT as Zm,eU as Um,eV as Ym,eW as Xm,eX as jm,eY as qm,eZ as Km,e_ as $m,e$ as Qm,f0 as kh,f1 as wr,f2 as Jm,f3 as e0,f4 as t0,f5 as n0,f6 as Nh,f7 as i0,f8 as ao,f9 as Ir,fa as o0,fb as a0,fc as Mr,fd as r0,bt as s0,bq as l0,bp as u0,br as d0,bv as h0,bs as c0,bu as p0,bl as g0,bm as f0,fe as y0,bk as v0,bj as m0,bi as x0,bn as _0,bw as b0,bx as S0,aU as Vh}from"./installCanvasRenderer-DXygL-WD.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";let Rh,w0=Promise.all([(()=>{try{return Gy}catch{}})(),(()=>{try{return Fy}catch{}})(),(()=>{try{return Uy}catch{}})(),(()=>{try{return Xy}catch{}})()]).then(async()=>{var zh=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return H(t,i),t.prototype.getInitialData=function(e,n){return cn(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,n,o){return o.point(n.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(ke),Oh=function(){},Eh=function(i){function t(e){var n=i.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return H(t,i),t.prototype.getDefaultShape=function(){return new Oh},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,n){var o,a=n.points,r=n.size,s=this.symbolProxy,l=s.shape,u=e.getContext?e.getContext():e,d=u&&r[0]<4,h=this.softClipShape;if(d)this._ctx=u;else{for(this._ctx=null,o=this._off;o<a.length;){var c=a[o++],g=a[o++];isNaN(c)||isNaN(g)||h&&!h.contain(c,g)||(l.x=c-r[0]/2,l.y=g-r[1]/2,l.width=r[0],l.height=r[1],s.buildPath(e,l,!0))}this.incremental&&(this._off=o,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,n=this.shape,o=n.points,a=n.size,r=this._ctx,s=this.softClipShape;if(r){for(e=this._off;e<o.length;){var l=o[e++],u=o[e++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||r.fillRect(l-a[0]/2,u-a[1]/2,a[0],a[1])}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,n){for(var o=this.shape,a=o.points,r=o.size,s=Math.max(r[0],4),l=Math.max(r[1],4),u=a.length/2-1;u>=0;u--){var d=2*u,h=a[d]-s/2,c=a[d+1]-l/2;if(e>=h&&n>=c&&e<=h+s&&n<=c+l)return u}return-1},t.prototype.contain=function(e,n){var o=this.transformCoordToLocal(e,n),a=this.getBoundingRect();return e=o[0],n=o[1],a.contain(e,n)?(this.hoverDataIdx=this.findDataIndex(e,n))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,o=n.points,a=n.size,r=a[0],s=a[1],l=1/0,u=1/0,d=-1/0,h=-1/0,c=0;c<o.length;){var g=o[c++],f=o[c++];l=Math.min(g,l),d=Math.max(g,d),u=Math.min(f,u),h=Math.max(f,h)}e=this._rect=new pt(l-r/2,u-s/2,d-l+r,h-u+s)}return e},t}(Pe),Bh=function(){function i(){this.group=new se}return i.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},i.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var o=2*(n.endIndex-n.startIndex),a=4*n.startIndex*2;e=new Float32Array(e.buffer,a,o)}n.setShape("points",e),n.reset()})},i.prototype.incrementalPrepareUpdate=function(t){this._clear()},i.prototype.incrementalUpdate=function(t,e,n){var o=this._newAdded[0],a=e.getLayout("points"),r=o&&o.shape.points;if(r&&r.length<2e4){var s=r.length,l=new Float32Array(s+a.length);l.set(r),l.set(a,s),o.endIndex=t.end,o.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,e,n)}},i.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},i.prototype._create=function(){var t=new Eh({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},i.prototype._setCommon=function(t,e,n){var o=e.hostModel;n=n||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=tt(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var r=t.shape.size[0]<4;t.useStyle(o.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=_e(t);u.seriesIndex=o.seriesIndex,t.on("mousemove",function(d){u.dataIndex=null;var h=t.hoverDataIdx;h>=0&&(u.dataIndex=h+(t.startIndex||0))})},i.prototype.remove=function(){this._clear()},i.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},i}(),Gh=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.render=function(e,n,o){var a=e.getData();this._updateSymbolDraw(a,e).updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,o){var a=e.getData();this._updateSymbolDraw(a,e).incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,n,o){this._symbolDraw.incrementalUpdate(e,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,o){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var r=Gi("").reset(e,n,o);r.progress&&r.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var n=e.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,n){var o=this._symbolDraw,a=n.pipelineContext.large;return o&&a===this._isLargeDraw||(o&&o.remove(),o=this._symbolDraw=a?new Bh:new Hi,this._isLargeDraw=a,this.group.removeAll()),this.group.add(o.group),o},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(Ne);function Hh(i,t){var e=i.isExpand?i.children:[],n=i.parentNode.children,o=i.hierNode.i?n[i.hierNode.i-1]:null;if(e.length){(function(r){for(var s=r.children,l=s.length,u=0,d=0;--l>=0;){var h=s[l];h.hierNode.prelim+=u,h.hierNode.modifier+=u,d+=h.hierNode.change,u+=h.hierNode.shift+d}})(i);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;o?(i.hierNode.prelim=o.hierNode.prelim+t(i,o),i.hierNode.modifier=i.hierNode.prelim-a):i.hierNode.prelim=a}else o&&(i.hierNode.prelim=o.hierNode.prelim+t(i,o));i.parentNode.hierNode.defaultAncestor=function(r,s,l,u){if(s){for(var d=r,h=r,c=h.parentNode.children[0],g=s,f=d.hierNode.modifier,p=h.hierNode.modifier,y=c.hierNode.modifier,v=g.hierNode.modifier;g=ro(g),h=so(h),g&&h;){d=ro(d),c=so(c),d.hierNode.ancestor=r;var b=g.hierNode.prelim+v-h.hierNode.prelim-p+u(g,h);b>0&&(Zh(Wh(g,r,l),r,b),p+=b,f+=b),v+=g.hierNode.modifier,p+=h.hierNode.modifier,f+=d.hierNode.modifier,y+=c.hierNode.modifier}g&&!ro(d)&&(d.hierNode.thread=g,d.hierNode.modifier+=v-f),h&&!so(c)&&(c.hierNode.thread=h,c.hierNode.modifier+=p-y,l=r)}return l}(i,o,i.parentNode.hierNode.defaultAncestor||n[0],t)}function Fh(i){var t=i.hierNode.prelim+i.parentNode.hierNode.modifier;i.setLayout({x:t},!0),i.hierNode.modifier+=i.parentNode.hierNode.modifier}function Dr(i){return arguments.length?i:Uh}function xn(i,t){return i-=Math.PI/2,{x:t*Math.cos(i),y:t*Math.sin(i)}}function ro(i){var t=i.children;return t.length&&i.isExpand?t[t.length-1]:i.hierNode.thread}function so(i){var t=i.children;return t.length&&i.isExpand?t[0]:i.hierNode.thread}function Wh(i,t,e){return i.hierNode.ancestor.parentNode===t.parentNode?i.hierNode.ancestor:e}function Zh(i,t,e){var n=e/(t.hierNode.i-i.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,i.hierNode.change+=n}function Uh(i,t){return i.parentNode===t.parentNode?1:2}var Yh=function(){return function(){this.parentPoint=[],this.childPoints=[]}}(),Xh=function(i){function t(e){return i.call(this,e)||this}return H(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Yh},t.prototype.buildPath=function(e,n){var o=n.childPoints,a=o.length,r=n.parentPoint,s=o[0],l=o[a-1];if(a===1)return e.moveTo(r[0],r[1]),void e.lineTo(s[0],s[1]);var u=n.orient,d=u==="TB"||u==="BT"?0:1,h=1-d,c=J(n.forkPosition,1),g=[];g[d]=r[d],g[h]=r[h]+(l[h]-r[h])*c,e.moveTo(r[0],r[1]),e.lineTo(g[0],g[1]),e.moveTo(s[0],s[1]),g[d]=s[d],e.lineTo(g[0],g[1]),g[d]=l[d],e.lineTo(g[0],g[1]),e.lineTo(l[0],l[1]);for(var f=1;f<a-1;f++){var p=o[f];e.moveTo(p[0],p[1]),g[d]=p[d],e.lineTo(g[0],g[1])}},t}(Pe),jh=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new se,e}return H(t,i),t.prototype.init=function(e,n){this._controller=new Fi(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,o){var a=e.getData(),r=e.layoutInfo,s=this._mainGroup;e.get("layout")==="radial"?(s.x=r.x+r.width/2,s.y=r.y+r.height/2):(s.x=r.x,s.y=r.y),this._updateViewCoordSys(e,o),this._updateController(e,n,o);var l=this._data;a.diff(l).add(function(u){Cr(a,u)&&Ar(a,u,null,s,e)}).update(function(u,d){var h=l.getItemGraphicEl(d);Cr(a,u)?Ar(a,u,h,s,e):h&&Pr(l,d,h,s,e)}).remove(function(u){var d=l.getItemGraphicEl(u);d&&Pr(l,u,d,s,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(u,d){u.off("click").on("click",function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:d})})}),this._data=a},t.prototype._updateViewCoordSys=function(e,n){var o=e.getData(),a=[];o.each(function(h){var c=o.getItemLayout(h);!c||isNaN(c.x)||isNaN(c.y)||a.push([+c.x,+c.y])});var r=[],s=[];Wi(a,r,s);var l=this._min,u=this._max;s[0]-r[0]==0&&(r[0]=l?l[0]:r[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-r[1]==0&&(r[1]=l?l[1]:r[1]-1,s[1]=u?u[1]:s[1]+1);var d=e.coordinateSystem=new er;d.zoomLimit=e.get("scaleLimit"),d.setBoundingRect(r[0],r[1],s[0]-r[0],s[1]-r[1]),d.setCenter(e.get("center"),n),d.setZoom(e.get("zoom")),this.group.attr({x:d.x,y:d.y,scaleX:d.scaleX,scaleY:d.scaleY}),this._min=r,this._max=s},t.prototype._updateController=function(e,n,o){var a=this,r=this._controller,s=this._controllerHost,l=this.group;r.setPointerChecker(function(u,d,h){var c=l.getBoundingRect();return c.applyTransform(l.transform),c.contain(d,h)&&!Rd(u,o,e)}),r.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",function(u){zd(s,u.dx,u.dy),o.dispatchAction({seriesId:e.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Od(s,u.scale,u.originX,u.originY),o.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(e),o.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var n=e.getData(),o=this._getNodeGlobalScale(e);n.eachItemGraphicEl(function(a,r){a.setSymbolScale(o)})},t.prototype._getNodeGlobalScale=function(e){var n=e.coordinateSystem;if(n.type!=="view")return 1;var o=this._nodeScaleRatio,a=n.scaleX||1;return((n.getZoom()-1)*o+1)/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(Ne);function Cr(i,t){var e=i.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function Ar(i,t,e,n,o){var a=!e,r=i.tree.getNodeByDataIndex(t),s=r.getModel(),l=r.getVisual("style").fill,u=r.isExpand===!1&&r.children.length!==0?l:"#fff",d=i.tree.root,h=r.parentNode===d?r:r.parentNode||r,c=i.getItemGraphicEl(h.dataIndex),g=h.getLayout(),f=c?{x:c.__oldX,y:c.__oldY,rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:g,p=r.getLayout();a?((e=new Ed(i,t,null,{symbolInnerColor:u,useNameLabel:!0})).x=f.x,e.y=f.y):e.updateData(i,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=p.rawX,e.__radialRawY=p.rawY,n.add(e),i.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,Ve(e,{x:p.x,y:p.y},o);var y=e.getSymbolPath();if(o.get("layout")==="radial"){var v=d.children[0],b=v.getLayout(),m=v.children.length,x=void 0,S=void 0;if(p.x===b.x&&r.isExpand===!0&&v.children.length){var _={x:(v.children[0].getLayout().x+v.children[m-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[m-1].getLayout().y)/2};(x=Math.atan2(_.y-b.y,_.x-b.x))<0&&(x=2*Math.PI+x),(S=_.x<b.x)&&(x-=Math.PI)}else(x=Math.atan2(p.y-b.y,p.x-b.x))<0&&(x=2*Math.PI+x),r.children.length===0||r.children.length!==0&&r.isExpand===!1?(S=p.x<b.x)&&(x-=Math.PI):(S=p.x>b.x)||(x-=Math.PI);var w=S?"left":"right",I=s.getModel("label"),M=I.get("rotate"),D=M*(Math.PI/180),A=y.getTextContent();A&&(y.setTextConfig({position:I.get("position")||w,rotation:M==null?-x:D,origin:"center"}),A.setStyle("verticalAlign","middle"))}var C=s.get(["emphasis","focus"]),T=C==="relative"?tr(r.getAncestorsIndices(),r.getDescendantIndices()):C==="ancestor"?r.getAncestorsIndices():C==="descendant"?r.getDescendantIndices():null;T&&(_e(e).focus=T),function(L,R,k,N,P,z,O,B){var G=R.getModel(),W=L.get("edgeShape"),E=L.get("layout"),F=L.getOrient(),U=L.get(["lineStyle","curveness"]),Y=L.get("edgeForkPosition"),j=G.getModel("lineStyle").getLineStyle(),$=N.__edge;if(W==="curve")R.parentNode&&R.parentNode!==k&&($||($=N.__edge=new Bd({shape:lo(E,F,U,P,P)})),Ve($,{shape:lo(E,F,U,z,O)},L));else if(W==="polyline"&&E==="orthogonal"&&R!==k&&R.children&&R.children.length!==0&&R.isExpand===!0){for(var X=R.children,ee=[],ae=0;ae<X.length;ae++){var ze=X[ae].getLayout();ee.push([ze.x,ze.y])}$||($=N.__edge=new Xh({shape:{parentPoint:[O.x,O.y],childPoints:[[O.x,O.y]],orient:F,forkPosition:Y}})),Ve($,{shape:{parentPoint:[O.x,O.y],childPoints:ee}},L)}$&&(W!=="polyline"||R.isExpand)&&($.useStyle(Ae({strokeNoScale:!0,fill:null},j)),rt($,G,"lineStyle"),Zi($),B.add($))}(o,r,d,e,f,g,p,n),e.__edge&&(e.onHoverStateChange=function(L){if(L!=="blur"){var R=r.parentNode&&i.getItemGraphicEl(r.parentNode.dataIndex);R&&R.hoverState===qy||Ky(e.__edge,L)}})}function Tr(i,t,e,n,o){var a=Lr(t.tree.root,i),r=a.source,s=a.sourceLayout,l=t.getItemGraphicEl(i.dataIndex);if(l){var u=t.getItemGraphicEl(r.dataIndex).__edge,d=l.__edge||(r.isExpand===!1||r.children.length===1?u:void 0),h=n.get("edgeShape"),c=n.get("layout"),g=n.get("orient"),f=n.get(["lineStyle","curveness"]);d&&(h==="curve"?nr(d,{shape:lo(c,g,f,s,s),style:{opacity:0}},n,{cb:function(){e.remove(d)},removeOpt:o}):h==="polyline"&&n.get("layout")==="orthogonal"&&nr(d,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},n,{cb:function(){e.remove(d)},removeOpt:o}))}}function Lr(i,t){for(var e,n=t.parentNode===i?t:t.parentNode||t;(e=n.getLayout())==null;)n=n.parentNode===i?n:n.parentNode||n;return{source:n,sourceLayout:e}}function Pr(i,t,e,n,o){var a=i.tree.getNodeByDataIndex(t),r=Lr(i.tree.root,a).sourceLayout,s={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};nr(e,{x:r.x+1,y:r.y+1},o,{cb:function(){n.remove(e),i.setItemGraphicEl(t,null)},removeOpt:s}),e.fadeOut(null,i.hostModel,{fadeLabel:!0,animation:s}),a.children.forEach(function(l){Tr(l,i,n,o,s)}),Tr(a,i,n,o,s)}function lo(i,t,e,n,o){var a,r,s,l,u,d,h,c;if(i==="radial"){u=n.rawX,h=n.rawY,d=o.rawX,c=o.rawY;var g=xn(u,h),f=xn(u,h+(c-h)*e),p=xn(d,c+(h-c)*e),y=xn(d,c);return{x1:g.x||0,y1:g.y||0,x2:y.x||0,y2:y.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:p.x||0,cpy2:p.y||0}}return u=n.x,h=n.y,d=o.x,c=o.y,t!=="LR"&&t!=="RL"||(a=u+(d-u)*e,r=h,s=d+(u-d)*e,l=c),t!=="TB"&&t!=="BT"||(a=u,r=h+(c-h)*e,s=d,l=c+(h-c)*e),{x1:u,y1:h,x2:d,y2:c,cpx1:a,cpy1:r,cpx2:s,cpy2:l}}var Ke=Oe();function kr(i){var t=i.mainData,e=i.datas;e||(e={main:t},i.datasAttr={main:"data"}),i.datas=i.mainData=null,Nr(t,e,i),V(e,function(n){V(t.TRANSFERABLE_METHODS,function(o){n.wrapMethod(o,le(qh,i))})}),t.wrapMethod("cloneShallow",le($h,i)),V(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,le(Kh,i))}),Ui(e[t.dataType]===t)}function qh(i,t){if(Ke(n=this).mainData===n){var e=te({},Ke(this).datas);e[this.dataType]=t,Nr(t,e,i)}else uo(t,this.dataType,Ke(this).mainData,i);var n;return t}function Kh(i,t){return i.struct&&i.struct.update(),t}function $h(i,t){return V(Ke(t).datas,function(e,n){e!==t&&uo(e.cloneShallow(),n,t,i)}),t}function Qh(i){var t=Ke(this).mainData;return i==null||t==null?t:Ke(t).datas[i]}function Jh(){var i=Ke(this).mainData;return i==null?[{data:i}]:q(Le(Ke(i).datas),function(t){return{type:t,data:Ke(i).datas[t]}})}function Nr(i,t,e){Ke(i).datas={},V(t,function(n,o){uo(n,o,i,e)})}function uo(i,t,e,n){Ke(e).datas[t]=i,Ke(i).mainData=e,i.dataType=t,n.struct&&(i[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=i),i.getLinkedData=Qh,i.getLinkedDataAll=Jh}var ec=function(){function i(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return i.prototype.isRemoved=function(){return this.dataIndex<0},i.prototype.eachNode=function(t,e,n){pe(t)&&(n=e,e=t,t=null),re(t=t||{})&&(t={order:t});var o,a=t.order||"preorder",r=this[t.attr||"children"];a==="preorder"&&(o=e.call(n,this));for(var s=0;!o&&s<r.length;s++)r[s].eachNode(t,e,n);a==="postorder"&&e.call(n,this)},i.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var o=this.children[n];o.updateDepthAndHeight(t+1),o.height>e&&(e=o.height)}this.height=e+1},i.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,o=n.length;e<o;e++){var a=n[e].getNodeById(t);if(a)return a}},i.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,o=n.length;e<o;e++){var a=n[e].contains(t);if(a)return a}},i.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},i.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},i.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},i.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},i.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},i.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},i.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},i.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},i.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},i.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},i.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},i.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},i.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},i.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},i}(),ho=function(){function i(t){this.type="tree",this._nodes=[],this.hostModel=t}return i.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},i.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},i.prototype.getNodeById=function(t){return this.root.getNodeById(t)},i.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,o=e.length;n<o;n++)e[n].dataIndex=-1;for(n=0,o=t.count();n<o;n++)e[t.getRawIndex(n)].dataIndex=n},i.prototype.clearLayouts=function(){this.data.clearItemLayouts()},i.createTree=function(t,e,n){var o=new i(e),a=[],r=1;(function u(d,h){var c=d.value;r=Math.max(r,K(c)?c.length:1),a.push(d);var g=new ec(It(d.name,""),o);h?function(y,v){var b=v.children;y.parentNode!==v&&(b.push(y),y.parentNode=v)}(g,h):o.root=g,o._nodes.push(g);var f=d.children;if(f)for(var p=0;p<f.length;p++)u(f[p],g)})(t),o.root.updateDepthAndHeight(0);var s=ir(a,{coordDimensions:["value"],dimensionsCount:r}).dimensions,l=new je(s,e);return l.initData(a),n&&n(l),kr({mainData:l,struct:o,structAttr:"tree"}),o.update(),o},i}();function _n(i,t,e){if(i&&be(t,i.type)>=0){var n=e.getData().tree.root,o=i.targetNode;if(re(o)&&(o=n.getNodeById(o)),o&&n.contains(o))return{node:o};var a=i.targetNodeId;if(a!=null&&(o=n.getNodeById(a)))return{node:o}}}function Vr(i){for(var t=[];i;)(i=i.parentNode)&&t.push(i);return t.reverse()}function co(i,t){var e=Vr(i);return be(e,t)>=0}function ni(i,t){for(var e=[];i;){var n=i.dataIndex;e.push({name:i.name,dataIndex:n,value:t.getRawValue(n)}),i=i.parentNode}return e.reverse(),e}var tc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return H(t,i),t.prototype.getInitialData=function(e){var n={name:e.name,children:e.data},o=e.leaves||{},a=new Mt(o,this,this.ecModel),r=ho.createTree(n,this,function(u){u.wrapMethod("getItemModel",function(d,h){var c=r.getNodeByDataIndex(h);return c&&c.children.length&&c.isExpand||(d.parentModel=a),d})}),s=0;r.eachNode("preorder",function(u){u.depth>s&&(s=u.depth)});var l=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return r.root.eachNode("preorder",function(u){var d=u.hostTree.data.getRawDataItem(u.dataIndex);u.isExpand=d&&d.collapsed!=null?!d.collapsed:u.depth<=l}),r.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,n,o){for(var a=this.getData().tree,r=a.root.children[0],s=a.getNodeByDataIndex(e),l=s.getValue(),u=s.name;s&&s!==r;)u=s.parentNode.name+"."+u,s=s.parentNode;return ft("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=ni(o,this),n.collapsed=!o.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(ke);function bn(i,t){for(var e,n=[i];e=n.pop();)if(t(e),e.isExpand){var o=e.children;if(o.length)for(var a=o.length-1;a>=0;a--)n.push(o[a])}}function nc(i,t){i.eachSeriesByType("tree",function(e){(function(n,o){var a=function(_,w){return gt(_.getBoxLayoutParams(),{width:w.getWidth(),height:w.getHeight()})}(n,o);n.layoutInfo=a;var r=n.get("layout"),s=0,l=0,u=null;r==="radial"?(s=2*Math.PI,l=Math.min(a.height,a.width)/2,u=Dr(function(_,w){return(_.parentNode===w.parentNode?1:2)/_.depth})):(s=a.width,l=a.height,u=Dr());var d=n.getData().tree.root,h=d.children[0];if(h){(function(_){var w=_;w.hierNode={defaultAncestor:null,ancestor:w,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var I,M,D=[w];I=D.pop();)if(M=I.children,I.isExpand&&M.length)for(var A=M.length-1;A>=0;A--){var C=M[A];C.hierNode={defaultAncestor:null,ancestor:C,prelim:0,modifier:0,change:0,shift:0,i:A,thread:null},D.push(C)}})(d),function(_,w,I){for(var M,D=[_],A=[];M=D.pop();)if(A.push(M),M.isExpand){var C=M.children;if(C.length)for(var T=0;T<C.length;T++)D.push(C[T])}for(;M=A.pop();)w(M,I)}(h,Hh,u),d.hierNode.modifier=-h.hierNode.prelim,bn(h,Fh);var c=h,g=h,f=h;bn(h,function(_){var w=_.getLayout().x;w<c.getLayout().x&&(c=_),w>g.getLayout().x&&(g=_),_.depth>f.depth&&(f=_)});var p=c===g?1:u(c,g)/2,y=p-c.getLayout().x,v=0,b=0,m=0,x=0;if(r==="radial")v=s/(g.getLayout().x+p+y),b=l/(f.depth-1||1),bn(h,function(_){m=(_.getLayout().x+y)*v,x=(_.depth-1)*b;var w=xn(m,x);_.setLayout({x:w.x,y:w.y,rawX:m,rawY:x},!0)});else{var S=n.getOrient();S==="RL"||S==="LR"?(b=l/(g.getLayout().x+p+y),v=s/(f.depth-1||1),bn(h,function(_){x=(_.getLayout().x+y)*b,m=S==="LR"?(_.depth-1)*v:s-(_.depth-1)*v,_.setLayout({x:m,y:x},!0)})):S!=="TB"&&S!=="BT"||(v=s/(g.getLayout().x+p+y),b=l/(f.depth-1||1),bn(h,function(_){m=(_.getLayout().x+y)*v,x=S==="TB"?(_.depth-1)*b:l-(_.depth-1)*b,_.setLayout({x:m,y:x},!0)}))}}})(e,t)})}function ic(i){i.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(n){var o=n.getModel().getModel("itemStyle").getItemStyle(),a=e.ensureUniqueItemVisual(n.dataIndex,"style");te(a,o)})})}var Rr=["treemapZoomToNode","treemapRender","treemapMove"];function zr(i){var t=i.getData().tree,e={};t.eachNode(function(n){for(var o=n;o&&o.depth>1;)o=o.parentNode;var a=$y(i.ecModel,o.name||o.dataIndex+"",e);n.setVisual("decal",a)})}var oc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return H(t,i),t.prototype.getInitialData=function(e,n){var o={name:e.name,children:e.data};Or(o);var a=e.levels||[],r=this.designatedVisualItemStyle={},s=new Mt({itemStyle:r},this,n);a=e.levels=function(d,h){var c,g,f=qe(h.get("color")),p=qe(h.get(["aria","decal","decals"]));if(f){d=d||[],V(d,function(v){var b=new Mt(v),m=b.get("color"),x=b.get("decal");(b.get(["itemStyle","color"])||m&&m!=="none")&&(c=!0),(b.get(["itemStyle","decal"])||x&&x!=="none")&&(g=!0)});var y=d[0]||(d[0]={});return c||(y.color=f.slice()),!g&&p&&(y.decal=p.slice()),d}}(a,n);var l=q(a||[],function(d){return new Mt(d,s,n)},this),u=ho.createTree(o,this,function(d){d.wrapMethod("getItemModel",function(h,c){var g=u.getNodeByDataIndex(c),f=g?l[g.depth]:null;return h.parentModel=f||s,h})});return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,n,o){var a=this.getData(),r=this.getRawValue(e),s=a.getName(e);return ft("nameValue",{name:s,value:r})},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=ni(o,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},te(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var n=this._idIndexMap;n||(n=this._idIndexMap=fe(),this._idIndexMapCount=0);var o=n.get(e);return o==null&&n.set(e,o=this._idIndexMapCount++),o},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;e&&(e===n||n.contains(e))||(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){zr(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(ke);function Or(i){var t=0;V(i.children,function(n){Or(n);var o=n.value;K(o)&&(o=o[0]),t+=o});var e=i.value;K(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),K(i.value)?i.value[0]=e:i.value=e}var ac=function(){function i(t){this.group=new se,t.add(this.group)}return i.prototype.render=function(t,e,n,o){var a=t.getModel("breadcrumb"),r=this.group;if(r.removeAll(),a.get("show")&&n){var s=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=s.getModel("textStyle"),d=l.getModel(["itemStyle","textStyle"]),h={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,h,u),this._renderContent(t,h,s,l,u,d,o),or(r,h.pos,h.box)}},i.prototype._prepare=function(t,e,n){for(var o=t;o;o=o.parentNode){var a=It(o.getModel().get("name"),""),r=n.getTextRect(a),s=Math.max(r.width+16,e.emptyItemWidth);e.totalWidth+=s+8,e.renderList.push({node:o,text:a,width:s})}},i.prototype._renderContent=function(t,e,n,o,a,r,s){for(var l=0,u=e.emptyItemWidth,d=t.get(["breadcrumb","height"]),h=Qy(e.pos,e.box),c=e.totalWidth,g=e.renderList,f=o.getModel("itemStyle").getItemStyle(),p=g.length-1;p>=0;p--){var y=g[p],v=y.node,b=y.width,m=y.text;c>h.width&&(c-=b-u,b=u,m=null);var x=new Xt({shape:{points:rc(l,0,b,d,p===g.length-1,p===0)},style:Ae(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new ye({style:Se(a,{text:m})}),textConfig:{position:"inside"},z2:1e4*Yi,onclick:le(s,v)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=Se(r,{text:m}),x.ensureState("emphasis").style=f,Re(x,o.get("focus"),o.get("blurScope"),o.get("disabled")),this.group.add(x),sc(x,t,v),l+=b+8}},i.prototype.remove=function(){this.group.removeAll()},i}();function rc(i,t,e,n,o,a){var r=[[o?i:i-5,t],[i+e,t],[i+e,t+n],[o?i:i-5,t+n]];return!a&&r.splice(2,0,[i+e+5,t+n/2]),!o&&r.push([i,t+n/2]),r}function sc(i,t,e){_e(i).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&ni(e,t)}}var lc=function(){function i(){this._storage=[],this._elExistsMap={}}return i.prototype.add=function(t,e,n,o,a){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:o,easing:a}),!0)},i.prototype.finished=function(t){return this._finishedCallback=t,this},i.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},o=0,a=this._storage.length;o<a;o++){var r=this._storage[o];r.el.animateTo(r.target,{duration:r.duration,delay:r.delay,easing:r.easing,setToFinal:!0,done:n,aborted:n})}return this},i}(),po=se,Er=Ee,Br="label",Gr="upperLabel",uc=10*Yi,dc=2*Yi,hc=3*Yi,Et=Jy([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Hr=function(i){var t=Et(i);return t.stroke=t.fill=t.lineWidth=null,t},ii=Oe(),cc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return H(t,i),t.prototype.render=function(e,n,o,a){var r=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(be(r,e)<0)){this.seriesModel=e,this.api=o,this.ecModel=n;var s=_n(a,["treemapZoomToNode","treemapRootToNode"],e),l=a&&a.type,u=e.layoutInfo,d=!this._oldTree,h=this._storage,c=l==="treemapRootToNode"&&s&&h?{rootNodeGroup:h.nodeGroup[s.node.getRawIndex()],direction:a.direction}:null,g=this._giveContainerGroup(u),f=e.get("animation"),p=this._doRender(g,e,c);!f||d||l&&l!=="treemapZoomToNode"&&l!=="treemapRootToNode"?p.renderFinally():this._doAnimation(g,p,e,c),this._resetController(o),this._renderBreadcrumb(e,o,s)}},t.prototype._giveContainerGroup=function(e){var n=this._containerGroup;return n||(n=this._containerGroup=new po,this._initEvents(n),this.group.add(n)),n.x=e.x,n.y=e.y,n},t.prototype._doRender=function(e,n,o){var a=n.getData().tree,r=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},u=this._storage,d=[];function h(p,y,v,b){return function(m,x,S,_,w,I,M,D,A,C){if(!M)return;var T=M.getLayout(),L=m.getData(),R=M.getModel();if(L.setItemGraphicEl(M.dataIndex,null),!T||!T.isInView)return;var k=T.width,N=T.height,P=T.borderWidth,z=T.invisible,O=M.getRawIndex(),B=D&&D.getRawIndex(),G=M.viewChildren,W=T.upperHeight,E=G&&G.length,F=R.getModel("itemStyle"),U=R.getModel(["emphasis","itemStyle"]),Y=R.getModel(["blur","itemStyle"]),j=R.getModel(["select","itemStyle"]),$=F.get("borderRadius")||0,X=Qa("nodeGroup",po);if(!X)return;if(A.add(X),X.x=T.x||0,X.y=T.y||0,X.markRedraw(),ii(X).nodeWidth=k,ii(X).nodeHeight=N,T.isAboveViewRoot)return X;var ee=Qa("background",Er,C,dc);ee&&Me(X,ee,E&&T.upperLabelHeight);var ae=R.getModel("emphasis"),ze=ae.get("focus"),it=ae.get("blurScope"),Ue=ae.get("disabled"),he=ze==="ancestor"?M.getAncestorsIndices():ze==="descendant"?M.getDescendantIndices():ze;if(E)Wd(X)&&Bn(X,!1),ee&&(Bn(ee,!Ue),L.setItemGraphicEl(M.dataIndex,ee),Zd(ee,he,it));else{var ue=Qa("content",Er,C,hc);ue&&ot(X,ue),ee.disableMorphing=!0,ee&&Wd(ee)&&Bn(ee,!1),Bn(X,!Ue),L.setItemGraphicEl(M.dataIndex,X),Zd(X,he,it)}return X;function Me(de,ie,De){var ce=_e(ie);if(ce.dataIndex=M.dataIndex,ce.seriesIndex=m.seriesIndex,ie.setShape({x:0,y:0,width:k,height:N,r:$}),z)St(ie);else{ie.invisible=!1;var Ce=M.getVisual("style"),Ge=Ce.stroke,Ye=Hr(F);Ye.fill=Ge;var xe=Et(U);xe.fill=U.get("borderColor");var at=Et(Y);at.fill=Y.get("borderColor");var wt=Et(j);if(wt.fill=j.get("borderColor"),De){var hn=k-2*P;Td(ie,Ge,Ce.opacity,{x:P,y:0,width:hn,height:W})}else ie.removeTextContent();ie.setStyle(Ye),ie.ensureState("emphasis").style=xe,ie.ensureState("blur").style=at,ie.ensureState("select").style=wt,Zi(ie)}de.add(ie)}function ot(de,ie){var De=_e(ie);De.dataIndex=M.dataIndex,De.seriesIndex=m.seriesIndex;var ce=Math.max(k-2*P,0),Ce=Math.max(N-2*P,0);if(ie.culling=!0,ie.setShape({x:P,y:P,width:ce,height:Ce,r:$}),z)St(ie);else{ie.invisible=!1;var Ge=M.getVisual("style"),Ye=Ge.fill,xe=Hr(F);xe.fill=Ye,xe.decal=Ge.decal;var at=Et(U),wt=Et(Y),hn=Et(j);Td(ie,Ye,Ge.opacity,null),ie.setStyle(xe),ie.ensureState("emphasis").style=at,ie.ensureState("blur").style=wt,ie.ensureState("select").style=hn,Zi(ie)}de.add(ie)}function St(de){!de.invisible&&I.push(de)}function Td(de,ie,De,ce){var Ce=R.getModel(ce?Gr:Br),Ge=It(R.get("name"),null),Ye=Ce.getShallow("show");Rt(de,yt(R,ce?Gr:Br),{defaultText:Ye?Ge:null,inheritColor:ie,defaultOpacity:De,labelFetcher:m,labelDataIndex:M.dataIndex});var xe=de.getTextContent();if(xe){var at=xe.style,wt=tv(at.padding||0);ce&&(de.setTextConfig({layoutRect:ce}),xe.disableLabelLayout=!0),xe.beforeUpdate=function(){var Pd=Math.max((ce?ce.width:de.shape.width)-wt[1]-wt[3],0),kd=Math.max((ce?ce.height:de.shape.height)-wt[0]-wt[2],0);at.width===Pd&&at.height===kd||xe.setStyle({width:Pd,height:kd})},at.truncateMinChar=2,at.lineOverflow="truncate",Ld(at,ce,T);var hn=xe.getState("emphasis");Ld(hn?hn.style:null,ce,T)}}function Ld(de,ie,De){var ce=de?de.text:null;if(!ie&&De.isLeafRoot&&ce!=null){var Ce=m.get("drillDownIcon",!0);de.text=Ce?Ce+" "+ce:ce}}function Qa(de,ie,De,ce){var Ce=B!=null&&S[de][B],Ge=w[de];return Ce?(S[de][B]=null,Ly(Ge,Ce)):z||((Ce=new ie)instanceof Gn&&(Ce.z2=function(Ye,xe){return Ye*uc+xe}(De,ce)),Py(Ge,Ce)),x[de][O]=Ce}function Ly(de,ie){var De=de[O]={};ie instanceof po?(De.oldX=ie.x,De.oldY=ie.y):De.oldShape=te({},ie.shape)}function Py(de,ie){var De=de[O]={},ce=M.parentNode,Ce=ie instanceof se;if(ce&&(!_||_.direction==="drillDown")){var Ge=0,Ye=0,xe=w.background[ce.getRawIndex()];!_&&xe&&xe.oldShape&&(Ge=xe.oldShape.width,Ye=xe.oldShape.height),Ce?(De.oldX=0,De.oldY=Ye):De.oldShape={x:Ge,y:Ye,width:0,height:0}}De.fadein=!Ce}}(n,l,u,o,s,d,p,y,v,b)}(function p(y,v,b,m,x){m?(v=y,V(y,function(w,I){!w.isRemoved()&&_(I,I)})):new jt(v,y,S,S).add(_).update(_).remove(le(_,null)).execute();function S(w){return w.getId()}function _(w,I){var M=w!=null?y[w]:null,D=I!=null?v[I]:null,A=h(M,D,b,x);A&&p(M&&M.viewChildren||[],D&&D.viewChildren||[],A,m,x+1)}})(a.root?[a.root]:[],r&&r.root?[r.root]:[],e,a===r||!r,0);var c=function(p){var y={nodeGroup:[],background:[],content:[]};return p&&V(p,function(v,b){var m=y[b];V(v,function(x){x&&(m.push(x),ii(x).willDelete=!0)})}),y}(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var g=this.seriesModel.layoutInfo,f=a.root.getLayout();f.width===g.width&&f.height===g.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:c,renderFinally:function(){V(c,function(p){V(p,function(y){y.parent&&y.parent.remove(y)})}),V(d,function(p){p.invisible=!0,p.dirty()})}}},t.prototype._doAnimation=function(e,n,o,a){var r=o.get("animationDurationUpdate"),s=o.get("animationEasing"),l=(pe(r)?0:r)||0,u=(pe(s)?null:s)||"cubicOut",d=new lc;V(n.willDeleteEls,function(h,c){V(h,function(g,f){if(!g.invisible){var p,y=g.parent,v=ii(y);if(a&&a.direction==="drillDown")p=y===a.rootNodeGroup?{shape:{x:0,y:0,width:v.nodeWidth,height:v.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var b=0,m=0;v.willDelete||(b=v.nodeWidth/2,m=v.nodeHeight/2),p=c==="nodeGroup"?{x:b,y:m,style:{opacity:0}}:{shape:{x:b,y:m,width:0,height:0},style:{opacity:0}}}p&&d.add(g,p,l,0,u)}})}),V(this._storage,function(h,c){V(h,function(g,f){var p=n.lastsForAnimation[c][f],y={};p&&(g instanceof se?p.oldX!=null&&(y.x=g.x,y.y=g.y,g.x=p.oldX,g.y=p.oldY):(p.oldShape&&(y.shape=te({},g.shape),g.setShape(p.oldShape)),p.fadein?(g.setStyle("opacity",0),y.style={opacity:1}):g.style.opacity!==1&&(y.style={opacity:1})),d.add(g,y,l,0,u))})},this),this._state="animating",d.finished(Q(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(e){var n=this._controller,o=this._controllerHost;o||(this._controllerHost={target:this.group},o=this._controllerHost),n||((n=this._controller=new Fi(e.getZr())).enable(this.seriesModel.get("roam")),o.zoomLimit=this.seriesModel.get("scaleLimit"),o.zoom=this.seriesModel.get("zoom"),n.on("pan",Q(this._onPan,this)),n.on("zoom",Q(this._onZoom,this)));var a=new pt(0,0,e.getWidth(),e.getHeight());n.setPointerChecker(function(r,s,l){return a.contain(s,l)})},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e.dx,y:o.y+e.dy,width:o.width,height:o.height}})}},t.prototype._onZoom=function(e){var n=e.originX,o=e.originY,a=e.scale;if(this._state!=="animating"){var r=this.seriesModel.getData().tree.root;if(!r)return;var s=r.getLayout();if(!s)return;var l,u=new pt(s.x,s.y,s.width,s.height),d=this._controllerHost;l=d.zoomLimit;var h=d.zoom=d.zoom||1;if(h*=a,l){var c=l.min||0,g=l.max||1/0;h=Math.max(Math.min(g,h),c)}var f=h/d.zoom;d.zoom=h;var p=this.seriesModel.layoutInfo;n-=p.x,o-=p.y;var y=Fd();Xi(y,y,[-n,-o]),ev(y,y,[f,f]),Xi(y,y,[n,o]),u.applyTransform(y),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:u.x,y:u.y,width:u.width,height:u.height}})}},t.prototype._initEvents=function(e){var n=this;e.on("click",function(o){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var r=n.findTarget(o.offsetX,o.offsetY);if(r){var s=r.node;if(s.getLayout().isLeafRoot)n._rootToNode(r);else if(a==="zoomToNode")n._zoomToNode(r);else if(a==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),d=l.get("target",!0)||"blank";u&&Hd(u,d)}}}}},this)},t.prototype._renderBreadcrumb=function(e,n,o){var a=this;o||(o=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2))||(o={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new ac(this.group))).render(e,n,o.node,function(r){a._state!=="animating"&&(co(e.getViewRoot(),r)?a._rootToNode({node:r}):a._zoomToNode({node:r}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,n){var o;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(a){var r=this._storage.background[a.getRawIndex()];if(r){var s=r.transformCoordToLocal(e,n),l=r.shape;if(!(l.x<=s[0]&&s[0]<=l.x+l.width&&l.y<=s[1]&&s[1]<=l.y+l.height))return!1;o={node:a,offsetX:s[0],offsetY:s[1]}}},this),o},t.type="treemap",t}(Ne),Sn=V,pc=Fe,oi=-1,we=function(){function i(t){var e=t.mappingMethod,n=t.type,o=this.option=Te(t);this.type=n,this.mappingMethod=e,this._normalizeData=gc[e];var a=i.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],e==="piecewise"?(go(o),function(r){var s=r.pieceList;r.hasSpecialVisual=!1,V(s,function(l,u){l.originIndex=u,l.visual!=null&&(r.hasSpecialVisual=!0)})}(o)):e==="category"?o.categories?function(r){var s=r.categories,l=r.categoryMap={},u=r.visual;if(Sn(s,function(c,g){l[c]=g}),!K(u)){var d=[];Fe(u)?Sn(u,function(c,g){var f=l[g];d[f??oi]=c}):d[oi]=u,u=Wr(r,d)}for(var h=s.length-1;h>=0;h--)u[h]==null&&(delete l[s[h]],s.pop())}(o):go(o,!0):(Ui(e!=="linear"||o.dataExtent),go(o))}return i.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},i.prototype.getNormalizer=function(){return Q(this._normalizeData,this)},i.listVisualTypes=function(){return Le(i.visualHandlers)},i.isValidType=function(t){return i.visualHandlers.hasOwnProperty(t)},i.eachVisual=function(t,e,n){Fe(t)?V(t,e,n):e.call(n,t)},i.mapVisual=function(t,e,n){var o,a=K(t)?[]:Fe(t)?{}:(o=!0,null);return i.eachVisual(t,function(r,s){var l=e.call(n,r,s);o?a=l:a[s]=l}),a},i.retrieveVisuals=function(t){var e,n={};return t&&Sn(i.visualHandlers,function(o,a){t.hasOwnProperty(a)&&(n[a]=t[a],e=!0)}),e?n:null},i.prepareVisualTypes=function(t){if(K(t))t=t.slice();else{if(!pc(t))return[];var e=[];Sn(t,function(n,o){e.push(o)}),t=e}return t.sort(function(n,o){return o==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},i.dependsOn=function(t,e){return e==="color"?!(!t||t.indexOf(e)!==0):t===e},i.findPieceIndex=function(t,e,n){for(var o,a=1/0,r=0,s=e.length;r<s;r++){var l=e[r].value;if(l!=null){if(l===t||re(l)&&l===t+"")return r;n&&c(l,r)}}for(r=0,s=e.length;r<s;r++){var u=e[r],d=u.interval,h=u.close;if(d){if(d[0]===-1/0){if(ri(h[1],t,d[1]))return r}else if(d[1]===1/0){if(ri(h[0],d[0],t))return r}else if(ri(h[0],d[0],t)&&ri(h[1],t,d[1]))return r;n&&c(d[0],r),n&&c(d[1],r)}}if(n)return t===1/0?e.length-1:t===-1/0?0:o;function c(g,f){var p=Math.abs(g-t);p<a&&(a=p,o=f)}},i.visualHandlers={color:{applyVisual:wn("color"),getColorMapper:function(){var t=this.option;return Q(t.mappingMethod==="category"?function(e,n){return!n&&(e=this._normalizeData(e)),In.call(this,e)}:function(e,n,o){var a=!!o;return!n&&(e=this._normalizeData(e)),o=ar(e,t.parsedVisual,o),a?o:rr(o,"rgba")},this)},_normalizedToVisual:{linear:function(t){return rr(ar(t,this.option.parsedVisual),"rgba")},category:In,piecewise:function(t,e){var n=yo.call(this,e);return n==null&&(n=rr(ar(t,this.option.parsedVisual),"rgba")),n},fixed:Bt}},colorHue:ai(function(t,e){return Hn(t,e)}),colorSaturation:ai(function(t,e){return Hn(t,null,e)}),colorLightness:ai(function(t,e){return Hn(t,null,null,e)}),colorAlpha:ai(function(t,e){return ji(t,e)}),decal:{applyVisual:wn("decal"),_normalizedToVisual:{linear:null,category:In,piecewise:null,fixed:null}},opacity:{applyVisual:wn("opacity"),_normalizedToVisual:fo([0,1])},liftZ:{applyVisual:wn("liftZ"),_normalizedToVisual:{linear:Bt,category:Bt,piecewise:Bt,fixed:Bt}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:Fr,category:In,piecewise:function(t,e){var n=yo.call(this,e);return n==null&&(n=Fr.call(this,t)),n},fixed:Bt}},symbolSize:{applyVisual:wn("symbolSize"),_normalizedToVisual:fo([0,1])}},i}();function go(i,t){var e=i.visual,n=[];Fe(e)?Sn(e,function(o){n.push(o)}):e!=null&&n.push(e),t||n.length!==1||{color:1,symbol:1}.hasOwnProperty(i.type)||(n[1]=n[0]),Wr(i,n)}function ai(i){return{applyVisual:function(t,e,n){var o=this.mapValueToVisual(t);n("color",i(e("color"),o))},_normalizedToVisual:fo([0,1])}}function Fr(i){var t=this.option.visual;return t[Math.round(oe(i,[0,1],[0,t.length-1],!0))]||{}}function wn(i){return function(t,e,n){n(i,this.mapValueToVisual(t))}}function In(i){var t=this.option.visual;return t[this.option.loop&&i!==oi?i%t.length:i]}function Bt(){return this.option.visual[0]}function fo(i){return{linear:function(t){return oe(t,i,this.option.visual,!0)},category:In,piecewise:function(t,e){var n=yo.call(this,e);return n==null&&(n=oe(t,i,this.option.visual,!0)),n},fixed:Bt}}function yo(i){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var n=e[we.findPieceIndex(i,e)];if(n&&n.visual)return n.visual[this.type]}}function Wr(i,t){return i.visual=t,i.type==="color"&&(i.parsedVisual=q(t,function(e){var n=nv(e);return n||[0,0,0,1]})),t}var gc={linear:function(i){return oe(i,this.option.dataExtent,[0,1],!0)},piecewise:function(i){var t=this.option.pieceList,e=we.findPieceIndex(i,t,!0);if(e!=null)return oe(e,[0,t.length-1],[0,1],!0)},category:function(i){var t=this.option.categories?this.option.categoryMap[i]:i;return t??oi},fixed:Yt};function ri(i,t,e){return i?t<=e:t<e}var Zr=Oe();const fc={seriesType:"treemap",reset:function(i){var t=i.getData().tree.root;t.isRemoved()||Ur(t,{},i.getViewRoot().getAncestors(),i)}};function Ur(i,t,e,n){var o=i.getModel(),a=i.getLayout(),r=i.hostTree.data;if(a&&!a.invisible&&a.isInView){var s,l=o.getModel("itemStyle"),u=function(p,y,v){var b=te({},y),m=v.designatedVisualItemStyle;return V(["color","colorAlpha","colorSaturation"],function(x){m[x]=y[x];var S=p.get(x);m[x]=null,S!=null&&(b[x]=S)}),b}(l,t,n),d=r.ensureUniqueItemVisual(i.dataIndex,"style"),h=l.get("borderColor"),c=l.get("borderColorSaturation");c!=null&&(h=function(p,y){return y!=null?Hn(y,null,null,p):null}(c,s=Yr(u))),d.stroke=h;var g=i.viewChildren;if(g&&g.length){var f=function(p,y,v,b,m,x){if(!(!x||!x.length)){var S=mo(y,"color")||m.color!=null&&m.color!=="none"&&(mo(y,"colorAlpha")||mo(y,"colorSaturation"));if(S){var _=y.get("visualMin"),w=y.get("visualMax"),I=v.dataExtent.slice();_!=null&&_<I[0]&&(I[0]=_),w!=null&&w>I[1]&&(I[1]=w);var M=y.get("colorMappingBy"),D={type:S.name,dataExtent:I,visual:S.range};D.type!=="color"||M!=="index"&&M!=="id"?D.mappingMethod="linear":(D.mappingMethod="category",D.loop=!0);var A=new we(D);return Zr(A).drColorMappingBy=M,A}}}(0,o,a,0,u,g);V(g,function(p,y){if(p.depth>=e.length||p===e[p.depth]){var v=function(b,m,x,S,_,w){var I=te({},m);if(_){var M=_.type,D=M==="color"&&Zr(_).drColorMappingBy,A=D==="index"?S:D==="id"?w.mapIdToIndex(x.getId()):x.getValue(b.get("visualDimension"));I[M]=_.mapValueToVisual(A)}return I}(o,u,p,y,f,n);Ur(p,v,e,n)}})}else s=Yr(u),d.fill=s}}function Yr(i){var t=vo(i,"color");if(t){var e=vo(i,"colorAlpha"),n=vo(i,"colorSaturation");return n&&(t=Hn(t,null,null,n)),e&&(t=ji(t,e)),t}}function vo(i,t){var e=i[t];if(e!=null&&e!=="none")return e}function mo(i,t){var e=i.get(t);return K(e)&&e.length?{name:t,range:e}:null}var Mn=Math.max,si=Math.min,Xr=st,xo=V,jr=["itemStyle","borderWidth"],yc=["itemStyle","gapWidth"],vc=["upperLabel","show"],mc=["upperLabel","height"];const xc={seriesType:"treemap",reset:function(i,t,e,n){var o=e.getWidth(),a=e.getHeight(),r=i.option,s=gt(i.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),l=r.size||[],u=J(Xr(s.width,l[0]),o),d=J(Xr(s.height,l[1]),a),h=n&&n.type,c=_n(n,["treemapZoomToNode","treemapRootToNode"],i),g=h==="treemapRender"||h==="treemapMove"?n.rootRect:null,f=i.getViewRoot(),p=Vr(f);if(h!=="treemapMove"){var y=h==="treemapZoomToNode"?function(S,_,w,I,M){var D,A=(_||{}).node,C=[I,M];if(!A||A===w)return C;for(var T=I*M,L=T*S.option.zoomToNodeRatio;D=A.parentNode;){for(var R=0,k=D.children,N=0,P=k.length;N<P;N++)R+=k[N].getValue();var z=A.getValue();if(z===0)return C;L*=R/z;var O=D.getModel(),B=O.get(jr);(L+=4*B*B+(3*B+Math.max(B,Qr(O)))*Math.pow(L,.5))>Ud&&(L=Ud),A=D}L<T&&(L=T);var G=Math.pow(L/T,.5);return[I*G,M*G]}(i,c,f,u,d):g?[g.width,g.height]:[u,d],v=r.sort;v&&v!=="asc"&&v!=="desc"&&(v="desc");var b={squareRatio:r.squareRatio,sort:v,leafDepth:r.leafDepth};f.hostTree.clearLayouts();var m={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};f.setLayout(m),qr(f,b,!1,0),m=f.getLayout(),xo(p,function(S,_){var w=(p[_+1]||f).getValue();S.setLayout(te({dataExtent:[w,w],borderWidth:0,upperHeight:0},m))})}var x=i.getData().tree.root;x.setLayout(function(S,_,w){if(_)return{x:_.x,y:_.y};var I={x:0,y:0};if(!w)return I;var M=w.node,D=M.getLayout();if(!D)return I;for(var A=[D.width/2,D.height/2],C=M;C;){var T=C.getLayout();A[0]+=T.x,A[1]+=T.y,C=C.parentNode}return{x:S.width/2-A[0],y:S.height/2-A[1]}}(s,g,c),!0),i.setLayoutInfo(s),$r(x,new pt(-s.x,-s.y,o,a),p,f,0)}};function qr(i,t,e,n){var o,a;if(!i.isRemoved()){var r=i.getLayout();o=r.width,a=r.height;var s=i.getModel(),l=s.get(jr),u=s.get(yc)/2,d=Qr(s),h=Math.max(l,d),c=l-u,g=h-u;i.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:d},!0);var f=(o=Mn(o-2*c,0))*(a=Mn(a-c-g,0)),p=function(M,D,A,C,T,L){var R=M.children||[],k=C.sort;k!=="asc"&&k!=="desc"&&(k=null);var N=C.leafDepth!=null&&C.leafDepth<=L;if(T&&!N)return M.viewChildren=[];R=nt(R,function(G){return!G.isRemoved()}),function(G,W){W&&G.sort(function(E,F){var U=W==="asc"?E.getValue()-F.getValue():F.getValue()-E.getValue();return U===0?W==="asc"?E.dataIndex-F.dataIndex:F.dataIndex-E.dataIndex:U})}(R,k);var P=function(G,W,E){for(var F=0,U=0,Y=W.length;U<Y;U++)F+=W[U].getValue();var j,$=G.get("visualDimension");return W&&W.length?$==="value"&&E?(j=[W[W.length-1].getValue(),W[0].getValue()],E==="asc"&&j.reverse()):(j=[1/0,-1/0],xo(W,function(X){var ee=X.getValue($);ee<j[0]&&(j[0]=ee),ee>j[1]&&(j[1]=ee)})):j=[NaN,NaN],{sum:F,dataExtent:j}}(D,R,k);if(P.sum===0)return M.viewChildren=[];if(P.sum=function(G,W,E,F,U){if(!F)return E;for(var Y=G.get("visibleMin"),j=U.length,$=j,X=j-1;X>=0;X--){var ee=U[F==="asc"?j-X-1:X].getValue();ee/E*W<Y&&($=X,E-=ee)}return F==="asc"?U.splice(0,j-$):U.splice($,j-$),E}(D,A,P.sum,k,R),P.sum===0)return M.viewChildren=[];for(var z=0,O=R.length;z<O;z++){var B=R[z].getValue()/P.sum*A;R[z].setLayout({area:B})}return N&&(R.length&&M.setLayout({isLeafRoot:!0},!0),R.length=0),M.viewChildren=R,M.setLayout({dataExtent:P.dataExtent},!0),R}(i,s,f,t,e,n);if(p.length){var y={x:c,y:g,width:o,height:a},v=si(o,a),b=1/0,m=[];m.area=0;for(var x=0,S=p.length;x<S;){var _=p[x];m.push(_),m.area+=_.getLayout().area;var w=_c(m,v,t.squareRatio);w<=b?(x++,b=w):(m.area-=m.pop().getLayout().area,Kr(m,v,y,u,!1),v=si(y.width,y.height),m.length=m.area=0,b=1/0)}if(m.length&&Kr(m,v,y,u,!0),!e){var I=s.get("childrenVisibleMin");I!=null&&f<I&&(e=!0)}for(x=0,S=p.length;x<S;x++)qr(p[x],t,e,n+1)}}}function _c(i,t,e){for(var n=0,o=1/0,a=0,r=void 0,s=i.length;a<s;a++)(r=i[a].getLayout().area)&&(r<o&&(o=r),r>n&&(n=r));var l=i.area*i.area,u=t*t*e;return l?Mn(u*n/l,l/(u*o)):1/0}function Kr(i,t,e,n,o){var a=t===e.width?0:1,r=1-a,s=["x","y"],l=["width","height"],u=e[s[a]],d=t?i.area/t:0;(o||d>e[l[r]])&&(d=e[l[r]]);for(var h=0,c=i.length;h<c;h++){var g=i[h],f={},p=d?g.getLayout().area/d:0,y=f[l[r]]=Mn(d-2*n,0),v=e[s[a]]+e[l[a]]-u,b=h===c-1||v<p?v:p,m=f[l[a]]=Mn(b-2*n,0);f[s[r]]=e[s[r]]+si(n,y/2),f[s[a]]=u+si(n,m/2),u+=b,g.setLayout(f,!0)}e[s[r]]+=d,e[l[r]]-=d}function $r(i,t,e,n,o){var a=i.getLayout(),r=e[o],s=r&&r===i;if(!(r&&!s||o===e.length&&i!==n)){i.setLayout({isInView:!0,invisible:!s&&!t.intersect(a),isAboveViewRoot:s},!0);var l=new pt(t.x-a.x,t.y-a.y,t.width,t.height);xo(i.viewChildren||[],function(u){$r(u,l,e,n,o+1)})}}function Qr(i){return i.get(vc)?i.get(mc):0}function bc(i){var t=i.findComponents({mainType:"legend"});t&&t.length&&i.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),o=e.getGraph().data,a=n.mapArray(n.getName);o.filterSelf(function(r){var s=o.getItemModel(r).getShallow("category");if(s!=null){vt(s)&&(s=a[s]);for(var l=0;l<t.length;l++)if(!t[l].isSelected(s))return!1}return!0})})}function Sc(i){var t={};i.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),o=e.getData(),a={};n.each(function(r){var s=n.getName(r);a["ec-"+s]=r;var l=n.getItemModel(r),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(s,t)),n.setItemVisual(r,"style",u);for(var d=["symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++){var c=l.getShallow(d[h],!0);c!=null&&n.setItemVisual(r,d[h],c)}}),n.count()&&o.each(function(r){var s=o.getItemModel(r).getShallow("category");if(s!=null){re(s)&&(s=a["ec-"+s]);var l=n.getItemVisual(s,"style"),u=o.ensureUniqueItemVisual(r,"style");te(u,l);for(var d=["symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++)o.setItemVisual(r,d[h],n.getItemVisual(s,d[h]))}})})}function li(i){return i instanceof Array||(i=[i,i]),i}function wc(i){i.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),o=li(t.get("edgeSymbol")),a=li(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",o&&o[0]),n.setVisual("toSymbol",o&&o[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(r){var s=n.getItemModel(r),l=e.getEdgeByIndex(r),u=li(s.getShallow("symbol",!0)),d=li(s.getShallow("symbolSize",!0)),h=s.getModel("lineStyle").getLineStyle(),c=n.ensureUniqueItemVisual(r,"style");switch(te(c,h),c.stroke){case"source":var g=l.node1.getVisual("style");c.stroke=g&&g.fill;break;case"target":g=l.node2.getVisual("style"),c.stroke=g&&g.fill}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),d[0]&&l.setVisual("fromSymbolSize",d[0]),d[1]&&l.setVisual("toSymbolSize",d[1])})})}var _o="-->",ui=function(i){return i.get("autoCurveness")||null},Jr=function(i,t){var e=ui(i),n=20,o=[];if(vt(e))n=e;else if(K(e))return void(i.__curvenessList=e);t>n&&(n=t);var a=n%2?n+2:n+3;o=[];for(var r=0;r<a;r++)o.push((r%2?r+1:r)/10*(r%2?-1:1));i.__curvenessList=o},Dn=function(i,t,e){var n=[i.id,i.dataIndex].join("."),o=[t.id,t.dataIndex].join(".");return[e.uid,n,o].join(_o)},es=function(i){var t=i.split(_o);return[t[0],t[2],t[1]].join(_o)},Ic=function(i,t){var e=Dn(i.node1,i.node2,t);return t.__edgeMap[e]},Mc=function(i,t){return bo(Dn(i.node1,i.node2,t),t)+bo(Dn(i.node2,i.node1,t),t)},bo=function(i,t){var e=t.__edgeMap;return e[i]?e[i].length:0};function So(i,t,e,n){var o=ui(t),a=K(o);if(!o)return null;var r=Ic(i,t);if(!r)return null;for(var s=-1,l=0;l<r.length;l++)if(r[l]===e){s=l;break}var u=Mc(i,t);Jr(t,u),i.lineStyle=i.lineStyle||{};var d=Dn(i.node1,i.node2,t),h=t.__curvenessList,c=a||u%2?0:1;if(r.isForward)return h[c+s];var g=es(d),f=bo(g,t),p=h[s+f+c];return n?a?o&&o[0]===0?(f+c)%2?p:-p:((f%2?0:1)+c)%2?p:-p:(f+c)%2?p:-p:h[s+f+c]}function ts(i){var t=i.coordinateSystem;if(!t||t.type==="view"){var e=i.getGraph();e.eachNode(function(n){var o=n.getModel();n.setLayout([+o.get("x"),+o.get("y")])}),wo(e,i)}}function wo(i,t){i.eachEdge(function(e,n){var o=Fn(e.getModel().get(["lineStyle","curveness"]),-So(e,t,n,!0),0),a=zt(e.node1.getLayout()),r=zt(e.node2.getLayout()),s=[a,r];+o&&s.push([(a[0]+r[0])/2-(a[1]-r[1])*o,(a[1]+r[1])/2-(r[0]-a[0])*o]),e.setLayout(s)})}function Dc(i,t){i.eachSeriesByType("graph",function(e){var n=e.get("layout"),o=e.coordinateSystem;if(o&&o.type!=="view"){var a=e.getData(),r=[];V(o.dimensions,function(c){r=r.concat(a.mapDimensionsAll(c))});for(var s=0;s<a.count();s++){for(var l=[],u=!1,d=0;d<r.length;d++){var h=a.get(r[d],s);isNaN(h)||(u=!0),l.push(h)}u?a.setItemLayout(s,o.dataToPoint(l)):a.setItemLayout(s,[NaN,NaN])}wo(a.graph,e)}else n&&n!=="none"||ts(e)})}function Cn(i){var t=i.coordinateSystem;if(t.type!=="view")return 1;var e=i.option.nodeScaleRatio,n=t.scaleX;return((t.getZoom()-1)*e+1)/n}function An(i){var t=i.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var ns=Math.PI,Io=[];function Mo(i,t,e,n){var o=i.coordinateSystem;if(!o||o.type==="view"){var a=o.getBoundingRect(),r=i.getData(),s=r.graph,l=a.width/2+a.x,u=a.height/2+a.y,d=Math.min(a.width,a.height)/2,h=r.count();if(r.setLayout({cx:l,cy:u}),h){if(e){var c=o.pointToData(n),g=c[0],f=c[1],p=[g-l,f-u];Wn(p,p),iv(p,p,d),e.setLayout([l+p[0],u+p[1]],!0),is(e,i.get(["circular","rotateLabel"]),l,u)}Cc[t](i,s,r,d,l,u,h),s.eachEdge(function(y,v){var b,m=Fn(y.getModel().get(["lineStyle","curveness"]),So(y,i,v),0),x=zt(y.node1.getLayout()),S=zt(y.node2.getLayout()),_=(x[0]+S[0])/2,w=(x[1]+S[1])/2;+m&&(b=[l*(m*=3)+_*(1-m),u*m+w*(1-m)]),y.setLayout([x,S,b])})}}}var Cc={value:function(i,t,e,n,o,a,r){var s=0,l=e.getSum("value"),u=2*Math.PI/(l||r);t.eachNode(function(d){var h=d.getValue("value"),c=u*(l?h:1)/2;s+=c,d.setLayout([n*Math.cos(s)+o,n*Math.sin(s)+a]),s+=c})},symbolSize:function(i,t,e,n,o,a,r){var s=0;Io.length=r;var l=Cn(i);t.eachNode(function(h){var c=An(h);isNaN(c)&&(c=2),c<0&&(c=0),c*=l;var g=Math.asin(c/2/n);isNaN(g)&&(g=ns/2),Io[h.dataIndex]=g,s+=2*g});var u=(2*ns-s)/r/2,d=0;t.eachNode(function(h){var c=u+Io[h.dataIndex];d+=c,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([n*Math.cos(d)+o,n*Math.sin(d)+a]),d+=c})}};function is(i,t,e,n){var o=i.getGraphicEl();if(o){var a=i.getModel().get(["label","rotate"])||0,r=o.getSymbolPath();if(t){var s=i.getLayout(),l=Math.atan2(s[1]-n,s[0]-e);l<0&&(l=2*Math.PI+l);var u=s[0]<e;u&&(l-=Math.PI);var d=u?"left":"right";r.setTextConfig({rotation:-l,position:d,origin:"center"});var h=r.ensureState("emphasis");te(h.textConfig||(h.textConfig={}),{position:d})}else r.setTextConfig({rotation:a*=Math.PI/180})}}function Ac(i){i.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&Mo(t,"symbolSize")})}var $t=sr;function Tc(i){i.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||e.type==="view")if(t.get("layout")==="force"){var n=t.preservedPoints||{},o=t.getGraph(),a=o.data,r=o.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?a.each(function(m){var x=a.getId(m);a.setItemLayout(m,n[x]||[NaN,NaN])}):l&&l!=="none"?l==="circular"&&Mo(t,"value"):ts(t);var u=a.getDataExtent("value"),d=r.getDataExtent("value"),h=s.get("repulsion"),c=s.get("edgeLength"),g=K(h)?h:[h,h],f=K(c)?c:[c,c];f=[f[1],f[0]];var p=a.mapArray("value",function(m,x){var S=a.getItemLayout(x),_=oe(m,u,g);return isNaN(_)&&(_=(g[0]+g[1])/2),{w:_,rep:_,fixed:a.getItemModel(x).get("fixed"),p:!S||isNaN(S[0])||isNaN(S[1])?null:S}}),y=r.mapArray("value",function(m,x){var S=o.getEdgeByIndex(x),_=oe(m,d,f);isNaN(_)&&(_=(f[0]+f[1])/2);var w=S.getModel(),I=Fn(S.getModel().get(["lineStyle","curveness"]),-So(S,t,x,!0),0);return{n1:p[S.node1.dataIndex],n2:p[S.node2.dataIndex],d:_,curveness:I,ignoreForceLayout:w.get("ignoreForceLayout")}}),v=e.getBoundingRect(),b=function(m,x,S){for(var _=m,w=x,I=S.rect,M=I.width,D=I.height,A=[I.x+M/2,I.y+D/2],C=S.gravity==null?.1:S.gravity,T=0;T<_.length;T++){var L=_[T];L.p||(L.p=ov(M*(Math.random()-.5)+A[0],D*(Math.random()-.5)+A[1])),L.pp=zt(L.p),L.edges=null}var R,k,N=S.friction==null?.6:S.friction,P=N;return{warmUp:function(){P=.8*N},setFixed:function(z){_[z].fixed=!0},setUnfixed:function(z){_[z].fixed=!1},beforeStep:function(z){R=z},afterStep:function(z){k=z},step:function(z){R&&R(_,w);for(var O=[],B=_.length,G=0;G<w.length;G++){var W=w[G];if(!W.ignoreForceLayout){var E=W.n1,F=W.n2;pn(O,F.p,E.p);var U=Yd(O)-W.d,Y=F.w/(E.w+F.w);isNaN(Y)&&(Y=0),Wn(O,O),!E.fixed&&$t(E.p,E.p,O,Y*U*P),!F.fixed&&$t(F.p,F.p,O,-(1-Y)*U*P)}}for(G=0;G<B;G++)(ee=_[G]).fixed||(pn(O,A,ee.p),$t(ee.p,ee.p,O,C*P));for(G=0;G<B;G++){E=_[G];for(var j=G+1;j<B;j++){F=_[j],pn(O,F.p,E.p),(U=Yd(O))===0&&(av(O,Math.random()-.5,Math.random()-.5),U=1);var $=(E.rep+F.rep)/U/U;!E.fixed&&$t(E.pp,E.pp,O,$),!F.fixed&&$t(F.pp,F.pp,O,-$)}}var X=[];for(G=0;G<B;G++){var ee;(ee=_[G]).fixed||(pn(X,ee.p,ee.pp),$t(ee.p,ee.p,X,P),We(ee.pp,ee.p))}var ae=(P*=.992)<.01;k&&k(_,w,ae),z&&z(ae)}}}(p,y,{rect:v,gravity:s.get("gravity"),friction:s.get("friction")});b.beforeStep(function(m,x){for(var S=0,_=m.length;S<_;S++)m[S].fixed&&We(m[S].p,o.getNodeByIndex(S).getLayout())}),b.afterStep(function(m,x,S){for(var _=0,w=m.length;_<w;_++)m[_].fixed||o.getNodeByIndex(_).setLayout(m[_].p),n[a.getId(_)]=m[_].p;for(_=0,w=x.length;_<w;_++){var I=x[_],M=o.getEdgeByIndex(_),D=I.n1.p,A=I.n2.p,C=M.getLayout();(C=C?C.slice():[])[0]=C[0]||[],C[1]=C[1]||[],We(C[0],D),We(C[1],A),+I.curveness&&(C[2]=[(D[0]+A[0])/2-(D[1]-A[1])*I.curveness,(D[1]+A[1])/2-(A[0]-D[0])*I.curveness]),M.setLayout(C)}}),t.forceLayout=b,t.preservedPoints=n,b.step()}else t.forceLayout=null})}function Lc(i,t){var e=[];return i.eachSeriesByType("graph",function(n){var o=n.get("coordinateSystem");if(!o||o==="view"){var a=n.getData(),r=a.mapArray(function(y){var v=a.getItemModel(y);return[+v.get("x"),+v.get("y")]}),s=[],l=[];Wi(r,s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),d=function(y,v,b){var m=te(y.getBoxLayoutParams(),{aspect:b});return gt(m,{width:v.getWidth(),height:v.getHeight()})}(n,t,u);isNaN(u)&&(s=[d.x,d.y],l=[d.x+d.width,d.y+d.height]);var h=l[0]-s[0],c=l[1]-s[1],g=d.width,f=d.height,p=n.coordinateSystem=new er;p.zoomLimit=n.get("scaleLimit"),p.setBoundingRect(s[0],s[1],h,c),p.setViewRect(d.x,d.y,g,f),p.setCenter(n.get("center"),t),p.setZoom(n.get("zoom")),e.push(p)}}),e}var os=gn.prototype,Do=Bd.prototype,as=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function Co(i){return isNaN(+i.cpx1)||isNaN(+i.cpy1)}(function(i){function t(){return i!==null&&i.apply(this,arguments)||this}H(t,i)})(as);var Pc=function(i){function t(e){var n=i.call(this,e)||this;return n.type="ec-line",n}return H(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new as},t.prototype.buildPath=function(e,n){Co(n)?os.buildPath.call(this,e,n):Do.buildPath.call(this,e,n)},t.prototype.pointAt=function(e){return Co(this.shape)?os.pointAt.call(this,e):Do.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var n=this.shape,o=Co(n)?[n.x2-n.x1,n.y2-n.y1]:Do.tangentAt.call(this,e);return Wn(o,o)},t}(Pe),Ao=["fromSymbol","toSymbol"];function rs(i){return"_"+i+"Type"}function ss(i,t,e){var n=t.getItemVisual(e,i);if(!n||n==="none")return n;var o=t.getItemVisual(e,i+"Size"),a=t.getItemVisual(e,i+"Rotate"),r=t.getItemVisual(e,i+"Offset"),s=t.getItemVisual(e,i+"KeepAspect"),l=qi(o);return n+l+Ki(r||0,l)+(a||"")+(s||"")}function ls(i,t,e){var n=t.getItemVisual(e,i);if(n&&n!=="none"){var o=t.getItemVisual(e,i+"Size"),a=t.getItemVisual(e,i+"Rotate"),r=t.getItemVisual(e,i+"Offset"),s=t.getItemVisual(e,i+"KeepAspect"),l=qi(o),u=Ki(r||0,l),d=tt(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return d.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,d.name=i,d}}function To(i,t){i.x1=t[0][0],i.y1=t[0][1],i.x2=t[1][0],i.y2=t[1][1],i.percent=1;var e=t[2];e?(i.cpx1=e[0],i.cpy1=e[1]):(i.cpx1=NaN,i.cpy1=NaN)}var Lo=function(i){function t(e,n,o){var a=i.call(this)||this;return a._createLine(e,n,o),a}return H(t,i),t.prototype._createLine=function(e,n,o){var a=e.hostModel,r=function(s){var l=new Pc({name:"line",subPixelOptimize:!0});return To(l.shape,s),l}(e.getItemLayout(n));r.shape.percent=0,mt(r,{shape:{percent:1}},a,n),this.add(r),V(Ao,function(s){var l=ls(s,e,n);this.add(l),this[rs(s)]=ss(s,e,n)},this),this._updateCommonStl(e,n,o)},t.prototype.updateData=function(e,n,o){var a=e.hostModel,r=this.childOfName("line"),s=e.getItemLayout(n),l={shape:{}};To(l.shape,s),Ve(r,l,a,n),V(Ao,function(u){var d=ss(u,e,n),h=rs(u);if(this[h]!==d){this.remove(this.childOfName(u));var c=ls(u,e,n);this.add(c)}this[h]=d},this),this._updateCommonStl(e,n,o)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,n,o){var a=e.hostModel,r=this.childOfName("line"),s=o&&o.emphasisLineStyle,l=o&&o.blurLineStyle,u=o&&o.selectLineStyle,d=o&&o.labelStatesModels,h=o&&o.emphasisDisabled,c=o&&o.focus,g=o&&o.blurScope;if(!o||e.hasItemOption){var f=e.getItemModel(n),p=f.getModel("emphasis");s=p.getModel("lineStyle").getLineStyle(),l=f.getModel(["blur","lineStyle"]).getLineStyle(),u=f.getModel(["select","lineStyle"]).getLineStyle(),h=p.get("disabled"),c=p.get("focus"),g=p.get("blurScope"),d=yt(f)}var y=e.getItemVisual(n,"style"),v=y.stroke;r.useStyle(y),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=s,r.ensureState("blur").style=l,r.ensureState("select").style=u,V(Ao,function(_){var w=this.childOfName(_);if(w){w.setColor(v),w.style.opacity=y.opacity;for(var I=0;I<lr.length;I++){var M=lr[I],D=r.getState(M);if(D){var A=D.style||{},C=w.ensureState(M),T=C.style||(C.style={});A.stroke!=null&&(T[w.__isEmptyBrush?"stroke":"fill"]=A.stroke),A.opacity!=null&&(T.opacity=A.opacity)}}w.markRedraw()}},this);var b=a.getRawValue(n);Rt(this,d,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(_,w){return a.getFormattedLabel(_,w,e.dataType)}},inheritColor:v||"#000",defaultOpacity:y.opacity,defaultText:(b==null?e.getName(n):isFinite(b)?Xd(b):b)+""});var m=this.getTextContent();if(m){var x=d.normal;m.__align=m.style.align,m.__verticalAlign=m.style.verticalAlign,m.__position=x.get("position")||"middle";var S=x.get("distance");K(S)||(S=[S,S]),m.__labelDistance=S}this.setTextConfig({position:null,local:!0,inside:!1}),Re(this,c,g,h)},t.prototype.highlight=function(){Zn(this)},t.prototype.downplay=function(){Un(this)},t.prototype.updateLayout=function(e,n){this.setLinePoints(e.getItemLayout(n))},t.prototype.setLinePoints=function(e){var n=this.childOfName("line");To(n.shape,e),n.dirty()},t.prototype.beforeUpdate=function(){var e=this,n=e.childOfName("fromSymbol"),o=e.childOfName("toSymbol"),a=e.getTextContent();if(n||o||a&&!a.ignore){for(var r=1,s=this.parent;s;)s.scaleX&&(r/=s.scaleX),s=s.parent;var l=e.childOfName("line");if(this.__dirty||l.__dirty){var u=l.shape.percent,d=l.pointAt(0),h=l.pointAt(u),c=pn([],h,d);if(Wn(c,c),n&&(n.setPosition(d),M(n,0),n.scaleX=n.scaleY=r*u,n.markRedraw()),o&&(o.setPosition(h),M(o,1),o.scaleX=o.scaleY=r*u,o.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var g=void 0,f=void 0,p=a.__labelDistance,y=p[0]*r,v=p[1]*r,b=u/2,m=l.tangentAt(b),x=[m[1],-m[0]],S=l.pointAt(b);x[1]>0&&(x[0]=-x[0],x[1]=-x[1]);var _=m[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var w=-Math.atan2(m[1],m[0]);h[0]<d[0]&&(w=Math.PI+w),a.rotation=w}var I=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":I=-v,f="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":I=v,f="top";break;default:I=0,f="middle"}switch(a.__position){case"end":a.x=c[0]*y+h[0],a.y=c[1]*v+h[1],g=c[0]>.8?"left":c[0]<-.8?"right":"center",f=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":a.x=-c[0]*y+d[0],a.y=-c[1]*v+d[1],g=c[0]>.8?"right":c[0]<-.8?"left":"center",f=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=y*_+d[0],a.y=d[1]+I,g=m[0]<0?"right":"left",a.originX=-y*_,a.originY=-I;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=S[0],a.y=S[1]+I,g="center",a.originY=-I;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-y*_+h[0],a.y=h[1]+I,g=m[0]>=0?"right":"left",a.originX=y*_,a.originY=-I}a.scaleX=a.scaleY=r,a.setStyle({verticalAlign:a.__verticalAlign||f,align:a.__align||g})}}}function M(D,A){var C=D.__specifiedRotation;if(C==null){var T=l.tangentAt(A);D.attr("rotation",(A===1?-1:1)*Math.PI/2-Math.atan2(T[1],T[0]))}else D.attr("rotation",C)}},t}(se),Po=function(){function i(t){this.group=new se,this._LineCtor=t||Lo}return i.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,o=n.group,a=n._lineData;n._lineData=t,a||o.removeAll();var r=us(t);t.diff(a).add(function(s){e._doAdd(t,s,r)}).update(function(s,l){e._doUpdate(a,t,l,s,r)}).remove(function(s){o.remove(a.getItemGraphicEl(s))}).execute()},i.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},i.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=us(t),this._lineData=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(t,e){function n(r){r.isGroup||function(s){return s.animators&&s.animators.length>0}(r)||(r.incremental=!0,r.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var o=t.start;o<t.end;o++)if(ko(e.getItemLayout(o))){var a=new this._LineCtor(e,o,this._seriesScope);a.traverse(n),this.group.add(a),e.setItemGraphicEl(o,a),this._progressiveEls.push(a)}},i.prototype.remove=function(){this.group.removeAll()},i.prototype.eachRendered=function(t){$i(this._progressiveEls||this.group,t)},i.prototype._doAdd=function(t,e,n){if(ko(t.getItemLayout(e))){var o=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,o),this.group.add(o)}},i.prototype._doUpdate=function(t,e,n,o,a){var r=t.getItemGraphicEl(n);ko(e.getItemLayout(o))?(r?r.updateData(e,o,a):r=new this._LineCtor(e,o,a),e.setItemGraphicEl(o,r),this.group.add(r)):this.group.remove(r)},i}();function us(i){var t=i.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:yt(t)}}function ds(i){return isNaN(i[0])||isNaN(i[1])}function ko(i){return i&&!ds(i[0])&&!ds(i[1])}var No=[],Vo=[],Ro=[],Qt=jd,zo=sv,hs=Math.abs;function cs(i,t,e){for(var n,o=i[0],a=i[1],r=i[2],s=1/0,l=e*e,u=.1,d=.1;d<=.9;d+=.1)No[0]=Qt(o[0],a[0],r[0],d),No[1]=Qt(o[1],a[1],r[1],d),(g=hs(zo(No,t)-l))<s&&(s=g,n=d);for(var h=0;h<32;h++){var c=n+u;Vo[0]=Qt(o[0],a[0],r[0],n),Vo[1]=Qt(o[1],a[1],r[1],n),Ro[0]=Qt(o[0],a[0],r[0],c),Ro[1]=Qt(o[1],a[1],r[1],c);var g=zo(Vo,t)-l;if(hs(g)<.01)break;var f=zo(Ro,t)-l;u/=2,g<0?f>=0?n+=u:n-=u:f>=0?n-=u:n+=u}return n}function Oo(i,t){var e=[],n=rv,o=[[],[],[]],a=[[],[]],r=[];t/=2,i.eachEdge(function(s,l){var u=s.getLayout(),d=s.getVisual("fromSymbol"),h=s.getVisual("toSymbol");u.__original||(u.__original=[zt(u[0]),zt(u[1])],u[2]&&u.__original.push(zt(u[2])));var c=u.__original;if(u[2]!=null){if(We(o[0],c[0]),We(o[1],c[2]),We(o[2],c[1]),d&&d!=="none"){var g=An(s.node1),f=cs(o,c[0],g*t);n(o[0][0],o[1][0],o[2][0],f,e),o[0][0]=e[3],o[1][0]=e[4],n(o[0][1],o[1][1],o[2][1],f,e),o[0][1]=e[3],o[1][1]=e[4]}h&&h!=="none"&&(g=An(s.node2),f=cs(o,c[1],g*t),n(o[0][0],o[1][0],o[2][0],f,e),o[1][0]=e[1],o[2][0]=e[2],n(o[0][1],o[1][1],o[2][1],f,e),o[1][1]=e[1],o[2][1]=e[2]),We(u[0],o[0]),We(u[1],o[2]),We(u[2],o[1])}else We(a[0],c[0]),We(a[1],c[1]),pn(r,a[1],a[0]),Wn(r,r),d&&d!=="none"&&(g=An(s.node1),sr(a[0],a[0],r,g*t)),h&&h!=="none"&&(g=An(s.node2),sr(a[1],a[1],r,-g*t)),We(u[0],a[0]),We(u[1],a[1])})}function ps(i){return i.type==="view"}var kc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.init=function(e,n){var o=new Hi,a=new Po,r=this.group;this._controller=new Fi(n.getZr()),this._controllerHost={target:r},r.add(o.group),r.add(a.group),this._symbolDraw=o,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(e,n,o){var a=this,r=e.coordinateSystem;this._model=e;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(ps(r)){var d={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?u.attr(d):Ve(u,d,e)}Oo(e.getGraph(),Cn(e));var h=e.getData();s.updateData(h);var c=e.getEdgeData();l.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,n,o),clearTimeout(this._layoutTimeout);var g=e.forceLayout,f=e.get(["force","layoutAnimation"]);g&&this._startForceLayoutIteration(g,f);var p=e.get("layout");h.graph.eachNode(function(m){var x=m.dataIndex,S=m.getGraphicEl(),_=m.getModel();if(S){S.off("drag").off("dragend");var w=_.get("draggable");w&&S.on("drag",function(I){switch(p){case"force":g.warmUp(),!a._layouting&&a._startForceLayoutIteration(g,f),g.setFixed(x),h.setItemLayout(x,[S.x,S.y]);break;case"circular":h.setItemLayout(x,[S.x,S.y]),m.setLayout({fixed:!0},!0),Mo(e,"symbolSize",m,[I.offsetX,I.offsetY]),a.updateLayout(e);break;default:h.setItemLayout(x,[S.x,S.y]),wo(e.getGraph(),e),a.updateLayout(e)}}).on("dragend",function(){g&&g.setUnfixed(x)}),S.setDraggable(w,!!_.get("cursor")),_.get(["emphasis","focus"])==="adjacency"&&(_e(S).focus=m.getAdjacentDataIndices())}}),h.graph.eachEdge(function(m){var x=m.getGraphicEl(),S=m.getModel().get(["emphasis","focus"]);x&&S==="adjacency"&&(_e(x).focus={edge:[m.dataIndex],node:[m.node1.dataIndex,m.node2.dataIndex]})});var y=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),v=h.getLayout("cx"),b=h.getLayout("cy");h.graph.eachNode(function(m){is(m,y,v,b)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,n){var o=this;(function a(){e.step(function(r){o.updateLayout(o._model),(o._layouting=!r)&&(n?o._layoutTimeout=setTimeout(a,16):a())})})()},t.prototype._updateController=function(e,n,o){var a=this,r=this._controller,s=this._controllerHost,l=this.group;r.setPointerChecker(function(u,d,h){var c=l.getBoundingRect();return c.applyTransform(l.transform),c.contain(d,h)&&!Rd(u,o,e)}),ps(e.coordinateSystem)?(r.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",function(u){zd(s,u.dx,u.dy),o.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Od(s,u.scale,u.originX,u.originY),o.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(),Oo(e.getGraph(),Cn(e)),a._lineDraw.updateLayout(),o.updateLabelLayout()})):r.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,n=e.getData(),o=Cn(e);n.eachItemGraphicEl(function(a,r){a&&a.setSymbolScale(o)})},t.prototype.updateLayout=function(e){Oo(e.getGraph(),Cn(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(Ne);function Jt(i){return"_EC_"+i}var Nc=function(){function i(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return i.prototype.isDirected=function(){return this._directed},i.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var n=this._nodesMap;if(!n[Jt(t)]){var o=new Gt(t,e);return o.hostGraph=this,this.nodes.push(o),n[Jt(t)]=o,o}},i.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},i.prototype.getNodeById=function(t){return this._nodesMap[Jt(t)]},i.prototype.addEdge=function(t,e,n){var o=this._nodesMap,a=this._edgesMap;if(vt(t)&&(t=this.nodes[t]),vt(e)&&(e=this.nodes[e]),t instanceof Gt||(t=o[Jt(t)]),e instanceof Gt||(e=o[Jt(e)]),t&&e){var r=t.id+"-"+e.id,s=new gs(t,e,n);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),a[r]=s,s}},i.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},i.prototype.getEdge=function(t,e){t instanceof Gt&&(t=t.id),e instanceof Gt&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},i.prototype.eachNode=function(t,e){for(var n=this.nodes,o=n.length,a=0;a<o;a++)n[a].dataIndex>=0&&t.call(e,n[a],a)},i.prototype.eachEdge=function(t,e){for(var n=this.edges,o=n.length,a=0;a<o;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(e,n[a],a)},i.prototype.breadthFirstTraverse=function(t,e,n,o){if(e instanceof Gt||(e=this._nodesMap[Jt(e)]),e){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!t.call(o,e,null))for(var s=[e];s.length;){var l=s.shift(),u=l[a];for(r=0;r<u.length;r++){var d=u[r],h=d.node1===l?d.node2:d.node1;if(!h.__visited){if(t.call(o,h,l))return;s.push(h),h.__visited=!0}}}}},i.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,o=this.edges,a=0,r=n.length;a<r;a++)n[a].dataIndex=-1;for(a=0,r=t.count();a<r;a++)n[t.getRawIndex(a)].dataIndex=a;for(e.filterSelf(function(s){var l=o[e.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),a=0,r=o.length;a<r;a++)o[a].dataIndex=-1;for(a=0,r=e.count();a<r;a++)o[e.getRawIndex(a)].dataIndex=a},i.prototype.clone=function(){for(var t=new i(this._directed),e=this.nodes,n=this.edges,o=0;o<e.length;o++)t.addNode(e[o].id,e[o].dataIndex);for(o=0;o<n.length;o++){var a=n[o];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},i}(),Gt=function(){function i(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return i.prototype.degree=function(){return this.edges.length},i.prototype.inDegree=function(){return this.inEdges.length},i.prototype.outDegree=function(){return this.outEdges.length},i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},i.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},i.prototype.getTrajectoryDataIndices=function(){for(var t=fe(),e=fe(),n=0;n<this.edges.length;n++){var o=this.edges[n];if(!(o.dataIndex<0)){t.set(o.dataIndex,!0);for(var a=[o.node1],r=[o.node2],s=0;s<a.length;){var l=a[s];s++,e.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)t.set(l.inEdges[u].dataIndex,!0),a.push(l.inEdges[u].node1)}for(s=0;s<r.length;){var d=r[s];for(s++,e.set(d.dataIndex,!0),u=0;u<d.outEdges.length;u++)t.set(d.outEdges[u].dataIndex,!0),r.push(d.outEdges[u].node2)}}}return{edge:t.keys(),node:e.keys()}},i}(),gs=function(){function i(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=n??-1}return i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},i.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},i.prototype.getTrajectoryDataIndices=function(){var t=fe(),e=fe();t.set(this.dataIndex,!0);for(var n=[this.node1],o=[this.node2],a=0;a<n.length;){var r=n[a];a++,e.set(r.dataIndex,!0);for(var s=0;s<r.inEdges.length;s++)t.set(r.inEdges[s].dataIndex,!0),n.push(r.inEdges[s].node1)}for(a=0;a<o.length;){var l=o[a];for(a++,e.set(l.dataIndex,!0),s=0;s<l.outEdges.length;s++)t.set(l.outEdges[s].dataIndex,!0),o.push(l.outEdges[s].node2)}return{edge:t.keys(),node:e.keys()}},i}();function fs(i,t){return{getValue:function(e){var n=this[i][t];return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,n){this.dataIndex>=0&&this[i][t].setItemVisual(this.dataIndex,e,n)},getVisual:function(e){return this[i][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,n){this.dataIndex>=0&&this[i][t].setItemLayout(this.dataIndex,e,n)},getLayout:function(){return this[i][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[i][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[i][t].getRawIndex(this.dataIndex)}}}function ys(i,t,e,n,o){for(var a=new Nc(n),r=0;r<i.length;r++)a.addNode(st(i[r].id,i[r].name,r),r);var s=[],l=[],u=0;for(r=0;r<t.length;r++){var d=t[r],h=d.source,c=d.target;a.addEdge(h,c,u)&&(l.push(d),s.push(st(It(d.id,null),h+" > "+c)),u++)}var g,f=e.get("coordinateSystem");if(f==="cartesian2d"||f==="polar")g=cn(i,e);else{var p=qd.get(f),y=p&&p.dimensions||[];be(y,"value")<0&&y.concat(["value"]);var v=ir(i,{coordDimensions:y,encodeDefine:e.getEncode()}).dimensions;(g=new je(v,e)).initData(i)}var b=new je(["value"],e);return b.initData(l,s),o&&o(g,b),kr({mainData:g,struct:a,structAttr:"graph",datas:{node:g,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}qt(Gt,fs("hostGraph","data")),qt(gs,fs("hostGraph","edgeData"));var Vc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return H(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments);var n=this;function o(){return n._categoriesData}this.legendVisualProvider=new ur(o,o),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){i.prototype.mergeDefaultAndTheme.apply(this,arguments),dr(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,n){var o,a=e.edges||e.links||[],r=e.data||e.nodes||[],s=this;if(r&&a){ui(o=this)&&(o.__curvenessList=[],o.__edgeMap={},Jr(o));var l=ys(r,a,this,!0,function(u,d){u.wrapMethod("getItemModel",function(f){var p=s._categoriesModels[f.getShallow("category")];return p&&(p.parentModel=f.parentModel,f.parentModel=p),f});var h=Mt.prototype.getModel;function c(f,p){var y=h.call(this,f,p);return y.resolveParentPath=g,y}function g(f){if(f&&(f[0]==="label"||f[1]==="label")){var p=f.slice();return f[0]==="label"?p[0]="edgeLabel":f[1]==="label"&&(p[1]="edgeLabel"),p}return f}d.wrapMethod("getItemModel",function(f){return f.resolveParentPath=g,f.getModel=c,f})});return V(l.edges,function(u){(function(d,h,c,g){if(ui(c)){var f=Dn(d,h,c),p=c.__edgeMap,y=p[es(f)];p[f]&&!y?p[f].isForward=!0:y&&p[f]&&(y.isForward=!0,p[f].isForward=!1),p[f]=p[f]||[],p[f].push(g)}})(u.node1,u.node2,this,u.dataIndex)},this),l.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,n,o){if(o==="edge"){var a=this.getData(),r=this.getDataParams(e,o),s=a.graph.getEdgeByIndex(e),l=a.getName(s.node1.dataIndex),u=a.getName(s.node2.dataIndex),d=[];return l!=null&&d.push(l),u!=null&&d.push(u),ft("nameValue",{name:d.join(" > "),value:r.value,noValue:r.value==null})}return lv({series:this,dataIndex:e,multipleSeries:n})},t.prototype._updateCategoriesData=function(){var e=q(this.option.categories||[],function(o){return o.value!=null?o:te({value:0},o)}),n=new je(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(o){return n.getItemModel(o)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return i.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(ke),Rc={type:"graphRoam",event:"graphRoam",update:"none"},zc=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},Oc=function(i){function t(e){var n=i.call(this,e)||this;return n.type="pointer",n}return H(t,i),t.prototype.getDefaultShape=function(){return new zc},t.prototype.buildPath=function(e,n){var o=Math.cos,a=Math.sin,r=n.r,s=n.width,l=n.angle,u=n.x-o(l)*s*(s>=r/3?1:2),d=n.y-a(l)*s*(s>=r/3?1:2);l=n.angle-Math.PI/2,e.moveTo(u,d),e.lineTo(n.x+o(l)*s,n.y+a(l)*s),e.lineTo(n.x+o(n.angle)*r,n.y+a(n.angle)*r),e.lineTo(n.x-o(l)*s,n.y-a(l)*s),e.lineTo(u,d)},t}(Pe);function di(i,t){var e=i==null?"":i+"";return t&&(re(t)?e=t.replace("{value}",e):pe(t)&&(e=t(i))),e}var Ec=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.render=function(e,n,o){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]),r=function(s,l){var u=s.get("center"),d=l.getWidth(),h=l.getHeight(),c=Math.min(d,h);return{cx:J(u[0],l.getWidth()),cy:J(u[1],l.getHeight()),r:J(s.get("radius"),c/2)}}(e,o);this._renderMain(e,n,o,a,r),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,n,o,a,r){var s=this.group,l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,d=-e.get("endAngle")/180*Math.PI,h=e.getModel("axisLine"),c=h.get("roundCap")?$d:Yn,g=h.get("show"),f=h.getModel("lineStyle"),p=f.get("width"),y=[u,d];uv(y,!l);for(var v=(d=y[1])-(u=y[0]),b=u,m=[],x=0;g&&x<a.length;x++){var S=new c({shape:{startAngle:b,endAngle:d=u+v*Math.min(Math.max(a[x][0],0),1),cx:r.cx,cy:r.cy,clockwise:l,r0:r.r-p,r:r.r},silent:!0});S.setStyle({fill:a[x][1]}),S.setStyle(f.getLineStyle(["color","width"])),m.push(S),b=d}m.reverse(),V(m,function(w){return s.add(w)});var _=function(w){if(w<=0)return a[0][1];var I;for(I=0;I<a.length;I++)if(a[I][0]>=w&&(I===0?0:a[I-1][0])<w)return a[I][1];return a[I-1][1]};this._renderTicks(e,n,o,_,r,u,d,l,p),this._renderTitleAndDetail(e,n,o,_,r),this._renderAnchor(e,r),this._renderPointer(e,n,o,_,r,u,d,l,p)},t.prototype._renderTicks=function(e,n,o,a,r,s,l,u,d){for(var h,c,g=this.group,f=r.cx,p=r.cy,y=r.r,v=+e.get("min"),b=+e.get("max"),m=e.getModel("splitLine"),x=e.getModel("axisTick"),S=e.getModel("axisLabel"),_=e.get("splitNumber"),w=x.get("splitNumber"),I=J(m.get("length"),y),M=J(x.get("length"),y),D=s,A=(l-s)/_,C=A/w,T=m.getModel("lineStyle").getLineStyle(),L=x.getModel("lineStyle").getLineStyle(),R=m.get("distance"),k=0;k<=_;k++){if(h=Math.cos(D),c=Math.sin(D),m.get("show")){var N=new gn({shape:{x1:h*(y-(P=R?R+d:d))+f,y1:c*(y-P)+p,x2:h*(y-I-P)+f,y2:c*(y-I-P)+p},style:T,silent:!0});T.stroke==="auto"&&N.setStyle({stroke:a(k/_)}),g.add(N)}if(S.get("show")){var P=S.get("distance")+R,z=di(Xd(k/_*(b-v)+v),S.get("formatter")),O=a(k/_),B=h*(y-I-P)+f,G=c*(y-I-P)+p,W=S.get("rotate"),E=0;W==="radial"?(E=-D+2*Math.PI)>Math.PI/2&&(E+=Math.PI):W==="tangential"?E=-D-Math.PI/2:vt(W)&&(E=W*Math.PI/180),E===0?g.add(new ye({style:Se(S,{text:z,x:B,y:G,verticalAlign:c<-.8?"top":c>.8?"bottom":"middle",align:h<-.4?"left":h>.4?"right":"center"},{inheritColor:O}),silent:!0})):g.add(new ye({style:Se(S,{text:z,x:B,y:G,verticalAlign:"middle",align:"center"},{inheritColor:O}),silent:!0,originX:B,originY:G,rotation:E}))}if(x.get("show")&&k!==_){P=(P=x.get("distance"))?P+d:d;for(var F=0;F<=w;F++){h=Math.cos(D),c=Math.sin(D);var U=new gn({shape:{x1:h*(y-P)+f,y1:c*(y-P)+p,x2:h*(y-M-P)+f,y2:c*(y-M-P)+p},silent:!0,style:L});L.stroke==="auto"&&U.setStyle({stroke:a((k+F/w)/_)}),g.add(U),D+=C}D-=C}else D+=A}},t.prototype._renderPointer=function(e,n,o,a,r,s,l,u,d){var h=this.group,c=this._data,g=this._progressEls,f=[],p=e.get(["pointer","show"]),y=e.getModel("progress"),v=y.get("show"),b=e.getData(),m=b.mapDimension("value"),x=+e.get("min"),S=+e.get("max"),_=[x,S],w=[s,l];function I(D,A){var C,T=b.getItemModel(D).getModel("pointer"),L=J(T.get("width"),r.r),R=J(T.get("length"),r.r),k=e.get(["pointer","icon"]),N=T.get("offsetCenter"),P=J(N[0],r.r),z=J(N[1],r.r),O=T.get("keepAspect");return(C=k?tt(k,P-L/2,z-R,L,R,null,O):new Oc({shape:{angle:-Math.PI/2,width:L,r:R,x:P,y:z}})).rotation=-(A+Math.PI/2),C.x=r.cx,C.y=r.cy,C}function M(D,A){var C=y.get("roundCap")?$d:Yn,T=y.get("overlap"),L=T?y.get("width"):d/b.count(),R=T?r.r-L:r.r-(D+1)*L,k=T?r.r:r.r-D*L,N=new C({shape:{startAngle:s,endAngle:A,cx:r.cx,cy:r.cy,clockwise:u,r0:R,r:k}});return T&&(N.z2=S-b.get(m,D)%S),N}(v||p)&&(b.diff(c).add(function(D){var A=b.get(m,D);if(p){var C=I(D,s);mt(C,{rotation:-((isNaN(+A)?w[0]:oe(A,_,w,!0))+Math.PI/2)},e),h.add(C),b.setItemGraphicEl(D,C)}if(v){var T=M(D,s),L=y.get("clip");mt(T,{shape:{endAngle:oe(A,_,w,L)}},e),h.add(T),Kd(e.seriesIndex,b.dataType,D,T),f[D]=T}}).update(function(D,A){var C=b.get(m,D);if(p){var T=c.getItemGraphicEl(A),L=T?T.rotation:s,R=I(D,L);R.rotation=L,Ve(R,{rotation:-((isNaN(+C)?w[0]:oe(C,_,w,!0))+Math.PI/2)},e),h.add(R),b.setItemGraphicEl(D,R)}if(v){var k=g[A],N=M(D,k?k.shape.endAngle:s),P=y.get("clip");Ve(N,{shape:{endAngle:oe(C,_,w,P)}},e),h.add(N),Kd(e.seriesIndex,b.dataType,D,N),f[D]=N}}).execute(),b.each(function(D){var A=b.getItemModel(D),C=A.getModel("emphasis"),T=C.get("focus"),L=C.get("blurScope"),R=C.get("disabled");if(p){var k=b.getItemGraphicEl(D),N=b.getItemVisual(D,"style"),P=N.fill;if(k instanceof Kt){var z=k.style;k.useStyle(te({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},N))}else k.useStyle(N),k.type!=="pointer"&&k.setColor(P);k.setStyle(A.getModel(["pointer","itemStyle"]).getItemStyle()),k.style.fill==="auto"&&k.setStyle("fill",a(oe(b.get(m,D),_,[0,1],!0))),k.z2EmphasisLift=0,rt(k,A),Re(k,T,L,R)}if(v){var O=f[D];O.useStyle(b.getItemVisual(D,"style")),O.setStyle(A.getModel(["progress","itemStyle"]).getItemStyle()),O.z2EmphasisLift=0,rt(O,A),Re(O,T,L,R)}}),this._progressEls=f)},t.prototype._renderAnchor=function(e,n){var o=e.getModel("anchor");if(o.get("show")){var a=o.get("size"),r=o.get("icon"),s=o.get("offsetCenter"),l=o.get("keepAspect"),u=tt(r,n.cx-a/2+J(s[0],n.r),n.cy-a/2+J(s[1],n.r),a,a,null,l);u.z2=o.get("showAbove")?1:0,u.setStyle(o.getModel("itemStyle").getItemStyle()),this.group.add(u)}},t.prototype._renderTitleAndDetail=function(e,n,o,a,r){var s=this,l=e.getData(),u=l.mapDimension("value"),d=+e.get("min"),h=+e.get("max"),c=new se,g=[],f=[],p=e.isAnimationEnabled(),y=e.get(["pointer","showAbove"]);l.diff(this._data).add(function(v){g[v]=new ye({silent:!0}),f[v]=new ye({silent:!0})}).update(function(v,b){g[v]=s._titleEls[b],f[v]=s._detailEls[b]}).execute(),l.each(function(v){var b=l.getItemModel(v),m=l.get(u,v),x=new se,S=a(oe(m,[d,h],[0,1],!0)),_=b.getModel("title");if(_.get("show")){var w=_.get("offsetCenter"),I=r.cx+J(w[0],r.r),M=r.cy+J(w[1],r.r);(N=g[v]).attr({z2:y?0:2,style:Se(_,{x:I,y:M,text:l.getName(v),align:"center",verticalAlign:"middle"},{inheritColor:S})}),x.add(N)}var D=b.getModel("detail");if(D.get("show")){var A=D.get("offsetCenter"),C=r.cx+J(A[0],r.r),T=r.cy+J(A[1],r.r),L=J(D.get("width"),r.r),R=J(D.get("height"),r.r),k=e.get(["progress","show"])?l.getItemVisual(v,"style").fill:S,N=f[v],P=D.get("formatter");N.attr({z2:y?0:2,style:Se(D,{x:C,y:T,text:di(m,P),width:isNaN(L)?null:L,height:isNaN(R)?null:R,align:"center",verticalAlign:"middle"},{inheritColor:k})}),dv(N,{normal:D},m,function(z){return di(z,P)}),p&&hv(N,v,l,e,{getFormattedLabel:function(z,O,B,G,W,E){return di(E?E.interpolatedValue:m,P)}}),x.add(N)}c.add(x)}),this.group.add(c),this._titleEls=g,this._detailEls=f},t.type="gauge",t}(Ne),Bc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return H(t,i),t.prototype.getInitialData=function(e,n){return hr(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(ke),Gc=["itemStyle","opacity"],Hc=function(i){function t(e,n){var o=i.call(this)||this,a=o,r=new Xn,s=new ye;return a.setTextContent(s),o.setTextGuideLine(r),o.updateData(e,n,!0),o}return H(t,i),t.prototype.updateData=function(e,n,o){var a=this,r=e.hostModel,s=e.getItemModel(n),l=e.getItemLayout(n),u=s.getModel("emphasis"),d=s.get(Gc);d=d??1,o||fn(a),a.useStyle(e.getItemVisual(n,"style")),a.style.lineJoin="round",o?(a.setShape({points:l.points}),a.style.opacity=0,mt(a,{style:{opacity:d}},r,n)):Ve(a,{style:{opacity:d},shape:{points:l.points}},r,n),rt(a,s),this._updateLabel(e,n),Re(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,n){var o=this,a=this.getTextGuideLine(),r=o.getTextContent(),s=e.hostModel,l=e.getItemModel(n),u=e.getItemLayout(n).label,d=e.getItemVisual(n,"style"),h=d.fill;Rt(r,yt(l),{labelFetcher:e.hostModel,labelDataIndex:n,defaultOpacity:d.opacity,defaultText:e.getName(n)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}}),o.setTextConfig({local:!0,inside:!!u.inside,insideStroke:h,outsideFill:h});var c=u.linePoints;a.setShape({points:c}),o.textGuideLineConfig={anchor:c?new Dt(c[0][0],c[0][1]):null},Ve(r,{style:{x:u.x,y:u.y}},s,n),r.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),cv(o,pv(l),{stroke:h})},t}(Xt),Fc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return H(t,i),t.prototype.render=function(e,n,o){var a=e.getData(),r=this._data,s=this.group;a.diff(r).add(function(l){var u=new Hc(a,l);a.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var d=r.getItemGraphicEl(u);d.updateData(a,l),s.add(d),a.setItemGraphicEl(l,d)}).remove(function(l){var u=r.getItemGraphicEl(l);gv(u,e,l)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(Ne),Wc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new ur(Q(this.getData,this),Q(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,n){return hr(this,{coordDimensions:["value"],encodeDefaulter:le(fv,this)})},t.prototype._defaultLabelLine=function(e){dr(e,"labelLine",["show"]);var n=e.labelLine,o=e.emphasis.labelLine;n.show=n.show&&e.label.show,o.show=o.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var n=this.getData(),o=i.prototype.getDataParams.call(this,e),a=n.mapDimension("value"),r=n.getSum(a);return o.percent=r?+(n.get(a,e)/r*100).toFixed(2):0,o.$vars.push("percent"),o},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(ke);function Zc(i,t){i.eachSeriesByType("funnel",function(e){var n=e.getData(),o=n.mapDimension("value"),a=e.get("sort"),r=function(T,L){return gt(T.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()})}(e,t),s=e.get("orient"),l=r.width,u=r.height,d=function(T,L){for(var R=T.mapDimension("value"),k=T.mapArray(R,function(B){return B}),N=[],P=L==="ascending",z=0,O=T.count();z<O;z++)N[z]=z;return pe(L)?N.sort(L):L!=="none"&&N.sort(function(B,G){return P?k[B]-k[G]:k[G]-k[B]}),N}(n,a),h=r.x,c=r.y,g=s==="horizontal"?[J(e.get("minSize"),u),J(e.get("maxSize"),u)]:[J(e.get("minSize"),l),J(e.get("maxSize"),l)],f=n.getDataExtent(o),p=e.get("min"),y=e.get("max");p==null&&(p=Math.min(f[0],0)),y==null&&(y=f[1]);var v=e.get("funnelAlign"),b=e.get("gap"),m=((s==="horizontal"?l:u)-b*(n.count()-1))/n.count(),x=function(T,L){if(s==="horizontal"){var R=n.get(o,T)||0,k=oe(R,[p,y],g,!0),N=void 0;switch(v){case"top":N=c;break;case"center":N=c+(u-k)/2;break;case"bottom":N=c+(u-k)}return[[L,N],[L,N+k]]}var P,z=n.get(o,T)||0,O=oe(z,[p,y],g,!0);switch(v){case"left":P=h;break;case"center":P=h+(l-O)/2;break;case"right":P=h+l-O}return[[P,L],[P+O,L]]};a==="ascending"&&(m=-m,b=-b,s==="horizontal"?h+=l:c+=u,d=d.reverse());for(var S=0;S<d.length;S++){var _=d[S],w=d[S+1],I=n.getItemModel(_);if(s==="horizontal"){var M=I.get(["itemStyle","width"]);M==null?M=m:(M=J(M,l),a==="ascending"&&(M=-M));var D=x(_,h),A=x(w,h+M);h+=M+b,n.setItemLayout(_,{points:D.concat(A.slice().reverse())})}else{var C=I.get(["itemStyle","height"]);C==null?C=m:(C=J(C,u),a==="ascending"&&(C=-C)),D=x(_,c),A=x(w,c+C),c+=C+b,n.setItemLayout(_,{points:D.concat(A.slice().reverse())})}}(function(T){var L=T.hostModel.get("orient");T.each(function(R){var k,N,P,z,O=T.getItemModel(R),B=O.getModel("label").get("position"),G=O.getModel("labelLine"),W=T.getItemLayout(R),E=W.points,F=B==="inner"||B==="inside"||B==="center"||B==="insideLeft"||B==="insideRight";if(F)B==="insideLeft"?(N=(E[0][0]+E[3][0])/2+5,P=(E[0][1]+E[3][1])/2,k="left"):B==="insideRight"?(N=(E[1][0]+E[2][0])/2-5,P=(E[1][1]+E[2][1])/2,k="right"):(N=(E[0][0]+E[1][0]+E[2][0]+E[3][0])/4,P=(E[0][1]+E[1][1]+E[2][1]+E[3][1])/4,k="center"),z=[[N,P],[N,P]];else{var U=void 0,Y=void 0,j=void 0,$=void 0,X=G.get("length");B==="left"?(U=(E[3][0]+E[0][0])/2,Y=(E[3][1]+E[0][1])/2,N=(j=U-X)-5,k="right"):B==="right"?(U=(E[1][0]+E[2][0])/2,Y=(E[1][1]+E[2][1])/2,N=(j=U+X)+5,k="left"):B==="top"?(U=(E[3][0]+E[0][0])/2,P=($=(Y=(E[3][1]+E[0][1])/2)-X)-5,k="center"):B==="bottom"?(U=(E[1][0]+E[2][0])/2,P=($=(Y=(E[1][1]+E[2][1])/2)+X)+5,k="center"):B==="rightTop"?(U=L==="horizontal"?E[3][0]:E[1][0],Y=L==="horizontal"?E[3][1]:E[1][1],L==="horizontal"?(P=($=Y-X)-5,k="center"):(N=(j=U+X)+5,k="top")):B==="rightBottom"?(U=E[2][0],Y=E[2][1],L==="horizontal"?(P=($=Y+X)+5,k="center"):(N=(j=U+X)+5,k="bottom")):B==="leftTop"?(U=E[0][0],Y=L==="horizontal"?E[0][1]:E[1][1],L==="horizontal"?(P=($=Y-X)-5,k="center"):(N=(j=U-X)-5,k="right")):B==="leftBottom"?(U=L==="horizontal"?E[1][0]:E[3][0],Y=L==="horizontal"?E[1][1]:E[2][1],L==="horizontal"?(P=($=Y+X)+5,k="center"):(N=(j=U-X)-5,k="right")):(U=(E[1][0]+E[2][0])/2,Y=(E[1][1]+E[2][1])/2,L==="horizontal"?(P=($=Y+X)+5,k="center"):(N=(j=U+X)+5,k="left")),L==="horizontal"?N=j=U:P=$=Y,z=[[U,Y],[j,$]]}W.label={linePoints:z,x:N,y:P,verticalAlign:"middle",textAlign:k,inside:F}})})(n)})}var Uc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new se,e._initialized=!1,e}return H(t,i),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,n,o,a){this._progressiveEls=null;var r=this._dataGroup,s=e.getData(),l=this._data,u=e.coordinateSystem,d=u.dimensions,h=xs(e);if(s.diff(l).add(function(g){Eo(ms(s,r,g,d,u),s,g,h)}).update(function(g,f){var p=l.getItemGraphicEl(f),y=vs(s,g,d,u);s.setItemGraphicEl(g,p),Ve(p,{shape:{points:y}},e,g),fn(p),Eo(p,s,g,h)}).remove(function(g){var f=l.getItemGraphicEl(g);r.remove(f)}).execute(),!this._initialized){this._initialized=!0;var c=function(g,f,p){var y=g.model,v=g.getRect(),b=new Ee({shape:{x:v.x,y:v.y,width:v.width,height:v.height}}),m=y.get("layout")==="horizontal"?"width":"height";return b.setShape(m,0),mt(b,{shape:{width:v.width,height:v.height}},f,p),b}(u,e,function(){setTimeout(function(){r.removeClipPath()})});r.setClipPath(c)}this._data=s},t.prototype.incrementalPrepareRender=function(e,n,o){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,n,o){for(var a=n.getData(),r=n.coordinateSystem,s=r.dimensions,l=xs(n),u=this._progressiveEls=[],d=e.start;d<e.end;d++){var h=ms(a,this._dataGroup,d,s,r);h.incremental=!0,Eo(h,a,d,l),u.push(h)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(Ne);function vs(i,t,e,n){for(var o,a=[],r=0;r<e.length;r++){var s=e[r],l=i.get(i.mapDimension(s),t);o=l,(n.getAxis(s).type==="category"?o==null:o==null||isNaN(o))||a.push(n.dataToPoint(l,s))}return a}function ms(i,t,e,n,o){var a=vs(i,e,n,o),r=new Xn({shape:{points:a},z2:10});return t.add(r),i.setItemGraphicEl(e,r),r}function xs(i){var t=i.get("smooth",!0);return t===!0&&(t=.3),t=yv(t),vv(t)&&(t=0),{smooth:t}}function Eo(i,t,e,n){i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.setShape("smooth",n.smooth);var o=t.getItemModel(e),a=o.getModel("emphasis");rt(i,o,"lineStyle"),Re(i,a.get("focus"),a.get("blurScope"),a.get("disabled"))}var Yc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return H(t,i),t.prototype.getInitialData=function(e,n){return cn(null,this,{useEncodeDefaulter:Q(Xc,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var n=this.coordinateSystem,o=this.getData(),a=[];return n.eachActiveState(o,function(r,s){e===r&&a.push(o.getRawIndex(s))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(ke);function Xc(i){var t=i.ecModel.getComponent("parallel",i.get("parallelIndex"));if(t){var e={};return V(t.dimensions,function(n){var o=+n.replace("dim","");e[n]=o}),e}}var jc=["lineStyle","opacity"],qc={seriesType:"parallel",reset:function(i,t){var e=i.coordinateSystem,n={normal:i.get(["lineStyle","opacity"]),active:i.get("activeOpacity"),inactive:i.get("inactiveOpacity")};return{progress:function(o,a){e.eachActiveState(a,function(r,s){var l=n[r];if(r==="normal"&&a.hasItemOption){var u=a.getItemModel(s).get(jc,!0);u!=null&&(l=u)}a.ensureUniqueItemVisual(s,"style").opacity=l},o.start,o.end)}}}},Kc=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},$c=function(i){function t(e){return i.call(this,e)||this}return H(t,i),t.prototype.getDefaultShape=function(){return new Kc},t.prototype.buildPath=function(e,n){var o=n.extent;e.moveTo(n.x1,n.y1),e.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(e.lineTo(n.x2+o,n.y2),e.bezierCurveTo(n.cpx2+o,n.cpy2,n.cpx1+o,n.cpy1,n.x1+o,n.y1)):(e.lineTo(n.x2,n.y2+o),e.bezierCurveTo(n.cpx2,n.cpy2+o,n.cpx1,n.cpy1+o,n.x1,n.y1+o)),e.closePath()},t.prototype.highlight=function(){Zn(this)},t.prototype.downplay=function(){Un(this)},t}(Pe),Qc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return H(t,i),t.prototype.render=function(e,n,o){var a=this,r=e.getGraph(),s=this.group,l=e.layoutInfo,u=l.width,d=l.height,h=e.getData(),c=e.getData("edge"),g=e.get("orient");this._model=e,s.removeAll(),s.x=l.x,s.y=l.y,r.eachEdge(function(f){var p=new $c,y=_e(p);y.dataIndex=f.dataIndex,y.seriesIndex=e.seriesIndex,y.dataType="edge";var v,b,m,x,S,_,w,I,M=f.getModel(),D=M.getModel("lineStyle"),A=D.get("curveness"),C=f.node1.getLayout(),T=f.node1.getModel(),L=T.get("localX"),R=T.get("localY"),k=f.node2.getLayout(),N=f.node2.getModel(),P=N.get("localX"),z=N.get("localY"),O=f.getLayout();p.shape.extent=Math.max(1,O.dy),p.shape.orient=g,g==="vertical"?(v=(L!=null?L*u:C.x)+O.sy,b=(R!=null?R*d:C.y)+C.dy,m=(P!=null?P*u:k.x)+O.ty,S=v,_=b*(1-A)+(x=z!=null?z*d:k.y)*A,w=m,I=b*A+x*(1-A)):(v=(L!=null?L*u:C.x)+C.dx,b=(R!=null?R*d:C.y)+O.sy,S=v*(1-A)+(m=P!=null?P*u:k.x)*A,_=b,w=v*A+m*(1-A),I=x=(z!=null?z*d:k.y)+O.ty),p.setShape({x1:v,y1:b,x2:m,y2:x,cpx1:S,cpy1:_,cpx2:w,cpy2:I}),p.useStyle(D.getItemStyle()),_s(p.style,g,f);var B=""+M.get("value"),G=yt(M,"edgeLabel");Rt(p,G,{labelFetcher:{getFormattedLabel:function(F,U,Y,j,$,X){return e.getFormattedLabel(F,U,"edge",j,Fn($,G.normal&&G.normal.get("formatter"),B),X)}},labelDataIndex:f.dataIndex,defaultText:B}),p.setTextConfig({position:"inside"});var W=M.getModel("emphasis");rt(p,M,"lineStyle",function(F){var U=F.getItemStyle();return _s(U,g,f),U}),s.add(p),c.setItemGraphicEl(f.dataIndex,p);var E=W.get("focus");Re(p,E==="adjacency"?f.getAdjacentDataIndices():E==="trajectory"?f.getTrajectoryDataIndices():E,W.get("blurScope"),W.get("disabled"))}),r.eachNode(function(f){var p=f.getLayout(),y=f.getModel(),v=y.get("localX"),b=y.get("localY"),m=y.getModel("emphasis"),x=y.get(["itemStyle","borderRadius"])||0,S=new Ee({shape:{x:v!=null?v*u:p.x,y:b!=null?b*d:p.y,width:p.dx,height:p.dy,r:x},style:y.getModel("itemStyle").getItemStyle(),z2:10});Rt(S,yt(y),{labelFetcher:{getFormattedLabel:function(w,I){return e.getFormattedLabel(w,I,"node")}},labelDataIndex:f.dataIndex,defaultText:f.id}),S.disableLabelAnimation=!0,S.setStyle("fill",f.getVisual("color")),S.setStyle("decal",f.getVisual("style").decal),rt(S,y),s.add(S),h.setItemGraphicEl(f.dataIndex,S),_e(S).dataType="node";var _=m.get("focus");Re(S,_==="adjacency"?f.getAdjacentDataIndices():_==="trajectory"?f.getTrajectoryDataIndices():_,m.get("blurScope"),m.get("disabled"))}),h.eachItemGraphicEl(function(f,p){h.getItemModel(p).get("draggable")&&(f.drift=function(y,v){a._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=v,this.dirty(),o.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:h.getRawIndex(p),localX:this.shape.x/u,localY:this.shape.y/d})},f.ondragend=function(){a._focusAdjacencyDisabled=!1},f.draggable=!0,f.cursor="move")}),!this._data&&e.isAnimationEnabled()&&s.setClipPath(function(f,p,y){var v=new Ee({shape:{x:f.x-10,y:f.y-10,width:0,height:f.height+20}});return mt(v,{shape:{width:f.width+20}},p,y),v}(s.getBoundingRect(),e,function(){s.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(Ne);function _s(i,t,e){switch(i.fill){case"source":i.fill=e.node1.getVisual("color"),i.decal=e.node1.getVisual("style").decal;break;case"target":i.fill=e.node2.getVisual("color"),i.decal=e.node2.getVisual("style").decal;break;case"gradient":var n=e.node1.getVisual("color"),o=e.node2.getVisual("color");re(n)&&re(o)&&(i.fill=new Jd(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:o,offset:1}]))}}var Jc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.getInitialData=function(e,n){var o=e.edges||e.links,a=e.data||e.nodes,r=e.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<r.length;l++)r[l].depth!=null&&r[l].depth>=0&&(s[r[l].depth]=new Mt(r[l],this,n));if(a&&o){var u=ys(a,o,this,!0,function(d,h){d.wrapMethod("getItemModel",function(c,g){var f=c.parentModel,p=f.getData().getItemLayout(g);if(p){var y=p.depth,v=f.levelModels[y];v&&(c.parentModel=v)}return c}),h.wrapMethod("getItemModel",function(c,g){var f=c.parentModel,p=f.getGraph().getEdgeByIndex(g).node1.getLayout();if(p){var y=p.depth,v=f.levelModels[y];v&&(c.parentModel=v)}return c})});return u.data}},t.prototype.setNodePosition=function(e,n){var o=(this.option.data||this.option.nodes)[e];o.localX=n[0],o.localY=n[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,o){function a(c){return isNaN(c)||c==null}if(o==="edge"){var r=this.getDataParams(e,o),s=r.data,l=r.value,u=s.source+" -- "+s.target;return ft("nameValue",{name:u,value:l,noValue:a(l)})}var d=this.getGraph().getNodeByIndex(e).getLayout().value,h=this.getDataParams(e,o).data.name;return ft("nameValue",{name:h!=null?h+"":null,value:d,noValue:a(d)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,n){var o=i.prototype.getDataParams.call(this,e,n);if(o.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(e).getLayout().value;o.value=a}return o},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(ke);function ep(i,t){i.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),o=e.get("nodeGap"),a=function(h,c){return gt(h.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})}(e,t);e.layoutInfo=a;var r=a.width,s=a.height,l=e.getGraph(),u=l.nodes,d=l.edges;(function(h){V(h,function(c){var g=Lt(c.outEdges,hi),f=Lt(c.inEdges,hi),p=c.getValue()||0,y=Math.max(g,f,p);c.setLayout({value:y},!0)})})(u),function(h,c,g,f,p,y,v,b,m){(function(x,S,_,w,I,M,D){for(var A=[],C=[],T=[],L=[],R=0,k=0;k<S.length;k++)A[k]=1;for(k=0;k<x.length;k++)C[k]=x[k].inEdges.length,C[k]===0&&T.push(x[k]);for(var N=-1;T.length;){for(var P=0;P<T.length;P++){var z=T[P],O=z.hostGraph.data.getRawDataItem(z.dataIndex),B=O.depth!=null&&O.depth>=0;B&&O.depth>N&&(N=O.depth),z.setLayout({depth:B?O.depth:R},!0),M==="vertical"?z.setLayout({dy:_},!0):z.setLayout({dx:_},!0);for(var G=0;G<z.outEdges.length;G++){var W=z.outEdges[G];A[S.indexOf(W)]=0;var E=W.node2;--C[x.indexOf(E)]==0&&L.indexOf(E)<0&&L.push(E)}}++R,T=L,L=[]}for(k=0;k<A.length;k++)if(A[k]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var F=N>R-1?N:R-1;D&&D!=="left"&&function(Y,j,$,X){if(j==="right"){for(var ee=[],ae=Y,ze=0;ae.length;){for(var it=0;it<ae.length;it++){var Ue=ae[it];Ue.setLayout({skNodeHeight:ze},!0);for(var he=0;he<Ue.inEdges.length;he++){var ue=Ue.inEdges[he];ee.indexOf(ue.node1)<0&&ee.push(ue.node1)}}ae=ee,ee=[],++ze}V(Y,function(Me){bs(Me)||Me.setLayout({depth:Math.max(0,X-Me.getLayout().skNodeHeight)},!0)})}else j==="justify"&&function(Me,ot){V(Me,function(St){bs(St)||St.outEdges.length||St.setLayout({depth:ot},!0)})}(Y,X)}(x,D,0,F);var U=M==="vertical"?(I-_)/F:(w-_)/F;(function(Y,j,$){V(Y,function(X){var ee=X.getLayout().depth*j;$==="vertical"?X.setLayout({y:ee},!0):X.setLayout({x:ee},!0)})})(x,U,M)})(h,c,g,p,y,b,m),function(x,S,_,w,I,M,D){var A=function(T,L){var R=[],k=L==="vertical"?"y":"x",N=pr(T,function(P){return P.getLayout()[k]});return N.keys.sort(function(P,z){return P-z}),V(N.keys,function(P){R.push(N.buckets.get(P))}),R}(x,D);(function(T,L,R,k,N,P){var z=1/0;V(T,function(O){var B=O.length,G=0;V(O,function(E){G+=E.getLayout().value});var W=P==="vertical"?(k-(B-1)*N)/G:(R-(B-1)*N)/G;W<z&&(z=W)}),V(T,function(O){V(O,function(B,G){var W=B.getLayout().value*z;P==="vertical"?(B.setLayout({x:G},!0),B.setLayout({dx:W},!0)):(B.setLayout({y:G},!0),B.setLayout({dy:W},!0))})}),V(L,function(O){var B=+O.getValue()*z;O.setLayout({dy:B},!0)})})(A,S,_,w,I,D),Bo(A,I,_,w,D);for(var C=1;M>0;M--)tp(A,C*=.99,D),Bo(A,I,_,w,D),rp(A,C,D),Bo(A,I,_,w,D)}(h,c,y,p,f,v,b),function(x,S){var _=S==="vertical"?"x":"y";V(x,function(w){w.outEdges.sort(function(I,M){return I.node2.getLayout()[_]-M.node2.getLayout()[_]}),w.inEdges.sort(function(I,M){return I.node1.getLayout()[_]-M.node1.getLayout()[_]})}),V(x,function(w){var I=0,M=0;V(w.outEdges,function(D){D.setLayout({sy:I},!0),I+=D.getLayout().dy}),V(w.inEdges,function(D){D.setLayout({ty:M},!0),M+=D.getLayout().dy})})}(h,b)}(u,d,n,o,r,s,nt(u,function(h){return h.getLayout().value===0}).length!==0?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function bs(i){var t=i.hostGraph.data.getRawDataItem(i.dataIndex);return t.depth!=null&&t.depth>=0}function Bo(i,t,e,n,o){var a=o==="vertical"?"x":"y";V(i,function(r){var s,l,u;r.sort(function(f,p){return f.getLayout()[a]-p.getLayout()[a]});for(var d=0,h=r.length,c=o==="vertical"?"dx":"dy",g=0;g<h;g++)(u=d-(l=r[g]).getLayout()[a])>0&&(s=l.getLayout()[a]+u,o==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),d=l.getLayout()[a]+l.getLayout()[c]+t;if((u=d-t-(o==="vertical"?n:e))>0)for(s=l.getLayout()[a]-u,o==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),d=s,g=h-2;g>=0;--g)(u=(l=r[g]).getLayout()[a]+l.getLayout()[c]+t-d)>0&&(s=l.getLayout()[a]-u,o==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),d=l.getLayout()[a]})}function tp(i,t,e){V(i.slice().reverse(),function(n){V(n,function(o){if(o.outEdges.length){var a=Lt(o.outEdges,np,e)/Lt(o.outEdges,hi);if(isNaN(a)){var r=o.outEdges.length;a=r?Lt(o.outEdges,ip,e)/r:0}if(e==="vertical"){var s=o.getLayout().x+(a-Tt(o,e))*t;o.setLayout({x:s},!0)}else{var l=o.getLayout().y+(a-Tt(o,e))*t;o.setLayout({y:l},!0)}}})})}function np(i,t){return Tt(i.node2,t)*i.getValue()}function ip(i,t){return Tt(i.node2,t)}function op(i,t){return Tt(i.node1,t)*i.getValue()}function ap(i,t){return Tt(i.node1,t)}function Tt(i,t){return t==="vertical"?i.getLayout().x+i.getLayout().dx/2:i.getLayout().y+i.getLayout().dy/2}function hi(i){return i.getValue()}function Lt(i,t,e){for(var n=0,o=i.length,a=-1;++a<o;){var r=+t(i[a],e);isNaN(r)||(n+=r)}return n}function rp(i,t,e){V(i,function(n){V(n,function(o){if(o.inEdges.length){var a=Lt(o.inEdges,op,e)/Lt(o.inEdges,hi);if(isNaN(a)){var r=o.inEdges.length;a=r?Lt(o.inEdges,ap,e)/r:0}if(e==="vertical"){var s=o.getLayout().x+(a-Tt(o,e))*t;o.setLayout({x:s},!0)}else{var l=o.getLayout().y+(a-Tt(o,e))*t;o.setLayout({y:l},!0)}}})})}function sp(i){i.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes,o=e.edges;if(n.length){var a=1/0,r=-1/0;V(n,function(s){var l=s.getLayout().value;l<a&&(a=l),l>r&&(r=l)}),V(n,function(s){var l=new we({type:"color",mappingMethod:"linear",dataExtent:[a,r],visual:t.get("color")}).mapValueToVisual(s.getLayout().value),u=s.getModel().get(["itemStyle","color"]);u!=null?(s.setVisual("color",u),s.setVisual("style",{fill:u})):(s.setVisual("color",l),s.setVisual("style",{fill:l}))})}o.length&&V(o,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}var Ss=function(){function i(){}return i.prototype.getInitialData=function(t,e){var n,o,a=e.getComponent("xAxis",this.get("xAxisIndex")),r=e.getComponent("yAxis",this.get("yAxisIndex")),s=a.get("type"),l=r.get("type");s==="category"?(t.layout="horizontal",n=a.getOrdinalMeta(),o=!0):l==="category"?(t.layout="vertical",n=r.getOrdinalMeta(),o=!0):t.layout=t.layout||"horizontal";var u=["x","y"],d=t.layout==="horizontal"?0:1,h=this._baseAxisDim=u[d],c=u[1-d],g=[a,r],f=g[d].get("type"),p=g[1-d].get("type"),y=t.data;if(y&&o){var v=[];V(y,function(x,S){var _;K(x)?(_=x.slice(),x.unshift(S)):K(x.value)?((_=te({},x)).value=_.value.slice(),x.value.unshift(S)):_=x,v.push(_)}),t.data=v}var b=this.defaultValueDimensions,m=[{name:h,type:gr(f),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:c,type:gr(p),dimsDef:b.slice()}];return hr(this,{coordDimensions:m,dimensionsCount:b.length+1,encodeDefaulter:le(mv,m,this)})},i.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},i}(),ws=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return H(t,i),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(ke);qt(ws,Ss,!0);var lp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.render=function(e,n,o){var a=e.getData(),r=this.group,s=this._data;this._data||r.removeAll();var l=e.get("layout")==="horizontal"?1:0;a.diff(s).add(function(u){if(a.hasValue(u)){var d=Is(a.getItemLayout(u),a,u,l,!0);a.setItemGraphicEl(u,d),r.add(d)}}).update(function(u,d){var h=s.getItemGraphicEl(d);if(a.hasValue(u)){var c=a.getItemLayout(u);h?(fn(h),Ms(c,h,a,u)):h=Is(c,a,u,l),r.add(h),a.setItemGraphicEl(u,h)}else r.remove(h)}).remove(function(u){var d=s.getItemGraphicEl(u);d&&r.remove(d)}).execute(),this._data=a},t.prototype.remove=function(e){var n=this.group,o=this._data;this._data=null,o&&o.eachItemGraphicEl(function(a){a&&n.remove(a)})},t.type="boxplot",t}(Ne),up=function(){},dp=function(i){function t(e){var n=i.call(this,e)||this;return n.type="boxplotBoxPath",n}return H(t,i),t.prototype.getDefaultShape=function(){return new up},t.prototype.buildPath=function(e,n){var o=n.points,a=0;for(e.moveTo(o[a][0],o[a][1]),a++;a<4;a++)e.lineTo(o[a][0],o[a][1]);for(e.closePath();a<o.length;a++)e.moveTo(o[a][0],o[a][1]),a++,e.lineTo(o[a][0],o[a][1])},t}(Pe);function Is(i,t,e,n,o){var a=i.ends,r=new dp({shape:{points:o?hp(a,n,i):a}});return Ms(i,r,t,e,o),r}function Ms(i,t,e,n,o){var a=e.hostModel;(0,xv[o?"initProps":"updateProps"])(t,{shape:{points:i.ends}},a,n),t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var r=e.getItemModel(n),s=r.getModel("emphasis");rt(t,r),Re(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function hp(i,t,e){return q(i,function(n){return(n=n.slice())[t]=e.initBaseline,n})}var Tn=V;function cp(i){var t=function(e){var n=[],o=[];return e.eachSeriesByType("boxplot",function(a){var r=a.getBaseAxis(),s=be(o,r);s<0&&(s=o.length,o[s]=r,n[s]={axis:r,seriesModels:[]}),n[s].seriesModels.push(a)}),n}(i);Tn(t,function(e){var n=e.seriesModels;n.length&&(function(o){var a,r=o.axis,s=o.seriesModels,l=s.length,u=o.boxWidthList=[],d=o.boxOffsetList=[],h=[];if(r.type==="category")a=r.getBandWidth();else{var c=0;Tn(s,function(b){c=Math.max(c,b.getData().count())});var g=r.getExtent();a=Math.abs(g[1]-g[0])/c}Tn(s,function(b){var m=b.get("boxWidth");K(m)||(m=[m,m]),h.push([J(m[0],a)||0,J(m[1],a)||0])});var f=.8*a-2,p=f/l*.3,y=(f-p*(l-1))/l,v=y/2-f/2;Tn(s,function(b,m){d.push(v),v+=p+y,u.push(Math.min(Math.max(y,h[m][0]),h[m][1]))})}(e),Tn(n,function(o,a){(function(r,s,l){var u=r.coordinateSystem,d=r.getData(),h=l/2,c=r.get("layout")==="horizontal"?0:1,g=1-c,f=["x","y"],p=d.mapDimension(f[c]),y=d.mapDimensionsAll(f[g]);if(p==null||y.length<5)return;for(var v=0;v<d.count();v++){var b=d.get(p,v),m=M(b,y[2],v),x=M(b,y[0],v),S=M(b,y[1],v),_=M(b,y[3],v),w=M(b,y[4],v),I=[];D(I,S,!1),D(I,_,!0),I.push(x,S,w,_),A(I,x),A(I,w),A(I,m),d.setItemLayout(v,{initBaseline:m[g],ends:I})}function M(C,T,L){var R,k=d.get(T,L),N=[];return N[c]=C,N[g]=k,isNaN(C)||isNaN(k)?R=[NaN,NaN]:(R=u.dataToPoint(N))[c]+=s,R}function D(C,T,L){var R=T.slice(),k=T.slice();R[c]+=h,k[c]-=h,L?C.push(R,k):C.push(k,R)}function A(C,T){var L=T.slice(),R=T.slice();L[c]-=h,R[c]+=h,C.push(L,R)}})(o,e.boxOffsetList[a],e.boxWidthList[a])}))})}var pp={type:"echarts:boxplot",transform:function(i){var t=i.upstream;t.sourceFormat!==eh&&me("");var e=function(n,o){for(var a=[],r=[],s=(o=o||{}).boundIQR,l=s==="none"||s===0,u=0;u<n.length;u++){var d=lt(n[u].slice()),h=fr(d,.25),c=fr(d,.5),g=fr(d,.75),f=d[0],p=d[d.length-1],y=(s??1.5)*(g-h),v=l?f:Math.max(f,h-y),b=l?p:Math.min(p,g+y),m=o.itemNameFormatter,x=pe(m)?m({value:u}):re(m)?m.replace("{value}",u+""):u+"";a.push([x,v,h,c,g,b]);for(var S=0;S<d.length;S++){var _=d[S];if(_<v||_>b){var w=[x,_];r.push(w)}}}return{boxData:a,outliers:r}}(t.getRawData(),i.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:e.boxData},{data:e.outliers}]}},gp=["color","borderColor"],fp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.render=function(e,n,o){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,n,o){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,n,o,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,n):this._incrementalRenderNormal(e,n)},t.prototype.eachRendered=function(e){$i(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;this._isLargeDraw!=null&&n===this._isLargeDraw||(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e){var n=e.getData(),o=this._data,a=this.group,r=n.getLayout("isSimpleBox"),s=e.get("clip",!0),l=e.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(o).add(function(d){if(n.hasValue(d)){var h=n.getItemLayout(d);if(s&&Ds(u,h))return;var c=Go(h,d,!0);mt(c,{shape:{points:h.ends}},e,d),Ho(c,n,d,r),a.add(c),n.setItemGraphicEl(d,c)}}).update(function(d,h){var c=o.getItemGraphicEl(h);if(n.hasValue(d)){var g=n.getItemLayout(d);s&&Ds(u,g)?a.remove(c):(c?(Ve(c,{shape:{points:g.ends}},e,d),fn(c)):c=Go(g),Ho(c,n,d,r),a.add(c),n.setItemGraphicEl(d,c))}else a.remove(c)}).remove(function(d){var h=o.getItemGraphicEl(d);h&&a.remove(h)}).execute(),this._data=n},t.prototype._renderLarge=function(e){this._clear(),Cs(e,this.group);var n=e.get("clip",!0)?yr(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,n){for(var o,a=n.getData(),r=a.getLayout("isSimpleBox");(o=e.next())!=null;){var s=Go(a.getItemLayout(o));Ho(s,a,o,r),s.incremental=!0,this.group.add(s),this._progressiveEls.push(s)}},t.prototype._incrementalRenderLarge=function(e,n){Cs(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(Ne),yp=function(){},vp=function(i){function t(e){var n=i.call(this,e)||this;return n.type="normalCandlestickBox",n}return H(t,i),t.prototype.getDefaultShape=function(){return new yp},t.prototype.buildPath=function(e,n){var o=n.points;this.__simpleBox?(e.moveTo(o[4][0],o[4][1]),e.lineTo(o[6][0],o[6][1])):(e.moveTo(o[0][0],o[0][1]),e.lineTo(o[1][0],o[1][1]),e.lineTo(o[2][0],o[2][1]),e.lineTo(o[3][0],o[3][1]),e.closePath(),e.moveTo(o[4][0],o[4][1]),e.lineTo(o[5][0],o[5][1]),e.moveTo(o[6][0],o[6][1]),e.lineTo(o[7][0],o[7][1]))},t}(Pe);function Go(i,t,e){var n=i.ends;return new vp({shape:{points:e?mp(n,i):n},z2:100})}function Ds(i,t){for(var e=!0,n=0;n<t.ends.length;n++)if(i.contain(t.ends[n][0],t.ends[n][1])){e=!1;break}return e}function Ho(i,t,e,n){var o=t.getItemModel(e);i.useStyle(t.getItemVisual(e,"style")),i.style.strokeNoScale=!0,i.__simpleBox=n,rt(i,o)}function mp(i,t){return q(i,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var xp=function(){},Fo=function(i){function t(e){var n=i.call(this,e)||this;return n.type="largeCandlestickBox",n}return H(t,i),t.prototype.getDefaultShape=function(){return new xp},t.prototype.buildPath=function(e,n){for(var o=n.points,a=0;a<o.length;)if(this.__sign===o[a++]){var r=o[a++];e.moveTo(r,o[a++]),e.lineTo(r,o[a++])}else a+=3},t}(Pe);function Cs(i,t,e,n){var o=i.getData().getLayout("largePoints"),a=new Fo({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});t.add(a);var r=new Fo({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});t.add(r);var s=new Fo({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});t.add(s),Wo(1,a,i),Wo(-1,r,i),Wo(0,s,i),n&&(a.incremental=!0,r.incremental=!0),e&&e.push(a,r)}function Wo(i,t,e,n){var o=e.get(["itemStyle",i>0?"borderColor":"borderColor0"])||e.get(["itemStyle",i>0?"color":"color0"]);i===0&&(o=e.get(["itemStyle","borderColorDoji"]));var a=e.getModel("itemStyle").getItemStyle(gp);t.useStyle(a),t.style.fill=null,t.style.stroke=o}var As=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return H(t,i),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,n,o){var a=n.getItemLayout(e);return a&&o.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(ke);function _p(i){i&&K(i.series)&&V(i.series,function(t){Fe(t)&&t.type==="k"&&(t.type="candlestick")})}qt(As,Ss,!0);var bp=["itemStyle","borderColor"],Sp=["itemStyle","borderColor0"],wp=["itemStyle","borderColorDoji"],Ip=["itemStyle","color"],Mp=["itemStyle","color0"],Dp={seriesType:"candlestick",plan:vr(),performRawSeries:!0,reset:function(i,t){function e(o,a){return a.get(o>0?Ip:Mp)}function n(o,a){return a.get(o===0?wp:o>0?bp:Sp)}if(!t.isSeriesFiltered(i))return!i.pipelineContext.large&&{progress:function(o,a){for(var r;(r=o.next())!=null;){var s=a.getItemModel(r),l=a.getItemLayout(r).sign,u=s.getItemStyle();u.fill=e(l,s),u.stroke=n(l,s)||u.fill;var d=a.ensureUniqueItemVisual(r,"style");te(d,u)}}}}},Cp={seriesType:"candlestick",plan:vr(),reset:function(i){var t=i.coordinateSystem,e=i.getData(),n=function(h,c){var g,f=h.getBaseAxis(),p=f.type==="category"?f.getBandWidth():(g=f.getExtent(),Math.abs(g[1]-g[0])/c.count()),y=J(Be(h.get("barMaxWidth"),p),p),v=J(Be(h.get("barMinWidth"),1),p),b=h.get("barWidth");return b!=null?J(b,p):Math.max(Math.min(p/2,y),v)}(i,e),o=["x","y"],a=e.getDimensionIndex(e.mapDimension(o[0])),r=q(e.mapDimensionsAll(o[1]),e.getDimensionIndex,e),s=r[0],l=r[1],u=r[2],d=r[3];if(e.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),!(a<0||r.length<4))return{progress:i.pipelineContext.large?function(h,c){for(var g,f,p=_v(4*h.count),y=0,v=[],b=[],m=c.getStore(),x=!!i.get(["itemStyle","borderColorDoji"]);(f=h.next())!=null;){var S=m.get(a,f),_=m.get(s,f),w=m.get(l,f),I=m.get(u,f),M=m.get(d,f);isNaN(S)||isNaN(I)||isNaN(M)?(p[y++]=NaN,y+=3):(p[y++]=Ts(m,f,_,w,l,x),v[0]=S,v[1]=I,g=t.dataToPoint(v,null,b),p[y++]=g?g[0]:NaN,p[y++]=g?g[1]:NaN,v[1]=M,g=t.dataToPoint(v,null,b),p[y++]=g?g[1]:NaN)}c.setLayout("largePoints",p)}:function(h,c){for(var g,f=c.getStore();(g=h.next())!=null;){var p=f.get(a,g),y=f.get(s,g),v=f.get(l,g),b=f.get(u,g),m=f.get(d,g),x=Math.min(y,v),S=Math.max(y,v),_=C(x,p),w=C(S,p),I=C(b,p),M=C(m,p),D=[];T(D,w,0),T(D,_,1),D.push(R(M),R(w),R(I),R(_));var A=!!c.getItemModel(g).get(["itemStyle","borderColorDoji"]);c.setItemLayout(g,{sign:Ts(f,g,y,v,l,A),initBaseline:y>v?w[1]:_[1],ends:D,brushRect:L(b,m,p)})}function C(k,N){var P=[];return P[0]=N,P[1]=k,isNaN(N)||isNaN(k)?[NaN,NaN]:t.dataToPoint(P)}function T(k,N,P){var z=N.slice(),O=N.slice();z[0]=mr(z[0]+n/2,1,!1),O[0]=mr(O[0]-n/2,1,!0),P?k.push(z,O):k.push(O,z)}function L(k,N,P){var z=C(k,P),O=C(N,P);return z[0]-=n/2,O[0]-=n/2,{x:z[0],y:z[1],width:n,height:O[1]-z[1]}}function R(k){return k[0]=mr(k[0],1),k}}}}};function Ts(i,t,e,n,o,a){return e>n?-1:e<n?1:a?0:t>0?i.get(o,t-1)<=n?1:-1:1}function Ls(i,t){var e=t.rippleEffectColor||t.color;i.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var Ap=function(i){function t(e,n){var o=i.call(this)||this,a=new Ed(e,n),r=new se;return o.add(a),o.add(r),o.updateData(e,n),o}return H(t,i),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var n=e.symbolType,o=e.color,a=e.rippleNumber,r=this.childAt(1),s=0;s<a;s++){var l=tt(n,-1,-1,2,2,o);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/a*e.period+e.effectOffset;l.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),r.add(l)}Ls(r,e)},t.prototype.updateEffectAnimation=function(e){for(var n=this._effectCfg,o=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],r=0;r<a.length;r++){var s=a[r];if(n[s]!==e[s])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}Ls(o,e)},t.prototype.highlight=function(){Zn(this)},t.prototype.downplay=function(){Un(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,n){var o=this,a=e.hostModel;this.childAt(0).updateData(e,n);var r=this.childAt(1),s=e.getItemModel(n),l=e.getItemVisual(n,"symbol"),u=qi(e.getItemVisual(n,"symbolSize")),d=e.getItemVisual(n,"style"),h=d&&d.fill,c=s.getModel("emphasis");r.setScale(u),r.traverse(function(y){y.setStyle("fill",h)});var g=Ki(e.getItemVisual(n,"symbolOffset"),u);g&&(r.x=g[0],r.y=g[1]);var f=e.getItemVisual(n,"symbolRotate");r.rotation=(f||0)*Math.PI/180||0;var p={};p.showEffectOn=a.get("showEffectOn"),p.rippleScale=s.get(["rippleEffect","scale"]),p.brushType=s.get(["rippleEffect","brushType"]),p.period=1e3*s.get(["rippleEffect","period"]),p.effectOffset=n/e.count(),p.z=a.getShallow("z")||0,p.zlevel=a.getShallow("zlevel")||0,p.symbolType=l,p.color=h,p.rippleEffectColor=s.get(["rippleEffect","color"]),p.rippleNumber=s.get(["rippleEffect","number"]),p.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(y){y==="emphasis"?p.showEffectOn!=="render"&&o.startEffectAnimation(p):y==="normal"&&p.showEffectOn!=="render"&&o.stopEffectAnimation()}),this._effectCfg=p,Re(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(se),Tp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.init=function(){this._symbolDraw=new Hi(Ap)},t.prototype.render=function(e,n,o){var a=e.getData(),r=this._symbolDraw;r.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(r.group)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,o=n&&n.getArea&&n.getArea();return e.get("clip",!0)?o:null},t.prototype.updateTransform=function(e,n,o){var a=e.getData();this.group.dirty();var r=Gi("").reset(e,n,o);r.progress&&r.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var n=e.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=bv(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(Ne),Lp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return H(t,i),t.prototype.getInitialData=function(e,n){return cn(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,n,o){return o.point(n.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(ke),Ps=function(i){function t(e,n,o){var a=i.call(this)||this;return a.add(a.createLine(e,n,o)),a._updateEffectSymbol(e,n),a}return H(t,i),t.prototype.createLine=function(e,n,o){return new Lo(e,n,o)},t.prototype._updateEffectSymbol=function(e,n){var o=e.getItemModel(n).getModel("effect"),a=o.get("symbolSize"),r=o.get("symbol");K(a)||(a=[a,a]);var s=e.getItemVisual(n,"style"),l=o.get("color")||s&&s.stroke,u=this.childAt(1);this._symbolType!==r&&(this.remove(u),(u=tt(r,-.5,-.5,1,1,l)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",l),u.setStyle(o.getItemStyle(["color"])),u.scaleX=a[0],u.scaleY=a[1],u.setColor(l),this._symbolType=r,this._symbolScale=a,this._updateEffectAnimation(e,o,n))},t.prototype._updateEffectAnimation=function(e,n,o){var a=this.childAt(1);if(a){var r=e.getItemLayout(o),s=1e3*n.get("period"),l=n.get("loop"),u=n.get("roundTrip"),d=n.get("constantSpeed"),h=st(n.get("delay"),function(g){return g/e.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,r),d>0&&(s=this._getLineLength(a)/d*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var c=void 0;c=pe(h)?h(o):h,a.__t>0&&(c=-s*a.__t),this._animateSymbol(a,s,c,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(e,n,o,a,r){if(n>0){e.__t=0;var s=this,l=e.animate("",a).when(r?2*n:n,{__t:r?2:1}).delay(o).during(function(){s._updateSymbolPosition(e)});a||l.done(function(){s.remove(e)}),l.start()}},t.prototype._getLineLength=function(e){return jn(e.__p1,e.__cp1)+jn(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,n){e.__p1=n[0],e.__p2=n[1],e.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(e,n,o){this.childAt(0).updateData(e,n,o),this._updateEffectSymbol(e,n)},t.prototype._updateSymbolPosition=function(e){var n=e.__p1,o=e.__p2,a=e.__cp1,r=e.__t<1?e.__t:2-e.__t,s=[e.x,e.y],l=s.slice(),u=jd,d=Sv;s[0]=u(n[0],a[0],o[0],r),s[1]=u(n[1],a[1],o[1],r);var h=e.__t<1?d(n[0],a[0],o[0],r):d(o[0],a[0],n[0],1-r),c=e.__t<1?d(n[1],a[1],o[1],r):d(o[1],a[1],n[1],1-r);e.rotation=-Math.atan2(c,h)-Math.PI/2,this._symbolType!=="line"&&this._symbolType!=="rect"&&this._symbolType!=="roundRect"||(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=1.05*jn(l,s),r===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):e.__lastT===1?e.scaleY=2*jn(n,s):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=s[0],e.y=s[1]},t.prototype.updateLayout=function(e,n){this.childAt(0).updateLayout(e,n);var o=e.getItemModel(n).getModel("effect");this._updateEffectAnimation(e,o,n)},t}(se),ks=function(i){function t(e,n,o){var a=i.call(this)||this;return a._createPolyline(e,n,o),a}return H(t,i),t.prototype._createPolyline=function(e,n,o){var a=e.getItemLayout(n),r=new Xn({shape:{points:a}});this.add(r),this._updateCommonStl(e,n,o)},t.prototype.updateData=function(e,n,o){var a=e.hostModel,r=this.childAt(0),s={shape:{points:e.getItemLayout(n)}};Ve(r,s,a,n),this._updateCommonStl(e,n,o)},t.prototype._updateCommonStl=function(e,n,o){var a=this.childAt(0),r=e.getItemModel(n),s=o&&o.emphasisLineStyle,l=o&&o.focus,u=o&&o.blurScope,d=o&&o.emphasisDisabled;if(!o||e.hasItemOption){var h=r.getModel("emphasis");s=h.getModel("lineStyle").getLineStyle(),d=h.get("disabled"),l=h.get("focus"),u=h.get("blurScope")}a.useStyle(e.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,Re(this,l,u,d)},t.prototype.updateLayout=function(e,n){this.childAt(0).setShape("points",e.getItemLayout(n))},t}(se),Pp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return H(t,i),t.prototype.createLine=function(e,n,o){return new ks(e,n,o)},t.prototype._updateAnimationPoints=function(e,n){this._points=n;for(var o=[0],a=0,r=1;r<n.length;r++){var s=n[r-1],l=n[r];a+=jn(s,l),o.push(a)}if(a!==0){for(r=0;r<o.length;r++)o[r]/=a;this._offsets=o,this._length=a}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var n=e.__t<1?e.__t:2-e.__t,o=this._points,a=this._offsets,r=o.length;if(a){var s,l=this._lastFrame;if(n<this._lastFramePercent){for(s=Math.min(l+1,r-1);s>=0&&!(a[s]<=n);s--);s=Math.min(s,r-2)}else{for(s=l;s<r&&!(a[s]>n);s++);s=Math.min(s-1,r-2)}var u=(n-a[s])/(a[s+1]-a[s]),d=o[s],h=o[s+1];e.x=d[0]*(1-u)+u*h[0],e.y=d[1]*(1-u)+u*h[1];var c=e.__t<1?h[0]-d[0]:d[0]-h[0],g=e.__t<1?h[1]-d[1]:d[1]-h[1];e.rotation=-Math.atan2(g,c)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=n,e.ignore=!1}},t}(Ps),kp=function(){this.polyline=!1,this.curveness=0,this.segs=[]},Np=function(i){function t(e){var n=i.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return H(t,i),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new kp},t.prototype.buildPath=function(e,n){var o,a=n.segs,r=n.curveness;if(n.polyline)for(o=this._off;o<a.length;){var s=a[o++];if(s>0){e.moveTo(a[o++],a[o++]);for(var l=1;l<s;l++)e.lineTo(a[o++],a[o++])}}else for(o=this._off;o<a.length;){var u=a[o++],d=a[o++],h=a[o++],c=a[o++];if(e.moveTo(u,d),r>0){var g=(u+h)/2-(d-c)*r,f=(d+c)/2-(h-u)*r;e.quadraticCurveTo(g,f,h,c)}else e.lineTo(h,c)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(e,n){var o=this.shape,a=o.segs,r=o.curveness,s=this.style.lineWidth;if(o.polyline)for(var l=0,u=0;u<a.length;){var d=a[u++];if(d>0)for(var h=a[u++],c=a[u++],g=1;g<d;g++){var f=a[u++],p=a[u++];if(th(h,c,f,p,s,e,n))return l}l++}else for(l=0,u=0;u<a.length;){if(h=a[u++],c=a[u++],f=a[u++],p=a[u++],r>0){if(wv(h,c,(h+f)/2-(c-p)*r,(c+p)/2-(f-h)*r,f,p,s,e,n))return l}else if(th(h,c,f,p,s,e,n))return l;l++}return-1},t.prototype.contain=function(e,n){var o=this.transformCoordToLocal(e,n),a=this.getBoundingRect();return e=o[0],n=o[1],a.contain(e,n)?(this.hoverDataIdx=this.findDataIndex(e,n))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape.segs,o=1/0,a=1/0,r=-1/0,s=-1/0,l=0;l<n.length;){var u=n[l++],d=n[l++];o=Math.min(u,o),r=Math.max(u,r),a=Math.min(d,a),s=Math.max(d,s)}e=this._rect=new pt(o,a,r,s)}return e},t}(Pe),Vp=function(){function i(){this.group=new se}return i.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},i.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},i.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],o=e.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var r=a.length,s=new Float32Array(r+o.length);s.set(a),s.set(o,r),n.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:o}),this._setCommon(l,e),l.__startIndex=t.start}},i.prototype.remove=function(){this._clear()},i.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},i.prototype._create=function(){var t=new Np({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},i.prototype._setCommon=function(t,e,n){var o=e.hostModel;t.setShape({polyline:o.get("polyline"),curveness:o.get(["lineStyle","curveness"])}),t.useStyle(o.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var r=_e(t);r.seriesIndex=o.seriesIndex,t.on("mousemove",function(s){r.dataIndex=null;var l=t.hoverDataIdx;l>0&&(r.dataIndex=l+t.__startIndex)})},i.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},i}(),Ns={seriesType:"lines",plan:vr(),reset:function(i){var t=i.coordinateSystem;if(t){var e=i.get("polyline"),n=i.pipelineContext.large;return{progress:function(o,a){var r=[];if(n){var s=void 0,l=o.end-o.start;if(e){for(var u=0,d=o.start;d<o.end;d++)u+=i.getLineCoordsCount(d);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var h=0,c=[];for(d=o.start;d<o.end;d++){var g=i.getLineCoords(d,r);e&&(s[h++]=g);for(var f=0;f<g;f++)c=t.dataToPoint(r[f],!1,c),s[h++]=c[0],s[h++]=c[1]}a.setLayout("linesPoints",s)}else for(d=o.start;d<o.end;d++){var p=a.getItemModel(d),y=(g=i.getLineCoords(d,r),[]);if(e)for(var v=0;v<g;v++)y.push(t.dataToPoint(r[v]));else{y[0]=t.dataToPoint(r[0]),y[1]=t.dataToPoint(r[1]);var b=p.get(["lineStyle","curveness"]);+b&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*b,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*b])}a.setItemLayout(d,y)}}}}}},Rp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.render=function(e,n,o){var a=e.getData(),r=this._updateLineDraw(a,e),s=e.get("zlevel"),l=e.get(["effect","trailLength"]),u=o.getZr(),d=u.painter.getType()==="svg";d||u.painter.getLayer(s).clear(!0),this._lastZlevel==null||d||u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l>0&&(d||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),r.updateData(a);var h=e.get("clip",!0)&&yr(e.coordinateSystem,!1,e);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,o){var a=e.getData();this._updateLineDraw(a,e).incrementalPrepareUpdate(a),this._clearLayer(o),this._finished=!1},t.prototype.incrementalRender=function(e,n,o){this._lineDraw.incrementalUpdate(e,n.getData()),this._finished=e.end===n.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,n,o){var a=e.getData(),r=e.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var s=Ns.reset(e,n,o);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(o)},t.prototype._updateLineDraw=function(e,n){var o=this._lineDraw,a=this._showEffect(n),r=!!n.get("polyline"),s=n.pipelineContext.large;return o&&a===this._hasEffet&&r===this._isPolyline&&s===this._isLargeDraw||(o&&o.remove(),o=this._lineDraw=s?new Vp:new Po(r?a?Pp:ks:a?Ps:Lo),this._hasEffet=a,this._isPolyline=r,this._isLargeDraw=s),this.group.add(o.group),o},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var n=e.getZr();n.painter.getType()==="svg"||this._lastZlevel==null||n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.type="lines",t}(Ne),zp=typeof Uint32Array>"u"?Array:Uint32Array,Op=typeof Float64Array>"u"?Array:Float64Array;function Vs(i){var t=i.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(i.data=q(t,function(e){var n={coords:[e[0].coord,e[1].coord]};return e[0].name&&(n.fromName=e[0].name),e[1].name&&(n.toName=e[1].name),nh([n,e[0],e[1]])}))}var Ep=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return H(t,i),t.prototype.init=function(e){e.data=e.data||[],Vs(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),i.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(Vs(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}i.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=tr(this._flatCoords,n.flatCoords),this._flatCoordsOffset=tr(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var n=this.getData().getItemModel(e);return n.option instanceof Array?n.option:n.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,n){if(this._flatCoordsOffset){for(var o=this._flatCoordsOffset[2*e],a=this._flatCoordsOffset[2*e+1],r=0;r<a;r++)n[r]=n[r]||[],n[r][0]=this._flatCoords[o+2*r],n[r][1]=this._flatCoords[o+2*r+1];return a}var s=this._getCoordsFromItemModel(e);for(r=0;r<s.length;r++)n[r]=n[r]||[],n[r][0]=s[r][0],n[r][1]=s[r][1];return s.length},t.prototype._processFlatCoordsArray=function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),vt(e[0])){for(var o=e.length,a=new zp(o),r=new Op(o),s=0,l=0,u=0,d=0;d<o;){u++;var h=e[d++];a[l++]=s+n,a[l++]=h;for(var c=0;c<h;c++){var g=e[d++],f=e[d++];r[s++]=g,r[s++]=f}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:r,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,n){var o=new je(["value"],this);return o.hasItemOption=!1,o.initData(e.data,[],function(a,r,s,l){if(a instanceof Array)return NaN;o.hasItemOption=!0;var u=a.value;return u!=null?u instanceof Array?u[l]:u:void 0}),o},t.prototype.formatTooltip=function(e,n,o){var a=this.getData().getItemModel(e),r=a.get("name");if(r)return r;var s=a.get("fromName"),l=a.get("toName"),u=[];return s!=null&&u.push(s),l!=null&&u.push(l),ft("nameValue",{name:u.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),n=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(ke);function ci(i){return i instanceof Array||(i=[i,i]),i}var Bp={seriesType:"lines",reset:function(i){var t=ci(i.get("symbol")),e=ci(i.get("symbolSize")),n=i.getData();return n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",e&&e[0]),n.setVisual("toSymbolSize",e&&e[1]),{dataEach:n.hasItemOption?function(o,a){var r=o.getItemModel(a),s=ci(r.getShallow("symbol",!0)),l=ci(r.getShallow("symbolSize",!0));s[0]&&o.setItemVisual(a,"fromSymbol",s[0]),s[1]&&o.setItemVisual(a,"toSymbol",s[1]),l[0]&&o.setItemVisual(a,"fromSymbolSize",l[0]),l[1]&&o.setItemVisual(a,"toSymbolSize",l[1])}:null}}},Gp=function(){function i(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=ih.createCanvas();this.canvas=t}return i.prototype.update=function(t,e,n,o,a,r){var s=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),d=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext("2d"),g=t.length;h.width=e,h.height=n;for(var f=0;f<g;++f){var p=t[f],y=p[0],v=p[1],b=o(p[2]);c.globalAlpha=b,c.drawImage(s,y-d,v-d)}if(!h.width||!h.height)return h;for(var m=c.getImageData(0,0,h.width,h.height),x=m.data,S=0,_=x.length,w=this.minOpacity,I=this.maxOpacity-w;S<_;){b=x[S+3]/256;var M=4*Math.floor(255*b);if(b>0){var D=r(b)?l:u;b>0&&(b=b*I+w),x[S++]=D[M],x[S++]=D[M+1],x[S++]=D[M+2],x[S++]=D[M+3]*b*256}else S+=4}return c.putImageData(m,0,0),h},i.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=ih.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var o=t.getContext("2d");return o.clearRect(0,0,n,n),o.shadowOffsetX=n,o.shadowBlur=this.blurSize,o.shadowColor="#000",o.beginPath(),o.arc(-e,e,this.pointSize,0,2*Math.PI,!0),o.closePath(),o.fill(),t},i.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,o=n[e]||(n[e]=new Uint8ClampedArray(1024)),a=[0,0,0,0],r=0,s=0;s<256;s++)t[e](s/255,!0,a),o[r++]=a[0],o[r++]=a[1],o[r++]=a[2],o[r++]=a[3];return o},i}();function Rs(i){var t=i.dimensions;return t[0]==="lng"&&t[1]==="lat"}var Hp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.render=function(e,n,o){var a;n.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===e&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var r=e.coordinateSystem;r.type==="cartesian2d"||r.type==="calendar"?this._renderOnCartesianAndCalendar(e,o,0,e.getData().count()):Rs(r)&&this._renderOnGeo(r,e,a,o)},t.prototype.incrementalPrepareRender=function(e,n,o){this.group.removeAll()},t.prototype.incrementalRender=function(e,n,o,a){var r=n.coordinateSystem;r&&(Rs(r)?this.render(n,o,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){$i(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,n,o,a,r){var s,l,u,d,h=e.coordinateSystem,c=Qi(h,"cartesian2d");if(c){var g=h.getAxis("x"),f=h.getAxis("y");s=g.getBandWidth()+.5,l=f.getBandWidth()+.5,u=g.scale.getExtent(),d=f.scale.getExtent()}for(var p=this.group,y=e.getData(),v=e.getModel(["emphasis","itemStyle"]).getItemStyle(),b=e.getModel(["blur","itemStyle"]).getItemStyle(),m=e.getModel(["select","itemStyle"]).getItemStyle(),x=e.get(["itemStyle","borderRadius"]),S=yt(e),_=e.getModel("emphasis"),w=_.get("focus"),I=_.get("blurScope"),M=_.get("disabled"),D=c?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],A=o;A<a;A++){var C=void 0,T=y.getItemVisual(A,"style");if(c){var L=y.get(D[0],A),R=y.get(D[1],A);if(isNaN(y.get(D[2],A))||isNaN(L)||isNaN(R)||L<u[0]||L>u[1]||R<d[0]||R>d[1])continue;var k=h.dataToPoint([L,R]);C=new Ee({shape:{x:k[0]-s/2,y:k[1]-l/2,width:s,height:l},style:T})}else{if(isNaN(y.get(D[1],A)))continue;C=new Ee({z2:1,shape:h.dataToRect([y.get(D[0],A)]).contentShape,style:T})}if(y.hasItemOption){var N=y.getItemModel(A),P=N.getModel("emphasis");v=P.getModel("itemStyle").getItemStyle(),b=N.getModel(["blur","itemStyle"]).getItemStyle(),m=N.getModel(["select","itemStyle"]).getItemStyle(),x=N.get(["itemStyle","borderRadius"]),w=P.get("focus"),I=P.get("blurScope"),M=P.get("disabled"),S=yt(N)}C.shape.r=x;var z=e.getRawValue(A),O="-";z&&z[2]!=null&&(O=z[2]+""),Rt(C,S,{labelFetcher:e,labelDataIndex:A,defaultOpacity:T.opacity,defaultText:O}),C.ensureState("emphasis").style=v,C.ensureState("blur").style=b,C.ensureState("select").style=m,Re(C,w,I,M),C.incremental=r,r&&(C.states.emphasis.hoverLayer=!0),p.add(C),y.setItemGraphicEl(A,C),this._progressiveEls&&this._progressiveEls.push(C)}},t.prototype._renderOnGeo=function(e,n,o,a){var r=o.targetVisuals.inRange,s=o.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new Gp;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var d=e.getViewRect().clone(),h=e.getRoamTransform();d.applyTransform(h);var c=Math.max(d.x,0),g=Math.max(d.y,0),f=Math.min(d.width+d.x,a.getWidth()),p=Math.min(d.height+d.y,a.getHeight()),y=f-c,v=p-g,b=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],m=l.mapArray(b,function(w,I,M){var D=e.dataToPoint([w,I]);return D[0]-=c,D[1]-=g,D.push(M),D}),x=o.getExtent(),S=o.type==="visualMap.continuous"?function(w,I){var M=w[1]-w[0];return I=[(I[0]-w[0])/M,(I[1]-w[0])/M],function(D){return D>=I[0]&&D<=I[1]}}(x,o.option.range):function(w,I,M){var D=w[1]-w[0],A=(I=q(I,function(T){return{interval:[(T.interval[0]-w[0])/D,(T.interval[1]-w[0])/D]}})).length,C=0;return function(T){var L;for(L=C;L<A;L++)if((R=I[L].interval)[0]<=T&&T<=R[1]){C=L;break}if(L===A)for(L=C-1;L>=0;L--){var R;if((R=I[L].interval)[0]<=T&&T<=R[1]){C=L;break}}return L>=0&&L<A&&M[L]}}(x,o.getPieceList(),o.option.selected);u.update(m,y,v,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:s.color.getColorMapper()},S);var _=new Kt({style:{width:y,height:v,x:c,y:g,image:u.canvas},silent:!0});this.group.add(_)},t.type="heatmap",t}(Ne),Fp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.getInitialData=function(e,n){return cn(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=qd.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(ke),Wp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return H(t,i),t.prototype.render=function(e,n,o){var a=e.getData(),r=this,s=this.group,l=e.getLayerSeries(),u=a.getLayout("layoutInfo"),d=u.rect,h=u.boundaryGap;function c(y){return y.name}s.x=0,s.y=d.y+h[0];var g=new jt(this._layersSeries||[],l,c,c),f=[];function p(y,v,b){var m=r._layers;if(y!=="remove"){for(var x,S,_=[],w=[],I=l[v].indices,M=0;M<I.length;M++){var D=a.getItemLayout(I[M]),A=D.x,C=D.y0,T=D.y;_.push(A,C),w.push(A,C+T),x=a.getItemVisual(I[M],"style")}var L=a.getItemLayout(I[0]),R=e.getModel("label").get("margin"),k=e.getModel("emphasis");if(y==="add"){var N=f[v]=new se;S=new Iv({shape:{points:_,stackedOnPoints:w,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),N.add(S),s.add(N),e.isAnimationEnabled()&&S.setClipPath(function(z,O,B){var G=new Ee({shape:{x:z.x-10,y:z.y-10,width:0,height:z.height+20}});return mt(G,{shape:{x:z.x-50,width:z.width+100,height:z.height+20}},O,B),G}(S.getBoundingRect(),e,function(){S.removeClipPath()}))}else N=m[b],S=N.childAt(0),s.add(N),f[v]=N,Ve(S,{shape:{points:_,stackedOnPoints:w}},e),fn(S);Rt(S,yt(e),{labelDataIndex:I[M-1],defaultText:a.getName(I[M-1]),inheritColor:x.fill},{normal:{verticalAlign:"middle"}}),S.setTextConfig({position:null,local:!0});var P=S.getTextContent();P&&(P.x=L.x-R,P.y=L.y0+L.y/2),S.useStyle(x),a.setItemGraphicEl(v,S),rt(S,e),Re(S,k.get("focus"),k.get("blurScope"),k.get("disabled"))}else s.remove(m[v])}g.add(Q(p,this,"add")).update(Q(p,this,"update")).remove(Q(p,this,"remove")).execute(),this._layersSeries=l,this._layers=f},t.type="themeRiver",t}(Ne),Zp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new ur(Q(this.getData,this),Q(this.getRawData,this))},t.prototype.fixData=function(e){var n=e.length,o={},a=pr(e,function(c){return o.hasOwnProperty(c[0]+"")||(o[c[0]+""]=-1),c[2]}),r=[];a.buckets.each(function(c,g){r.push({name:g,dataList:c})});for(var s=r.length,l=0;l<s;++l){for(var u=r[l].name,d=0;d<r[l].dataList.length;++d){var h=r[l].dataList[d][0]+"";o[h]=l}for(var h in o)o.hasOwnProperty(h)&&o[h]!==l&&(o[h]=l,e[n]=[h,0,u],n++)}return e},t.prototype.getInitialData=function(e,n){for(var o=this.getReferringComponents("singleAxis",yn).models[0].get("type"),a=nt(e.data,function(g){return g[2]!==void 0}),r=this.fixData(a||[]),s=[],l=this.nameMap=fe(),u=0,d=0;d<r.length;++d)s.push(r[d][2]),l.get(r[d][2])||(l.set(r[d][2],u),u++);var h=ir(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:gr(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,c=new je(h,this);return c.initData(r),c},t.prototype.getLayerSeries=function(){for(var e=this.getData(),n=e.count(),o=[],a=0;a<n;++a)o[a]=a;var r=e.mapDimension("single"),s=pr(o,function(u){return e.get("name",u)}),l=[];return s.buckets.each(function(u,d){u.sort(function(h,c){return e.get(r,h)-e.get(r,c)}),l.push({name:d,indices:u})}),l},t.prototype.getAxisTooltipData=function(e,n,o){K(e)||(e=e?[e]:[]);for(var a,r=this.getData(),s=this.getLayerSeries(),l=[],u=s.length,d=0;d<u;++d){for(var h=Number.MAX_VALUE,c=-1,g=s[d].indices.length,f=0;f<g;++f){var p=r.get(e[0],s[d].indices[f]),y=Math.abs(p-n);y<=h&&(a=p,h=y,c=s[d].indices[f])}l.push(c)}return{dataIndices:l,nestestValue:a}},t.prototype.formatTooltip=function(e,n,o){var a=this.getData(),r=a.getName(e),s=a.get(a.mapDimension("value"),e);return ft("nameValue",{name:r,value:s})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(ke);function Up(i,t){i.eachSeriesByType("themeRiver",function(e){var n=e.getData(),o=e.coordinateSystem,a={},r=o.getRect();a.rect=r;var s=e.get("boundaryGap"),l=o.getAxis();a.boundaryGap=s,l.orient==="horizontal"?(s[0]=J(s[0],r.height),s[1]=J(s[1],r.height),zs(n,e,r.height-s[0]-s[1])):(s[0]=J(s[0],r.width),s[1]=J(s[1],r.width),zs(n,e,r.width-s[0]-s[1])),n.setLayout("layoutInfo",a)})}function zs(i,t,e){if(i.count())for(var n,o=t.coordinateSystem,a=t.getLayerSeries(),r=i.mapDimension("single"),s=i.mapDimension("value"),l=q(a,function(y){return q(y.indices,function(v){var b=o.dataToPoint(i.get(r,v));return b[1]=i.get(s,v),b})}),u=function(y){for(var v=y.length,b=y[0].length,m=[],x=[],S=0,_=0;_<b;++_){for(var w=0,I=0;I<v;++I)w+=y[I][_][1];w>S&&(S=w),m.push(w)}for(var M=0;M<b;++M)x[M]=(S-m[M])/2;S=0;for(var D=0;D<b;++D){var A=m[D]+x[D];A>S&&(S=A)}return{y0:x,max:S}}(l),d=u.y0,h=e/u.max,c=a.length,g=a[0].indices.length,f=0;f<g;++f){n=d[f]*h,i.setItemLayout(a[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:n,y:l[0][f][1]*h});for(var p=1;p<c;++p)n+=l[p-1][f][1]*h,i.setItemLayout(a[p].indices[f],{layerIndex:p,x:l[p][f][0],y0:n,y:l[p][f][1]*h})}}var Os=function(i){function t(e,n,o,a){var r=i.call(this)||this;r.z2=2,r.textConfig={inside:!0},_e(r).seriesIndex=n.seriesIndex;var s=new ye({z2:4,silent:e.getModel().get(["label","silent"])});return r.setTextContent(s),r.updateData(!0,e,n,o,a),r}return H(t,i),t.prototype.updateData=function(e,n,o,a,r){this.node=n,n.piece=this,o=o||this._seriesModel,a=a||this._ecModel;var s=this;_e(s).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),d=n.getLayout(),h=te({},d);h.label=null;var c=n.getVisual("style");c.lineJoin="bevel";var g=n.getVisual("decal");g&&(c.decal=oh(g,r));var f=ah(l.getModel("itemStyle"),h,!0);te(h,f),V(lr,function(b){var m=s.ensureState(b),x=l.getModel([b,"itemStyle"]);m.style=x.getItemStyle();var S=ah(x,h);S&&(m.shape=S)}),e?(s.setShape(h),s.shape.r=d.r0,mt(s,{shape:{r:d.r}},o,n.dataIndex)):(Ve(s,{shape:h},o),fn(s)),s.useStyle(c),this._updateLabel(o);var p=l.getShallow("cursor");p&&s.attr("cursor",p),this._seriesModel=o||this._seriesModel,this._ecModel=a||this._ecModel;var y=u.get("focus"),v=y==="ancestor"?n.getAncestorsIndices():y==="descendant"?n.getDescendantIndices():y;Re(this,v,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e){var n=this,o=this.node.getModel(),a=o.getModel("label"),r=this.node.getLayout(),s=r.endAngle-r.startAngle,l=(r.startAngle+r.endAngle)/2,u=Math.cos(l),d=Math.sin(l),h=this,c=h.getTextContent(),g=this.node.dataIndex,f=a.get("minAngle")/180*Math.PI,p=a.get("show")&&!(f!=null&&Math.abs(s)<f);function y(v,b){var m=v.get(b);return m??a.get(b)}c.ignore=!p,V(Mv,function(v){var b=v==="normal"?o.getModel("label"):o.getModel([v,"label"]),m=v==="normal",x=m?c:c.ensureState(v),S=e.getFormattedLabel(g,v);m&&(S=S||n.node.name),x.style=Se(b,{},null,v!=="normal",!0),S&&(x.style.text=S);var _=b.get("show");_==null||m||(x.ignore=!_);var w,I=y(b,"position"),M=m?h:h.states[v],D=M.style.fill;M.textConfig={outsideFill:b.get("color")==="inherit"?D:null,inside:I!=="outside"};var A=y(b,"distance")||0,C=y(b,"align"),T=y(b,"rotate"),L=.5*Math.PI,R=1.5*Math.PI,k=Ji(T==="tangential"?Math.PI/2-l:l),N=k>L&&!Dv(k-L)&&k<R;I==="outside"?(w=r.r+A,C=N?"right":"left"):C&&C!=="center"?C==="left"?(w=r.r0+A,C=N?"right":"left"):C==="right"&&(w=r.r-A,C=N?"left":"right"):(w=s===2*Math.PI&&r.r0===0?0:(r.r+r.r0)/2,C="center"),x.style.align=C,x.style.verticalAlign=y(b,"verticalAlign")||"middle",x.x=w*u+r.cx,x.y=w*d+r.cy;var P=0;T==="radial"?P=Ji(-l)+(N?Math.PI:0):T==="tangential"?P=Ji(Math.PI/2-l)+(N?Math.PI:0):vt(T)&&(P=T*Math.PI/180),x.rotation=Ji(P)}),c.dirtyStyle()},t}(Yn),Zo="sunburstRootToNode",Es="sunburstHighlight",Yp="sunburstUnhighlight",Xp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.render=function(e,n,o,a){var r=this;this.seriesModel=e,this.api=o,this.ecModel=n;var s=e.getData(),l=s.tree.root,u=e.getViewRoot(),d=this.group,h=e.get("renderLabelForZeroData"),c=[];u.eachNode(function(f){c.push(f)});var g=this._oldChildren||[];(function(f,p){if(f.length===0&&p.length===0)return;function y(b){return b.getId()}function v(b,m){(function(x,S){if(h||!x||x.getValue()||(x=null),x!==l&&S!==l){if(S&&S.piece)x?(S.piece.updateData(!1,x,e,n,o),s.setItemGraphicEl(x.dataIndex,S.piece)):function(w){w&&w.piece&&(d.remove(w.piece),w.piece=null)}(S);else if(x){var _=new Os(x,e,n,o);d.add(_),s.setItemGraphicEl(x.dataIndex,_)}}})(b==null?null:f[b],m==null?null:p[m])}new jt(p,f,y,y).add(v).update(v).remove(le(v,null)).execute()})(c,g),function(f,p){p.depth>0?(r.virtualPiece?r.virtualPiece.updateData(!1,f,e,n,o):(r.virtualPiece=new Os(f,e,n,o),d.add(r.virtualPiece)),p.piece.off("click"),r.virtualPiece.on("click",function(y){r._rootToNode(p.parentNode)})):r.virtualPiece&&(d.remove(r.virtualPiece),r.virtualPiece=null)}(l,u),this._initEvents(),this._oldChildren=c},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(n){var o=!1;e.seriesModel.getViewRoot().eachNode(function(a){if(!o&&a.piece&&a.piece===n.target){var r=a.getModel().get("nodeClick");if(r==="rootToNode")e._rootToNode(a);else if(r==="link"){var s=a.getModel(),l=s.get("link");if(l){var u=s.get("target",!0)||"_blank";Hd(l,u)}}o=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Zo,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,n){var o=n.getData().getItemLayout(0);if(o){var a=e[0]-o.cx,r=e[1]-o.cy,s=Math.sqrt(a*a+r*r);return s<=o.r&&s>=o.r0}},t.type="sunburst",t}(Ne),jp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return H(t,i),t.prototype.getInitialData=function(e,n){var o={name:e.name,children:e.data};Bs(o);var a=this._levelModels=q(e.levels||[],function(s){return new Mt(s,this,n)},this),r=ho.createTree(o,this,function(s){s.wrapMethod("getItemModel",function(l,u){var d=r.getNodeByDataIndex(u),h=a[d.depth];return h&&(l.parentModel=h),l})});return r.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=ni(o,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;e&&(e===n||n.contains(e))||(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){zr(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(ke);function Bs(i){var t=0;V(i.children,function(n){Bs(n);var o=n.value;K(o)&&(o=o[0]),t+=o});var e=i.value;K(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),K(i.value)?i.value[0]=e:i.value=e}var Gs=Math.PI/180;function qp(i,t,e){t.eachSeriesByType(i,function(n){var o=n.get("center"),a=n.get("radius");K(a)||(a=[0,a]),K(o)||(o=[o,o]);var r=e.getWidth(),s=e.getHeight(),l=Math.min(r,s),u=J(o[0],r),d=J(o[1],s),h=J(a[0],l/2),c=J(a[1],l/2),g=-n.get("startAngle")*Gs,f=n.get("minAngle")*Gs,p=n.getData().tree.root,y=n.getViewRoot(),v=y.depth,b=n.get("sort");b!=null&&Hs(y,b);var m=0;V(y.children,function(k){!isNaN(k.getValue())&&m++});var x=y.getValue(),S=Math.PI/(x||m)*2,_=y.depth>0,w=y.height-(_?-1:1),I=(c-h)/(w||1),M=n.get("clockwise"),D=n.get("stillShowZeroSum"),A=M?1:-1,C=function(k,N){if(k){var P=N;if(k!==p){var z=k.getValue(),O=x===0&&D?S:z*S;O<f&&(O=f),P=N+A*O;var B=k.depth-v-(_?-1:1),G=h+I*B,W=h+I*(B+1),E=n.getLevelModel(k);if(E){var F=E.get("r0",!0),U=E.get("r",!0),Y=E.get("radius",!0);Y!=null&&(F=Y[0],U=Y[1]),F!=null&&(G=J(F,l/2)),U!=null&&(W=J(U,l/2))}k.setLayout({angle:O,startAngle:N,endAngle:P,clockwise:M,cx:u,cy:d,r0:G,r:W})}if(k.children&&k.children.length){var j=0;V(k.children,function($){j+=C($,N+j)})}return P-N}};if(_){var T=h,L=h+I,R=2*Math.PI;p.setLayout({angle:R,startAngle:g,endAngle:g+R,clockwise:M,cx:u,cy:d,r0:T,r:L})}C(y,g)})}function Hs(i,t){var e=i.children||[];i.children=function(n,o){if(pe(o)){var a=q(n,function(s,l){var u=s.getValue();return{params:{depth:s.depth,height:s.height,dataIndex:s.dataIndex,getValue:function(){return u}},index:l}});return a.sort(function(s,l){return o(s.params,l.params)}),q(a,function(s){return n[s.index]})}var r=o==="asc";return n.sort(function(s,l){var u=(s.getValue()-l.getValue())*(r?1:-1);return u===0?(s.dataIndex-l.dataIndex)*(r?-1:1):u})}(e,t),e.length&&V(i.children,function(n){Hs(n,t)})}function Kp(i){var t={};i.eachSeriesByType("sunburst",function(e){var n=e.getData(),o=n.tree;o.eachNode(function(a){var r=a.getModel().getModel("itemStyle").getItemStyle();r.fill||(r.fill=function(l,u,d){for(var h=l;h&&h.depth>1;)h=h.parentNode;var c=u.getColorFromPalette(h.name||h.dataIndex+"",t);return l.depth>1&&re(c)&&(c=Cv(c,(l.depth-1)/(d-1)*.5)),c}(a,e,o.root.height));var s=n.ensureUniqueItemVisual(a.dataIndex,"style");te(s,r)})})}var Fs={color:"fill",borderColor:"stroke"},$p={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},xt=Oe(),Qp=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,n){return cn(null,this)},t.prototype.getDataParams=function(e,n,o){var a=i.prototype.getDataParams.call(this,e,n);return o&&(a.info=xt(o).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(ke);function Jp(i,t){return t=t||[0,0],q(["x","y"],function(e,n){var o=this.getAxis(e),a=t[n],r=i[n]/2;return o.type==="category"?o.getBandWidth():Math.abs(o.dataToCoord(a-r)-o.dataToCoord(a+r))},this)}function eg(i,t){return t=t||[0,0],q([0,1],function(e){var n=t[e],o=i[e]/2,a=[],r=[];return a[e]=n-o,r[e]=n+o,a[1-e]=r[1-e]=t[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(r)[e])},this)}function tg(i,t){var e=this.getAxis(),n=t instanceof Array?t[0]:t,o=(i instanceof Array?i[0]:i)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(n-o)-e.dataToCoord(n+o))}function ng(i,t){return t=t||[0,0],q(["Radius","Angle"],function(e,n){var o=this["get"+e+"Axis"](),a=t[n],r=i[n]/2,s=o.type==="category"?o.getBandWidth():Math.abs(o.dataToCoord(a-r)-o.dataToCoord(a+r));return e==="Angle"&&(s=s*Math.PI/180),s},this)}function Ws(i,t,e,n){return i&&(i.legacy||i.legacy!==!1&&!e&&!n&&t!=="tspan"&&(t==="text"||Z(i,"text")))}function Zs(i,t,e){var n,o,a,r=i;if(t==="text")a=r;else{a={},Z(r,"text")&&(a.text=r.text),Z(r,"rich")&&(a.rich=r.rich),Z(r,"textFill")&&(a.fill=r.textFill),Z(r,"textStroke")&&(a.stroke=r.textStroke),Z(r,"fontFamily")&&(a.fontFamily=r.fontFamily),Z(r,"fontSize")&&(a.fontSize=r.fontSize),Z(r,"fontStyle")&&(a.fontStyle=r.fontStyle),Z(r,"fontWeight")&&(a.fontWeight=r.fontWeight),o={type:"text",style:a,silent:!0},n={};var s=Z(r,"textPosition");e?n.position=s?r.textPosition:"inside":s&&(n.position=r.textPosition),Z(r,"textPosition")&&(n.position=r.textPosition),Z(r,"textOffset")&&(n.offset=r.textOffset),Z(r,"textRotation")&&(n.rotation=r.textRotation),Z(r,"textDistance")&&(n.distance=r.textDistance)}return Us(a,i),V(a.rich,function(l){Us(l,l)}),{textConfig:n,textContent:o}}function Us(i,t){t&&(t.font=t.textFont||t.font,Z(t,"textStrokeWidth")&&(i.lineWidth=t.textStrokeWidth),Z(t,"textAlign")&&(i.align=t.textAlign),Z(t,"textVerticalAlign")&&(i.verticalAlign=t.textVerticalAlign),Z(t,"textLineHeight")&&(i.lineHeight=t.textLineHeight),Z(t,"textWidth")&&(i.width=t.textWidth),Z(t,"textHeight")&&(i.height=t.textHeight),Z(t,"textBackgroundColor")&&(i.backgroundColor=t.textBackgroundColor),Z(t,"textPadding")&&(i.padding=t.textPadding),Z(t,"textBorderColor")&&(i.borderColor=t.textBorderColor),Z(t,"textBorderWidth")&&(i.borderWidth=t.textBorderWidth),Z(t,"textBorderRadius")&&(i.borderRadius=t.textBorderRadius),Z(t,"textBoxShadowColor")&&(i.shadowColor=t.textBoxShadowColor),Z(t,"textBoxShadowBlur")&&(i.shadowBlur=t.textBoxShadowBlur),Z(t,"textBoxShadowOffsetX")&&(i.shadowOffsetX=t.textBoxShadowOffsetX),Z(t,"textBoxShadowOffsetY")&&(i.shadowOffsetY=t.textBoxShadowOffsetY))}function Ys(i,t,e){var n=i;n.textPosition=n.textPosition||e.position||"inside",e.offset!=null&&(n.textOffset=e.offset),e.rotation!=null&&(n.textRotation=e.rotation),e.distance!=null&&(n.textDistance=e.distance);var o=n.textPosition.indexOf("inside")>=0,a=i.fill||"#000";Xs(n,t);var r=n.textFill==null;return o?r&&(n.textFill=e.insideFill||"#fff",!n.textStroke&&e.insideStroke&&(n.textStroke=e.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(r&&(n.textFill=i.fill||e.outsideFill||"#000"),!n.textStroke&&e.outsideStroke&&(n.textStroke=e.outsideStroke)),n.text=t.text,n.rich=t.rich,V(t.rich,function(s){Xs(s,s)}),n}function Xs(i,t){t&&(Z(t,"fill")&&(i.textFill=t.fill),Z(t,"stroke")&&(i.textStroke=t.fill),Z(t,"lineWidth")&&(i.textStrokeWidth=t.lineWidth),Z(t,"font")&&(i.font=t.font),Z(t,"fontStyle")&&(i.fontStyle=t.fontStyle),Z(t,"fontWeight")&&(i.fontWeight=t.fontWeight),Z(t,"fontSize")&&(i.fontSize=t.fontSize),Z(t,"fontFamily")&&(i.fontFamily=t.fontFamily),Z(t,"align")&&(i.textAlign=t.align),Z(t,"verticalAlign")&&(i.textVerticalAlign=t.verticalAlign),Z(t,"lineHeight")&&(i.textLineHeight=t.lineHeight),Z(t,"width")&&(i.textWidth=t.width),Z(t,"height")&&(i.textHeight=t.height),Z(t,"backgroundColor")&&(i.textBackgroundColor=t.backgroundColor),Z(t,"padding")&&(i.textPadding=t.padding),Z(t,"borderColor")&&(i.textBorderColor=t.borderColor),Z(t,"borderWidth")&&(i.textBorderWidth=t.borderWidth),Z(t,"borderRadius")&&(i.textBorderRadius=t.borderRadius),Z(t,"shadowColor")&&(i.textBoxShadowColor=t.shadowColor),Z(t,"shadowBlur")&&(i.textBoxShadowBlur=t.shadowBlur),Z(t,"shadowOffsetX")&&(i.textBoxShadowOffsetX=t.shadowOffsetX),Z(t,"shadowOffsetY")&&(i.textBoxShadowOffsetY=t.shadowOffsetY),Z(t,"textShadowColor")&&(i.textShadowColor=t.textShadowColor),Z(t,"textShadowBlur")&&(i.textShadowBlur=t.textShadowBlur),Z(t,"textShadowOffsetX")&&(i.textShadowOffsetX=t.textShadowOffsetX),Z(t,"textShadowOffsetY")&&(i.textShadowOffsetY=t.textShadowOffsetY))}var js={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},qs=Le(js);Av(qn,function(i,t){return i[t]=1,i},{}),qn.join(", ");var pi=["","style","shape","extra"],en=Oe();function Uo(i,t,e,n,o){var a=i+"Animation",r=Kn(i,n,o)||{},s=en(t).userDuring;return r.duration>0&&(r.during=s?Q(og,{el:t,userDuring:s}):null,r.setToFinal=!0,r.scope=i),te(r,e[a]),r}function gi(i,t,e,n){var o=(n=n||{}).dataIndex,a=n.isInit,r=n.clearStyle,s=e.isAnimationEnabled(),l=en(i),u=t.style;l.userDuring=t.during;var d={},h={};if(function(f,p,y){for(var v=0;v<qs.length;v++){var b=qs[v],m=js[b],x=p[b];x&&(y[m[0]]=x[0],y[m[1]]=x[1])}for(v=0;v<qn.length;v++){var S=qn[v];p[S]!=null&&(y[S]=p[S])}}(0,t,h),Qs("shape",t,h),Qs("extra",t,h),!a&&s&&(function(f,p,y){for(var v=p.transition,b=Ht(v)?qn:qe(v||[]),m=0;m<b.length;m++){var x=b[m];if(x!=="style"&&x!=="shape"&&x!=="extra"){var S=f[x];y[x]=S}}}(i,t,d),$s("shape",i,t,d),$s("extra",i,t,d),function(f,p,y,v){if(y){var b,m=f.style;if(m){var x=y.transition,S=p.transition;if(x&&!Ht(x)){var _=qe(x);!b&&(b=v.style={});for(var w=0;w<_.length;w++){var I=m[C=_[w]];b[C]=I}}else if(f.getAnimationStyleProps&&(Ht(S)||Ht(x)||be(S,"style")>=0)){var M=f.getAnimationStyleProps(),D=M?M.style:null;if(D){!b&&(b=v.style={});var A=Le(y);for(w=0;w<A.length;w++){var C;D[C=A[w]]&&(I=m[C],b[C]=I)}}}}}}(i,t,u,d)),h.style=u,function(f,p,y){var v=p.style;if(!f.isGroup&&v){if(y){f.useStyle({});for(var b=f.animators,m=0;m<b.length;m++){var x=b[m];x.targetName==="style"&&x.changeTarget(f.style)}}f.setStyle(v)}p&&(p.style=null,p&&f.attr(p),p.style=v)}(i,h,r),function(f,p){Z(p,"silent")&&(f.silent=p.silent),Z(p,"ignore")&&(f.ignore=p.ignore),f instanceof Gn&&Z(p,"invisible")&&(f.invisible=p.invisible),f instanceof Pe&&Z(p,"autoBatch")&&(f.autoBatch=p.autoBatch)}(i,t),s)if(a){var c={};V(pi,function(f){var p=f?t[f]:t;p&&p.enterFrom&&(f&&(c[f]=c[f]||{}),te(f?c[f]:c,p.enterFrom))});var g=Uo("enter",i,t,e,o);g.duration>0&&i.animateFrom(c,g)}else(function(f,p,y,v,b){if(b){var m=Uo("update",f,p,v,y);m.duration>0&&f.animateFrom(b,m)}})(i,t,o||0,e,d);Ks(i,t),u?i.dirty():i.markRedraw()}function Ks(i,t){for(var e=en(i).leaveToProps,n=0;n<pi.length;n++){var o=pi[n],a=o?t[o]:t;a&&a.leaveTo&&(e||(e=en(i).leaveToProps={}),o&&(e[o]=e[o]||{}),te(o?e[o]:e,a.leaveTo))}}function fi(i,t,e,n){if(i){var o=i.parent,a=en(i).leaveToProps;if(a){var r=Uo("update",i,t,e,0);r.done=function(){o.remove(i)},i.animateTo(a,r)}else o.remove(i)}}function Ht(i){return i==="all"}var ut={},ig={setTransform:function(i,t){return ut.el[i]=t,this},getTransform:function(i){return ut.el[i]},setShape:function(i,t){var e=ut.el;return(e.shape||(e.shape={}))[i]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(i){var t=ut.el.shape;if(t)return t[i]},setStyle:function(i,t){var e=ut.el,n=e.style;return n&&(n[i]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(i){var t=ut.el.style;if(t)return t[i]},setExtra:function(i,t){return(ut.el.extra||(ut.el.extra={}))[i]=t,this},getExtra:function(i){var t=ut.el.extra;if(t)return t[i]}};function og(){var i=this,t=i.el;if(t){var e=en(t).userDuring,n=i.userDuring;e===n?(ut.el=t,n(ig)):i.el=i.userDuring=null}}function $s(i,t,e,n){var o=e[i];if(o){var a,r=t[i];if(r){var s=e.transition,l=o.transition;if(l)if(!a&&(a=n[i]={}),Ht(l))te(a,r);else for(var u=qe(l),d=0;d<u.length;d++){var h=r[g=u[d]];a[g]=h}else if(Ht(s)||be(s,i)>=0){!a&&(a=n[i]={});var c=Le(r);for(d=0;d<c.length;d++){var g;h=r[g=c[d]],ag(o[g],h)&&(a[g]=h)}}}}}function Qs(i,t,e){var n=t[i];if(n)for(var o=e[i]={},a=Le(n),r=0;r<a.length;r++){var s=a[r];o[s]=Tv(n[s])}}function ag(i,t){return rh(i)?i!==t:i!=null&&isFinite(i)}var Js=Oe(),rg=["percent","easing","shape","style","extra"];function el(i){i.stopAnimation("keyframe"),i.attr(Js(i))}function yi(i,t,e){if(e.isAnimationEnabled()&&t)if(K(t))V(t,function(s){yi(i,s,e)});else{var n=t.keyframes,o=t.duration;if(e&&o==null){var a=Kn("enter",e,0);o=a&&a.duration}if(n&&o){var r=Js(i);V(pi,function(s){var l;s&&!i[s]||(n.sort(function(u,d){return u.percent-d.percent}),V(n,function(u){var d=i.animators,h=s?u[s]:u;if(h){var c=Le(h);if(s||(c=nt(c,function(p){return be(rg,p)<0})),c.length){l||((l=i.animate(s,t.loop,!0)).scope="keyframe");for(var g=0;g<d.length;g++)d[g]!==l&&d[g].targetName===l.targetName&&d[g].stopTracks(c);s&&(r[s]=r[s]||{});var f=s?r[s]:r;V(c,function(p){f[p]=((s?i[s]:i)||{})[p]}),l.whenWithKeys(o*u.percent,h,c,u.easing)}}}),l&&l.delay(t.delay||0).duration(o).start(t.easing))})}}}var _t="emphasis",Pt="normal",Yo="blur",Xo="select",kt=[Pt,_t,Yo,Xo],jo={normal:["itemStyle"],emphasis:[_t,"itemStyle"],blur:[Yo,"itemStyle"],select:[Xo,"itemStyle"]},qo={normal:["label"],emphasis:[_t,"label"],blur:[Yo,"label"],select:[Xo,"label"]},sg=["x","y"],lg="e\0\0",$e={normal:{},emphasis:{},blur:{},select:{}},ug={cartesian2d:function(i){var t=i.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return i.dataToPoint(e)},size:Q(Jp,i)}}},geo:function(i){var t=i.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:i.getZoom()},api:{coord:function(e){return i.dataToPoint(e)},size:Q(eg,i)}}},single:function(i){var t=i.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return i.dataToPoint(e)},size:Q(tg,i)}}},polar:function(i){var t=i.getRadiusAxis(),e=i.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:i.cx,cy:i.cy,r:n[1],r0:n[0]},api:{coord:function(o){var a=t.dataToRadius(o[0]),r=e.dataToAngle(o[1]),s=i.coordToPoint([a,r]);return s.push(a,r*Math.PI/180),s},size:Q(ng,i)}}},calendar:function(i){var t=i.getRect(),e=i.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:i.getCellWidth(),cellHeight:i.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(n,o){return i.dataToPoint(n,o)}}}}};function Ko(i){return i instanceof Pe}function $o(i){return i instanceof Gn}var dg=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.render=function(e,n,o,a){this._progressiveEls=null;var r=this._data,s=e.getData(),l=this.group,u=nl(e,s,n,o);r||l.removeAll(),s.diff(r).add(function(h){ea(o,null,h,u(h,a),e,l,s)}).remove(function(h){var c=r.getItemGraphicEl(h);c&&fi(c,xt(c).option,e)}).update(function(h,c){var g=r.getItemGraphicEl(c);ea(o,g,h,u(h,a),e,l,s)}).execute();var d=e.get("clip",!0)?yr(e.coordinateSystem,!1,e):null;d?l.setClipPath(d):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(e,n,o){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,n,o,a,r){var s=n.getData(),l=nl(n,s,o,a),u=this._progressiveEls=[];function d(g){g.isGroup||(g.incremental=!0,g.ensureState("emphasis").hoverLayer=!0)}for(var h=e.start;h<e.end;h++){var c=ea(null,null,h,l(h,r),n,this.group,s);c&&(c.traverse(d),u.push(c))}},t.prototype.eachRendered=function(e){$i(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,n,o,a){var r=n.element;if(r==null||o.name===r)return!0;for(;(o=o.__hostTarget||o.parent)&&o!==this.group;)if(o.name===r)return!0;return!1},t.type="custom",t}(Ne);function Qo(i){var t,e=i.type;if(e==="path"){var n=i.shape,o=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=sl(n);t=Pv(a,null,o,n.layout||"center"),xt(t).customPathData=a}else if(e==="image")t=new Kt({}),xt(t).customImagePath=i.style.image;else if(e==="text")t=new ye({});else if(e==="group")t=new se;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var r=dh(e);r||me(""),t=new r}return xt(t).customGraphicType=e,t.name=i.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function Jo(i,t,e,n,o,a,r){el(t);var s=o&&o.normal.cfg;s&&t.setTextConfig(s),n&&n.transition==null&&(n.transition=sg);var l=n&&n.style;if(l){if(t.type==="text"){var u=l;Z(u,"textFill")&&(u.fill=u.textFill),Z(u,"textStroke")&&(u.stroke=u.textStroke)}var d=void 0,h=Ko(t)?l.decal:null;i&&h&&(h.dirty=!0,d=oh(h,i)),l.__decalPattern=d}$o(t)&&l&&(d=l.__decalPattern)&&(l.decal=d),gi(t,n,a,{dataIndex:e,isInit:r,clearStyle:!0}),yi(t,n.keyframeAnimation,a)}function tl(i,t,e,n,o){var a=t.isGroup?null:t,r=o&&o[i].cfg;if(a){var s=a.ensureState(i);if(n===!1){var l=a.getState(i);l&&(l.style=null)}else s.style=n||null;r&&(s.textConfig=r),Zi(a)}}function hg(i,t,e){var n=e===Pt,o=n?t:vi(t,e),a=o?o.z2:null;a!=null&&((n?i:i.ensureState(e)).z2=a||0)}function nl(i,t,e,n){var o=i.get("renderItem"),a=i.coordinateSystem,r={};a&&(r=a.prepareCustoms?a.prepareCustoms(a):ug[a.type](a));for(var s,l,u=Ae({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function(_,w){return w==null&&(w=s),t.getStore().get(t.getDimensionIndex(_||0),w)},style:function(_,w){w==null&&(w=s);var I=t.getItemVisual(w,"style"),M=I&&I.fill,D=I&&I.opacity,A=b(w,Pt).getItemStyle();M!=null&&(A.fill=M),D!=null&&(A.opacity=D);var C={inheritColor:re(M)?M:"#000"},T=m(w,Pt),L=Se(T,null,C,!1,!0);L.text=T.getShallow("show")?Be(i.getFormattedLabel(w,Pt),sh(t,w)):null;var R=lh(T,C,!1);return S(_,A),A=Ys(A,L,R),_&&x(A,_),A.legacy=!0,A},ordinalRawValue:function(_,w){w==null&&(w=s),_=_||0;var I=t.getDimensionInfo(_);if(!I){var M=t.getDimensionIndex(_);return M>=0?t.getStore().get(M,w):void 0}var D=t.get(I.name,w),A=I&&I.ordinalMeta;return A?A.categories[D]:D},styleEmphasis:function(_,w){w==null&&(w=s);var I=b(w,_t).getItemStyle(),M=m(w,_t),D=Se(M,null,null,!0,!0);D.text=M.getShallow("show")?Fn(i.getFormattedLabel(w,_t),i.getFormattedLabel(w,Pt),sh(t,w)):null;var A=lh(M,null,!0);return S(_,I),I=Ys(I,D,A),_&&x(I,_),I.legacy=!0,I},visual:function(_,w){if(w==null&&(w=s),Z(Fs,_)){var I=t.getItemVisual(w,"style");return I?I[Fs[_]]:null}if(Z($p,_))return t.getItemVisual(w,_)},barLayout:function(_){if(a.type==="cartesian2d"){var w=a.getBaseAxis();return Lv(Ae({axis:w},_))}},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(_){return uh(_,e)}},r.api||{}),d={context:{},seriesId:i.id,seriesName:i.name,seriesIndex:i.seriesIndex,coordSys:r.coordSys,dataInsideLength:t.count(),encode:cg(i.getData())},h={},c={},g={},f={},p=0;p<kt.length;p++){var y=kt[p];g[y]=i.getModel(jo[y]),f[y]=i.getModel(qo[y])}function v(_){return _===s?l||(l=t.getItemModel(_)):t.getItemModel(_)}function b(_,w){return t.hasItemOption?_===s?h[w]||(h[w]=v(_).getModel(jo[w])):v(_).getModel(jo[w]):g[w]}function m(_,w){return t.hasItemOption?_===s?c[w]||(c[w]=v(_).getModel(qo[w])):v(_).getModel(qo[w]):f[w]}return function(_,w){return s=_,l=null,h={},c={},o&&o(Ae({dataIndexInside:_,dataIndex:t.getRawIndex(_),actionType:w?w.type:null},d),u)};function x(_,w){for(var I in w)Z(w,I)&&(_[I]=w[I])}function S(_,w){_&&(_.textFill&&(w.textFill=_.textFill),_.textPosition&&(w.textPosition=_.textPosition))}}function cg(i){var t={};return V(i.dimensions,function(e){var n=i.getDimensionInfo(e);if(!n.isExtraCoord){var o=n.coordDim;(t[o]=t[o]||[])[n.coordDimIndex]=i.getDimensionIndex(e)}}),t}function ea(i,t,e,n,o,a,r){if(n){var s=ta(i,t,e,n,o,a);return s&&r.setItemGraphicEl(e,s),s&&Re(s,n.focus,n.blurScope,n.emphasisDisabled),s}a.remove(t)}function ta(i,t,e,n,o,a){var r=-1,s=t;t&&il(t,n,o)&&(r=be(a.childrenRef(),t),t=null);var l,u,d=!t,h=t;h?h.clearStates():(h=Qo(n),s&&(l=s,(u=h).copyTransform(l),$o(u)&&$o(l)&&(u.setStyle(l.style),u.z=l.z,u.z2=l.z2,u.zlevel=l.zlevel,u.invisible=l.invisible,u.ignore=l.ignore,Ko(u)&&Ko(l)&&u.setShape(l.shape)))),n.morph===!1?h.disableMorphing=!0:h.disableMorphing&&(h.disableMorphing=!1),$e.normal.cfg=$e.normal.conOpt=$e.emphasis.cfg=$e.emphasis.conOpt=$e.blur.cfg=$e.blur.conOpt=$e.select.cfg=$e.select.conOpt=null,$e.isLegacy=!1,function(p,y,v,b,m,x){if(!p.isGroup){ol(v,null,x),ol(v,_t,x);var S=x.normal.conOpt,_=x.emphasis.conOpt,w=x.blur.conOpt,I=x.select.conOpt;if(S!=null||_!=null||I!=null||w!=null){var M=p.getTextContent();if(S===!1)M&&p.removeTextContent();else{S=x.normal.conOpt=S||{type:"text"},M?M.clearStates():(M=Qo(S),p.setTextContent(M)),Jo(null,M,y,S,null,b,m);for(var D=S&&S.style,A=0;A<kt.length;A++){var C=kt[A];if(C!==Pt){var T=x[C].conOpt;tl(C,M,0,na(S,T,C),null)}}D?M.dirty():M.markRedraw()}}}}(h,e,n,o,d,$e),function(p,y,v,b,m){var x=v.clipPath;if(x===!1)p&&p.getClipPath()&&p.removeClipPath();else if(x){var S=p.getClipPath();S&&il(S,x,b)&&(S=null),S||(S=Qo(x),p.setClipPath(S)),Jo(null,S,y,x,null,b,m)}}(h,e,n,o,d),Jo(i,h,e,n,$e,o,d),Z(n,"info")&&(xt(h).info=n.info);for(var c=0;c<kt.length;c++){var g=kt[c];if(g!==Pt){var f=vi(n,g);tl(g,h,0,na(n,f,g),$e)}}return function(p,y,v){if(!p.isGroup){var b=p,m=v.currentZ,x=v.currentZLevel;b.z=m,b.zlevel=x;var S=y.z2;S!=null&&(b.z2=S||0);for(var _=0;_<kt.length;_++)hg(b,y,kt[_])}}(h,n,o),n.type==="group"&&function(p,y,v,b,m){var x=b.children,S=x?x.length:0,_=b.$mergeChildren,w=_==="byName"||b.diffChildrenByName,I=_===!1;if(!(!S&&!w&&!I)){if(w)return M={api:p,oldChildren:y.children()||[],newChildren:x||[],dataIndex:v,seriesModel:m,group:y},void new jt(M.oldChildren,M.newChildren,al,al,M).add(rl).update(rl).remove(gg).execute();var M;I&&y.removeAll();for(var D=0;D<S;D++){var A=x[D],C=y.childAt(D);A?(A.ignore==null&&(A.ignore=!1),ta(p,C,v,A,m,y)):C.ignore=!0}for(var T=y.childCount()-1;T>=D;T--){var L=y.childAt(T);pg(y,L,m)}}}(i,h,e,n,o),r>=0?a.replaceAt(h,r):a.add(h),h}function il(i,t,e){var n,o=xt(i),a=t.type,r=t.shape,s=t.style;return e.isUniversalTransitionEnabled()||a!=null&&a!==o.customGraphicType||a==="path"&&(n=r)&&(Z(n,"pathData")||Z(n,"d"))&&sl(r)!==o.customPathData||a==="image"&&Z(s,"image")&&s.image!==o.customImagePath}function ol(i,t,e){var n=t?vi(i,t):i,o=t?na(i,n,_t):i.style,a=i.type,r=n?n.textConfig:null,s=i.textContent,l=s?t?vi(s,t):s:null;if(o&&(e.isLegacy||Ws(o,a,!!r,!!l))){e.isLegacy=!0;var u=Zs(o,a,!t);!r&&u.textConfig&&(r=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var d=l;!d.type&&(d.type="text")}var h=t?e[t]:e.normal;h.cfg=r,h.conOpt=l}function vi(i,t){return t?i?i[t]:null:i}function na(i,t,e){var n=t&&t.style;return n==null&&e===_t&&i&&(n=i.styleEmphasis),n}function pg(i,t,e){t&&fi(t,xt(i).option,e)}function al(i,t){var e=i&&i.name;return e??lg+t}function rl(i,t){var e=this.context,n=i!=null?e.newChildren[i]:null,o=t!=null?e.oldChildren[t]:null;ta(e.api,o,e.dataIndex,n,e.seriesModel,e.group)}function gg(i){var t=this.context,e=t.oldChildren[i];e&&fi(e,xt(e).option,t.seriesModel)}function sl(i){return i&&(i.pathData||i.d)}function ia(i,t){t=t||{};var e=i.coordinateSystem,n=i.axis,o={},a=n.position,r=n.orient,s=e.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};o.position=[r==="vertical"?u.vertical[a]:l[0],r==="horizontal"?u.horizontal[a]:l[3]],o.rotation=Math.PI/2*{horizontal:0,vertical:1}[r],o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],i.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),st(t.labelInside,i.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var d=t.rotate;return d==null&&(d=i.get(["axisLabel","rotate"])),o.labelRotation=a==="top"?-d:d,o.z2=1,o}var fg=["axisLine","axisTickLabel","axisName"],yg=["splitArea","splitLine"],vg=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return H(t,i),t.prototype.render=function(e,n,o,a){var r=this.group;r.removeAll();var s=this._axisGroup;this._axisGroup=new se;var l=ia(e),u=new kv(e,l);V(fg,u.add,u),r.add(this._axisGroup),r.add(u.getGroup()),V(yg,function(d){e.get([d,"show"])&&mg[d](this,this.group,this._axisGroup,e)},this),Nv(s,this._axisGroup,e),i.prototype.render.call(this,e,n,o,a)},t.prototype.remove=function(){Vv(this)},t.type="singleAxis",t}(hh),mg={splitLine:function(i,t,e,n){var o=n.axis;if(!o.scale.isBlank()){var a=n.getModel("splitLine"),r=a.getModel("lineStyle"),s=r.get("color");s=s instanceof Array?s:[s];for(var l=r.get("width"),u=n.coordinateSystem.getRect(),d=o.isHorizontal(),h=[],c=0,g=o.getTicksCoords({tickModel:a}),f=[],p=[],y=0;y<g.length;++y){var v=o.toGlobalCoord(g[y].coord);d?(f[0]=v,f[1]=u.y,p[0]=v,p[1]=u.y+u.height):(f[0]=u.x,f[1]=v,p[0]=u.x+u.width,p[1]=v);var b=new gn({shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},silent:!0});Rv(b.shape,l);var m=c++%s.length;h[m]=h[m]||[],h[m].push(b)}var x=r.getLineStyle(["color"]);for(y=0;y<h.length;++y)t.add(zv(h[y],{style:Ae({stroke:s[y%s.length]},x),silent:!0}))}},splitArea:function(i,t,e,n){Ov(i,e,n,n)}},mi=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Ct);qt(mi,Ev.prototype);var xg=function(i){function t(e,n,o,a,r){var s=i.call(this,e,n,o)||this;return s.type=a||"value",s.position=r||"bottom",s}return H(t,i),t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.pointToData=function(e,n){return this.coordinateSystem.pointToData(e)[0]},t}(ch),ll=["single"],_g=function(){function i(t,e,n){this.type="single",this.dimension="single",this.dimensions=ll,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return i.prototype._init=function(t,e,n){var o=this.dimension,a=new xg(o,Bv(t),[0,0],t.get("type"),t.get("position")),r=a.type==="category";a.onBand=r&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},i.prototype.update=function(t,e){t.eachSeries(function(n){if(n.coordinateSystem===this){var o=n.getData();V(o.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(o,a)},this),Gv(this._axis.scale,this._axis.model)}},this)},i.prototype.resize=function(t,e){this._rect=gt({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},i.prototype.getRect=function(){return this._rect},i.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),o=n?[0,t.width]:[0,t.height],a=e.inverse?1:0;e.setExtent(o[a],o[1-a]),this._updateAxisTransform(e,n?t.x:t.y)},i.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),o=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(r){return r+e}:function(r){return o-r+e},t.toLocalCoord=a?function(r){return r-e}:function(r){return o-r+e}},i.prototype.getAxis=function(){return this._axis},i.prototype.getBaseAxis=function(){return this._axis},i.prototype.getAxes=function(){return[this._axis]},i.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},i.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis();return n.orient==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},i.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[e.orient==="horizontal"?0:1]))]},i.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),o=[],a=e.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),o[a]=e.toGlobalCoord(e.dataToCoord(+t)),o[1-a]=a===0?n.y+n.height/2:n.x+n.width/2,o},i.prototype.convertToPixel=function(t,e,n){return ul(e)===this?this.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){return ul(e)===this?this.pointToData(n):null},i}();function ul(i){var t=i.seriesModel,e=i.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var bg={create:function(i,t){var e=[];return i.eachComponent("singleAxis",function(n,o){var a=new _g(n,i,t);a.name="single_"+o,a.resize(n,t),n.coordinateSystem=a,e.push(a)}),i.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var o=n.getReferringComponents("singleAxis",yn).models[0];n.coordinateSystem=o&&o.coordinateSystem}}),e},dimensions:ll},dl=["x","y"],Sg=["width","height"],wg=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return H(t,i),t.prototype.makeElOption=function(e,n,o,a,r){var s=o.axis,l=s.coordinateSystem,u=oa(l,1-xi(s)),d=l.dataToPoint(n)[0],h=a.get("type");if(h&&h!=="none"){var c=Hv(a),g=Ig[h](s,d,u);g.style=c,e.graphicKey=g.type,e.pointer=g}var f=ia(o);Fv(n,e,f,o,a,r)},t.prototype.getHandleTransform=function(e,n,o){var a=ia(n,{labelInside:!1});a.labelMargin=o.get(["handle","margin"]);var r=Wv(n.axis,e,a);return{x:r[0],y:r[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,o,a){var r=o.axis,s=r.coordinateSystem,l=xi(r),u=oa(s,l),d=[e.x,e.y];d[l]+=n[l],d[l]=Math.min(u[1],d[l]),d[l]=Math.max(u[0],d[l]);var h=oa(s,1-l),c=(h[1]+h[0])/2,g=[c,c];return g[l]=d[l],{x:d[0],y:d[1],rotation:e.rotation,cursorPoint:g,tooltipOption:{verticalAlign:"middle"}}},t}(Zv),Ig={line:function(i,t,e){return{type:"Line",subPixelOptimize:!0,shape:Uv([t,e[0]],[t,e[1]],xi(i))}},shadow:function(i,t,e){var n=i.getBandWidth(),o=e[1]-e[0];return{type:"Rect",shape:Yv([t-n/2,e[0]],[n,o],xi(i))}}};function xi(i){return i.isHorizontal()?0:1}function oa(i,t){var e=i.getRect();return[e[dl[t]],e[dl[t]]+e[Sg[t]]]}var Mg=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.type="single",t}(At),Dg=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.init=function(e,n,o){var a=gh(e);i.prototype.init.apply(this,arguments),hl(e,a)},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),hl(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Ct);function hl(i,t){var e,n=i.cellSize;(e=K(n)?n:i.cellSize=[n,n]).length===1&&(e[1]=e[0]);var o=q([0,1],function(a){return jv(t,a)&&(e[a]="auto"),e[a]!=null&&e[a]!=="auto"});fh(i,t,{type:"box",ignoreSize:o})}var Cg=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.render=function(e,n,o){var a=this.group;a.removeAll();var r=e.coordinateSystem,s=r.getRangeInfo(),l=r.getOrient(),u=n.getLocaleModel();this._renderDayRect(e,s,a),this._renderLines(e,s,l,a),this._renderYearText(e,s,l,a),this._renderMonthText(e,u,l,a),this._renderWeekText(e,u,s,l,a)},t.prototype._renderDayRect=function(e,n,o){for(var a=e.coordinateSystem,r=e.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),l=a.getCellHeight(),u=n.start.time;u<=n.end.time;u=a.getNextNDay(u,1).time){var d=a.dataToRect([u],!1).tl,h=new Ee({shape:{x:d[0],y:d[1],width:s,height:l},cursor:"default",style:r});o.add(h)}},t.prototype._renderLines=function(e,n,o,a){var r=this,s=e.coordinateSystem,l=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),d=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=n.start,c=0;h.time<=n.end.time;c++){f(h.formatedDate),c===0&&(h=s.getDateInfo(n.start.y+"-"+n.start.m));var g=h.date;g.setMonth(g.getMonth()+1),h=s.getDateInfo(g)}function f(p){r._firstDayOfMonth.push(s.getDateInfo(p)),r._firstDayPoints.push(s.dataToRect([p],!1).tl);var y=r._getLinePointsOfOneWeek(e,p,o);r._tlpoints.push(y[0]),r._blpoints.push(y[y.length-1]),u&&r._drawSplitline(y,l,a)}f(s.getNextNDay(n.end.time,1).formatedDate),u&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,d,o),l,a),u&&this._drawSplitline(r._getEdgesPoints(r._blpoints,d,o),l,a)},t.prototype._getEdgesPoints=function(e,n,o){var a=[e[0].slice(),e[e.length-1].slice()],r=o==="horizontal"?0:1;return a[0][r]=a[0][r]-n/2,a[1][r]=a[1][r]+n/2,a},t.prototype._drawSplitline=function(e,n,o){var a=new Xn({z2:20,shape:{points:e},style:n});o.add(a)},t.prototype._getLinePointsOfOneWeek=function(e,n,o){for(var a=e.coordinateSystem,r=a.getDateInfo(n),s=[],l=0;l<7;l++){var u=a.getNextNDay(r.time,l),d=a.dataToRect([u.time],!1);s[2*u.day]=d.tl,s[2*u.day+1]=d[o==="horizontal"?"bl":"tr"]}return s},t.prototype._formatterLabel=function(e,n){return re(e)&&e?qv(e,n):pe(e)?e(n):n.nameMap},t.prototype._yearTextPositionControl=function(e,n,o,a,r){var s=n[0],l=n[1],u=["center","bottom"];a==="bottom"?(l+=r,u=["center","top"]):a==="left"?s-=r:a==="right"?(s+=r,u=["center","top"]):l-=r;var d=0;return a!=="left"&&a!=="right"||(d=Math.PI/2),{rotation:d,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(e,n,o,a){var r=e.getModel("yearLabel");if(r.get("show")){var s=r.get("margin"),l=r.get("position");l||(l=o!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],d=(u[0][0]+u[1][0])/2,h=(u[0][1]+u[1][1])/2,c=o==="horizontal"?0:1,g={top:[d,u[c][1]],bottom:[d,u[1-c][1]],left:[u[1-c][0],h],right:[u[c][0],h]},f=n.start.y;+n.end.y>+n.start.y&&(f=f+"-"+n.end.y);var p=r.get("formatter"),y={start:n.start.y,end:n.end.y,nameMap:f},v=this._formatterLabel(p,y),b=new ye({z2:30,style:Se(r,{text:v})});b.attr(this._yearTextPositionControl(b,g[l],o,l,s)),a.add(b)}},t.prototype._monthTextPositionControl=function(e,n,o,a,r){var s="left",l="top",u=e[0],d=e[1];return o==="horizontal"?(d+=r,n&&(s="center"),a==="start"&&(l="bottom")):(u+=r,n&&(l="middle"),a==="start"&&(s="right")),{x:u,y:d,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(e,n,o,a){var r=e.getModel("monthLabel");if(r.get("show")){var s=r.get("nameMap"),l=r.get("margin"),u=r.get("position"),d=r.get("align"),h=[this._tlpoints,this._blpoints];s&&!re(s)||(s&&(n=yh(s)||n),s=n.get(["time","monthAbbr"])||[]);var c=u==="start"?0:1,g=o==="horizontal"?0:1;l=u==="start"?-l:l;for(var f=d==="center",p=0;p<h[c].length-1;p++){var y=h[c][p].slice(),v=this._firstDayOfMonth[p];if(f){var b=this._firstDayPoints[p];y[g]=(b[g]+h[0][p+1][g])/2}var m=r.get("formatter"),x=s[+v.m-1],S={yyyy:v.y,yy:(v.y+"").slice(2),MM:v.m,M:+v.m,nameMap:x},_=this._formatterLabel(m,S),w=new ye({z2:30,style:te(Se(r,{text:_}),this._monthTextPositionControl(y,f,o,u,l))});a.add(w)}}},t.prototype._weekTextPositionControl=function(e,n,o,a,r){var s="center",l="middle",u=e[0],d=e[1],h=o==="start";return n==="horizontal"?(u=u+a+(h?1:-1)*r[0]/2,s=h?"right":"left"):(d=d+a+(h?1:-1)*r[1]/2,l=h?"bottom":"top"),{x:u,y:d,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(e,n,o,a,r){var s=e.getModel("dayLabel");if(s.get("show")){var l=e.coordinateSystem,u=s.get("position"),d=s.get("nameMap"),h=s.get("margin"),c=l.getFirstDayOfWeek();(!d||re(d))&&(d&&(n=yh(d)||n),d=n.get(["time","dayOfWeekShort"])||q(n.get(["time","dayOfWeekAbbr"]),function(x){return x[0]}));var g=l.getNextNDay(o.end.time,7-o.lweek).time,f=[l.getCellWidth(),l.getCellHeight()];h=J(h,Math.min(f[1],f[0])),u==="start"&&(g=l.getNextNDay(o.start.time,-(7+o.fweek)).time,h=-h);for(var p=0;p<7;p++){var y,v=l.getNextNDay(g,p),b=l.dataToRect([v.time],!1).center;y=Math.abs((p+c)%7);var m=new ye({z2:30,style:te(Se(s,{text:d[y]}),this._weekTextPositionControl(b,a,u,h,f))});r.add(m)}}},t.type="calendar",t}(At),aa=864e5,Ag=function(){function i(t,e,n){this.type="calendar",this.dimensions=i.dimensions,this.getDimensionsInfo=i.getDimensionsInfo,this._model=t}return i.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},i.prototype.getRangeInfo=function(){return this._rangeInfo},i.prototype.getModel=function(){return this._model},i.prototype.getRect=function(){return this._rect},i.prototype.getCellWidth=function(){return this._sw},i.prototype.getCellHeight=function(){return this._sh},i.prototype.getOrient=function(){return this._orient},i.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},i.prototype.getDateInfo=function(t){var e=(t=Kv(t)).getFullYear(),n=t.getMonth()+1,o=n<10?"0"+n:""+n,a=t.getDate(),r=a<10?"0"+a:""+a,s=t.getDay();return{y:e+"",m:o,d:r,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+o+"-"+r,date:t}},i.prototype.getNextNDay=function(t,e){return(e=e||0)===0||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},i.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,o=["width","height"],a=this._model.getCellSize().slice(),r=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[n,7]:[7,n];V([0,1],function(h){d(a,h)&&(r[o[h]]=a[h]*s[h])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=gt(r,l);function d(h,c){return h[c]!=null&&h[c]!=="auto"}V([0,1],function(h){d(a,h)||(a[h]=u[o[h]]/s[h])}),this._sw=a[0],this._sh=a[1]},i.prototype.dataToPoint=function(t,e){K(t)&&(t=t[0]),e==null&&(e=!0);var n=this.getDateInfo(t),o=this._rangeInfo,a=n.formatedDate;if(e&&!(n.time>=o.start.time&&n.time<o.end.time+aa))return[NaN,NaN];var r=n.day,s=this._getRangeInfo([o.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+r*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]},i.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},i.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},i.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,o=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,e-1,o):this._getDateByWeeksAndDay(e,n-1,o)},i.prototype.convertToPixel=function(t,e,n){var o=cl(e);return o===this?o.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){var o=cl(e);return o===this?o.pointToData(n):null},i.prototype.containPoint=function(t){return!1},i.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(K(e)&&e.length===1&&(e=e[0]),K(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var o=this.getDateInfo(n),a=o.date;a.setMonth(a.getMonth()+1);var r=this.getNextNDay(a,-1);t=[o.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},i.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var o=Math.floor(n[1].time/aa)-Math.floor(n[0].time/aa)+1,a=new Date(n[0].time),r=a.getDate(),s=n[1].date.getDate();a.setDate(r+o-1);var l=a.getDate();if(l!==s)for(var u=a.getTime()-n[1].time>0?1:-1;(l=a.getDate())!==s&&(a.getTime()-n[1].time)*u>0;)o-=u,a.setDate(l-u);var d=Math.floor((o+n[0].day+6)/7),h=e?1-d:d-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:o,weeks:d,nthWeek:h,fweek:n[0].day,lweek:n[1].day}},i.prototype._getDateByWeeksAndDay=function(t,e,n){var o=this._getRangeInfo(n);if(t>o.weeks||t===0&&e<o.fweek||t===o.weeks&&e>o.lweek)return null;var a=7*(t-1)-o.fweek+e,r=new Date(o.start.time);return r.setDate(+o.start.d+a),this.getDateInfo(r)},i.create=function(t,e){var n=[];return t.eachComponent("calendar",function(o){var a=new i(o);n.push(a),o.coordinateSystem=a}),t.eachSeries(function(o){o.get("coordinateSystem")==="calendar"&&(o.coordinateSystem=n[o.get("calendarIndex")||0])}),n},i.dimensions=["time","value"],i}();function cl(i){var t=i.calendarModel,e=i.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}function pl(i,t){var e;return V(t,function(n){i[n]!=null&&i[n]!=="auto"&&(e=!0)}),e}var gl=["transition","enterFrom","leaveTo"],Tg=gl.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function _i(i,t,e){if(e&&(!i[e]&&t[e]&&(i[e]={}),i=i[e],t=t[e]),i&&t)for(var n=e?gl:Tg,o=0;o<n.length;o++){var a=n[o];i[a]==null&&t[a]!=null&&(i[a]=t[a])}}var Lg=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return H(t,i),t.prototype.mergeOption=function(e,n){var o=this.option.elements;this.option.elements=null,i.prototype.mergeOption.call(this,e,n),this.option.elements=o},t.prototype.optionUpdated=function(e,n){var o=this.option,a=(n?o:e).elements,r=o.elements=n?[]:o.elements,s=[];this._flatten(a,s,null);var l=$v(r,s,"normalMerge"),u=this._elOptionsToUpdate=[];V(l,function(d,h){var c=d.newOption;c&&(u.push(c),function(g,f){var p=g.existing;if(f.id=g.keyInfo.id,!f.type&&p&&(f.type=p.type),f.parentId==null){var y=f.parentOption;y?f.parentId=y.id:p&&(f.parentId=p.parentId)}f.parentOption=null}(d,c),function(g,f,p){var y=te({},p),v=g[f],b=p.$action||"merge";b==="merge"?v?(Ze(v,y,!0),fh(v,y,{ignoreSize:!0}),Qv(p,v),_i(p,v),_i(p,v,"shape"),_i(p,v,"style"),_i(p,v,"extra"),p.clipPath=v.clipPath):g[f]=y:b==="replace"?g[f]=y:b==="remove"&&v&&(g[f]=null)}(r,h,c),function(g,f){if(g&&(g.hv=f.hv=[pl(f,["left","right"]),pl(f,["top","bottom"])],g.type==="group")){var p=g,y=f;p.width==null&&(p.width=y.width=0),p.height==null&&(p.height=y.height=0)}}(r[h],c))},this),o.elements=nt(r,function(d){return d&&delete d.$action,d!=null})},t.prototype._flatten=function(e,n,o){V(e,function(a){if(a){o&&(a.parentOption=o),n.push(a);var r=a.children;r&&r.length&&this._flatten(r,n,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(Ct),fl={path:null,compoundPath:null,group:se,image:Kt,text:ye},Qe=Oe(),Pg=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.init=function(){this._elMap=fe()},t.prototype.render=function(e,n,o){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,o)},t.prototype._updateElements=function(e){var n=e.useElOptionsToUpdate();if(n){var o=this._elMap,a=this.group,r=e.get("z"),s=e.get("zlevel");V(n,function(l){var u=It(l.id,null),d=u!=null?o.get(u):null,h=It(l.parentId,null),c=h!=null?o.get(h):a,g=l.type,f=l.style;g==="text"&&f&&l.hv&&l.hv[1]&&(f.textVerticalAlign=f.textBaseline=f.verticalAlign=f.align=null);var p=l.textContent,y=l.textConfig;if(f&&Ws(f,g,!!y,!!p)){var v=Zs(f,g,!0);!y&&v.textConfig&&(y=l.textConfig=v.textConfig),!p&&v.textContent&&(p=v.textContent)}var b=function(k){return k=te({},k),V(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Jv),function(N){delete k[N]}),k}(l),m=l.$action||"merge",x=m==="merge",S=m==="replace";if(x){var _=d;(T=!d)?_=yl(u,c,l.type,o):(_&&(Qe(_).isNew=!1),el(_)),_&&(gi(_,b,e,{isInit:T}),vl(_,l,r,s))}else if(S){bi(d,l,o,e);var w=yl(u,c,l.type,o);w&&(gi(w,b,e,{isInit:!0}),vl(w,l,r,s))}else m==="remove"&&(Ks(d,l),bi(d,l,o,e));var I=o.get(u);if(I&&p)if(x){var M=I.getTextContent();M?M.attr(p):I.setTextContent(new ye(p))}else S&&I.setTextContent(new ye(p));if(I){var D=l.clipPath;if(D){var A=D.type,C=void 0,T=!1;if(x){var L=I.getClipPath();C=(T=!L||Qe(L).type!==A)?ra(A):L}else S&&(T=!0,C=ra(A));I.setClipPath(C),gi(C,D,e,{isInit:T}),yi(C,D.keyframeAnimation,e)}var R=Qe(I);I.setTextConfig(y),R.option=l,function(k,N,P){var z=_e(k).eventData;k.silent||k.ignore||z||(z=_e(k).eventData={componentType:"graphic",componentIndex:N.componentIndex,name:k.name}),z&&(z.info=P.info)}(I,e,l),vh({el:I,componentModel:e,itemName:I.name,itemTooltipOption:l.tooltip}),yi(I,l.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,n){for(var o=e.option.elements,a=this.group,r=this._elMap,s=n.getWidth(),l=n.getHeight(),u=["x","y"],d=0;d<o.length;d++){var h=o[d];if((y=(p=It(h.id,null))!=null?r.get(p):null)&&y.isGroup){var c=(v=y.parent)===a,g=Qe(y),f=Qe(v);g.width=J(g.option.width,c?s:f.width)||0,g.height=J(g.option.height,c?l:f.height)||0}}for(d=o.length-1;d>=0;d--){var p,y;if(h=o[d],y=(p=It(h.id,null))!=null?r.get(p):null){var v=y.parent,b=(f=Qe(v),v===a?{width:s,height:l}:{width:f.width,height:f.height}),m={},x=or(y,h,b,null,{hv:h.hv,boundingMode:h.bounding},m);if(!Qe(y).isNew&&x){for(var S=h.transition,_={},w=0;w<u.length;w++){var I=u[w],M=m[I];S&&(Ht(S)||be(S,I)>=0)?_[I]=M:y[I]=M}Ve(y,_,e,0)}else y.attr(m)}}},t.prototype._clear=function(){var e=this,n=this._elMap;n.each(function(o){bi(o,Qe(o).option,n,e._lastGraphicModel)}),this._elMap=fe()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(At);function ra(i){var t=new(Z(fl,i)?fl[i]:dh(i))({});return Qe(t).type=i,t}function yl(i,t,e,n){var o=ra(e);return t.add(o),n.set(i,o),Qe(o).id=i,Qe(o).isNew=!0,o}function bi(i,t,e,n){i&&i.parent&&(i.type==="group"&&i.traverse(function(o){bi(o,t,e,n)}),fi(i,t,n),e.removeKey(Qe(i).id))}function vl(i,t,e,n){i.isGroup||V([["cursor",Gn.prototype.cursor],["zlevel",n||0],["z",e||0],["z2",0]],function(o){var a=o[0];Z(t,a)?i[a]=Be(t[a],o[1]):i[a]==null&&(i[a]=o[1])}),V(Le(t),function(o){if(o.indexOf("on")===0){var a=t[o];i[o]=pe(a)?a:null}}),Z(t,"draggable")&&(i.draggable=t.draggable),t.name!=null&&(i.name=t.name),t.id!=null&&(i.id=t.id)}var ml=["x","y","radius","angle","single"],kg=["cartesian2d","polar","singleAxis"];function Nt(i){return i+"Axis"}function Ng(i,t){var e,n=fe(),o=[],a=fe();i.eachComponent({mainType:"dataZoom",query:t},function(l){a.get(l.uid)||s(l)});do e=!1,i.eachComponent("dataZoom",r);while(e);function r(l){!a.get(l.uid)&&function(u){var d=!1;return u.eachTargetAxis(function(h,c){var g=n.get(h);g&&g[c]&&(d=!0)}),d}(l)&&(s(l),e=!0)}function s(l){a.set(l.uid,!0),o.push(l),l.eachTargetAxis(function(u,d){(n.get(u)||n.set(u,[]))[d]=!0})}return o}function xl(i){var t=i.ecModel,e={infoList:[],infoMap:fe()};return i.eachTargetAxis(function(n,o){var a=t.getComponent(Nt(n),o);if(a){var r=a.getCoordSysModel();if(r){var s=r.uid,l=e.infoMap.get(s);l||(l={model:r,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(a)}}}),e}var sa=function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},i}(),Ln=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return H(t,i),t.prototype.init=function(e,n,o){var a=_l(e);this.settledOption=a,this.mergeDefaultAndTheme(e,o),this._doInit(a)},t.prototype.mergeOption=function(e){var n=_l(e);Ze(this.option,e,!0),Ze(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var o=this.settledOption;V([["start","startValue"],["end","endValue"]],function(a,r){this._rangePropMode[r]==="value"&&(n[a[0]]=o[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),n=this._targetAxisInfoMap=fe();this._fillSpecifiedTargetAxis(n)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var n=!1;return V(ml,function(o){var a=this.getReferringComponents(Nt(o),em);if(a.specified){n=!0;var r=new sa;V(a.models,function(s){r.add(s.componentIndex)}),e.set(o,r)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(e,n){var o=this.ecModel,a=!0;if(a){var r=n==="vertical"?"y":"x";s(o.findComponents({mainType:r+"Axis"}),r)}a&&s(o.findComponents({mainType:"singleAxis",filter:function(l){return l.get("orient",!0)===n}}),"single");function s(l,u){var d=l[0];if(d){var h=new sa;if(h.add(d.componentIndex),e.set(u,h),a=!1,u==="x"||u==="y"){var c=d.getReferringComponents("grid",yn).models[0];c&&V(l,function(g){d.componentIndex!==g.componentIndex&&c===g.getReferringComponents("grid",yn).models[0]&&h.add(g.componentIndex)})}}}a&&V(ml,function(l){if(a){var u=o.findComponents({mainType:Nt(l),filter:function(h){return h.get("type",!0)==="category"}});if(u[0]){var d=new sa;d.add(u[0].componentIndex),e.set(l,d),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(n){!e&&(e=n)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var n=this._rangePropMode,o=this.get("rangeMode");V([["start","startValue"],["end","endValue"]],function(a,r){var s=e[a[0]]!=null,l=e[a[1]]!=null;s&&!l?n[r]="percent":!s&&l?n[r]="value":o?n[r]=o[r]:s&&(n[r]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(n,o){e==null&&(e=this.ecModel.getComponent(Nt(n),o))},this),e},t.prototype.eachTargetAxis=function(e,n){this._targetAxisInfoMap.each(function(o,a){V(o.indexList,function(r){e.call(n,a,r)})})},t.prototype.getAxisProxy=function(e,n){var o=this.getAxisModel(e,n);if(o)return o.__dzAxisProxy},t.prototype.getAxisModel=function(e,n){var o=this._targetAxisInfoMap.get(e);if(o&&o.indexMap[n])return this.ecModel.getComponent(Nt(e),n)},t.prototype.setRawRange=function(e){var n=this.option,o=this.settledOption;V([["start","startValue"],["end","endValue"]],function(a){e[a[0]]==null&&e[a[1]]==null||(n[a[0]]=o[a[0]]=e[a[0]],n[a[1]]=o[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var n=this.option;V(["start","startValue","end","endValue"],function(o){n[o]=e[o]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,n){if(e!=null||n!=null)return this.getAxisProxy(e,n).getDataValueWindow();var o=this.findRepresentativeAxisProxy();return o?o.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var n,o=this._targetAxisInfoMap.keys(),a=0;a<o.length;a++)for(var r=o[a],s=this._targetAxisInfoMap.get(r),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(r,s.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Ct);function _l(i){var t={};return V(["start","end","startValue","endValue","throttle"],function(e){i.hasOwnProperty(e)&&(t[e]=i[e])}),t}var Vg=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.type="dataZoom.select",t}(Ln),la=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.render=function(e,n,o,a){this.dataZoomModel=e,this.ecModel=n,this.api=o},t.type="dataZoom",t}(At),Rg=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.type="dataZoom.select",t}(la),tn=V,bl=lt,zg=function(){function i(t,e,n,o){this._dimName=t,this._axisIndex=e,this.ecModel=o,this._dataZoomModel=n}return i.prototype.hostedBy=function(t){return this._dataZoomModel===t},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(function(a){var r=a.get("coordinateSystem");return be(kg,r)>=0}(e)){var n=Nt(this._dimName),o=e.getReferringComponents(n,yn).models[0];o&&this._axisIndex===o.componentIndex&&t.push(e)}},this),t},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return Te(this._minMaxSpan)},i.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,o=this.getAxisModel().axis.scale,a=this._dataZoomModel.getRangePropMode(),r=[0,100],s=[],l=[];tn(["start","end"],function(h,c){var g=t[h],f=t[h+"Value"];a[c]==="percent"?(g==null&&(g=r[c]),f=o.parse(oe(g,r,n))):(e=!0,f=f==null?n[c]:o.parse(f),g=oe(f,n,r)),l[c]=f==null||isNaN(f)?n[c]:f,s[c]=g==null||isNaN(g)?r[c]:g}),bl(l),bl(s);var u=this._minMaxSpan;function d(h,c,g,f,p){var y=p?"Span":"ValueSpan";vn(0,h,g,"all",u["min"+y],u["max"+y]);for(var v=0;v<2;v++)c[v]=oe(h[v],g,f,!0),p&&(c[v]=o.parse(c[v]))}return e?d(l,s,n,r,!1):d(s,l,r,n,!0),{valueWindow:l,percentWindow:s}},i.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(o,a,r){var s=[1/0,-1/0];tn(r,function(d){nm(s,d.getData(),a)});var l=o.getAxisModel(),u=im(l.axis.scale,l,s).calculate();return[u.min,u.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,o=this.getTargetSeriesModels(),a=t.get("filterMode"),r=this._valueWindow;a!=="none"&&tn(o,function(s){var l=s.getData(),u=l.mapDimensionsAll(n);if(u.length){if(a==="weakFilter"){var d=l.getStore(),h=q(u,function(c){return l.getDimensionIndex(c)},l);l.filterSelf(function(c){for(var g,f,p,y=0;y<u.length;y++){var v=d.get(h[y],c),b=!isNaN(v),m=v<r[0],x=v>r[1];if(b&&!m&&!x)return!0;b&&(p=!0),m&&(g=!0),x&&(f=!0)}return p&&g&&f})}else tn(u,function(c){if(a==="empty")s.setData(l=l.map(c,function(f){return function(p){return p>=r[0]&&p<=r[1]}(f)?f:NaN}));else{var g={};g[c]=r,l.selectRange(g)}});tn(u,function(c){l.setApproximateExtent(r,c)})}})}},i.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;tn(["min","max"],function(o){var a=e.get(o+"Span"),r=e.get(o+"ValueSpan");r!=null&&(r=this.getAxisModel().axis.scale.parse(r)),r!=null?a=oe(n[0]+r,n,[0,100],!0):a!=null&&(r=oe(a,[0,100],n,!0)-n[0]),t[o+"Span"]=a,t[o+"ValueSpan"]=r},this)},i.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var o=tm(n,[0,500]);o=Math.min(o,20);var a=t.axis.scale.rawExtentInfo;e[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(o)),e[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(o)),a.freeze()}},i}(),Og={getTargetSeries:function(i){function t(o){i.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(r,s){var l=i.getComponent(Nt(r),s);o(r,s,l,a)})})}t(function(o,a,r,s){r.__dzAxisProxy=null});var e=[];t(function(o,a,r,s){r.__dzAxisProxy||(r.__dzAxisProxy=new zg(o,a,s,i),e.push(r.__dzAxisProxy))});var n=fe();return V(e,function(o){V(o.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(i,t){i.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(n,o){e.getAxisProxy(n,o).reset(e)}),e.eachTargetAxis(function(n,o){e.getAxisProxy(n,o).filterData(e,t)})}),i.eachComponent("dataZoom",function(e){var n=e.findRepresentativeAxisProxy();if(n){var o=n.getDataPercentWindow(),a=n.getDataValueWindow();e.setCalculatedRange({start:o[0],end:o[1],startValue:a[0],endValue:a[1]})}})}},Sl=!1;function ua(i){Sl||(Sl=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,Og),function(t){t.registerAction("dataZoom",function(e,n){var o=Ng(n,e);V(o,function(a){a.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Eg(i){i.registerComponentModel(Vg),i.registerComponentView(Rg),ua(i)}var Je=function(){},wl={};function nn(i,t){wl[i]=t}function Il(i){return wl[i]}var Bg=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.optionUpdated=function(){i.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;V(this.option.feature,function(n,o){var a=Il(o);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),Ze(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Ct),Gg=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return H(t,i),t.prototype.render=function(e,n,o,a){var r=this.group;if(r.removeAll(),e.get("show")){var s=+e.get("itemSize"),l=e.get("orient")==="vertical",u=e.get("feature")||{},d=this._features||(this._features={}),h=[];V(u,function(g,f){h.push(f)}),new jt(this._featureNames||[],h).add(c).update(c).remove(le(c,null)).execute(),this._featureNames=h,am(r,e,o),r.add(rm(r.getBoundingRect(),e)),l||r.eachChild(function(g){var f=g.__title,p=g.ensureState("emphasis"),y=p.textConfig||(p.textConfig={}),v=g.getTextContent(),b=v&&v.ensureState("emphasis");if(b&&!pe(b)&&f){var m=b.style||(b.style={}),x=sm(f,ye.makeFont(m)),S=g.x+r.x,_=!1;g.y+r.y+s+x.height>o.getHeight()&&(y.position="top",_=!0);var w=_?-5-x.height:s+10;S+x.width/2>o.getWidth()?(y.position=["100%",w],m.align="right"):S-x.width/2<0&&(y.position=[0,w],m.align="left")}})}function c(g,f){var p,y=h[g],v=h[f],b=u[y],m=new Mt(b,e,e.ecModel);if(a&&a.newTitle!=null&&a.featureName===y&&(b.title=a.newTitle),y&&!v){if(function(_){return _.indexOf("my")===0}(y))p={onclick:m.option.onclick,featureName:y};else{var x=Il(y);if(!x)return;p=new x}d[y]=p}else if(!(p=d[v]))return;p.uid=om("toolbox-feature"),p.model=m,p.ecModel=n,p.api=o;var S=p instanceof Je;y||!v?!m.get("show")||S&&p.unusable?S&&p.remove&&p.remove(n,o):(function(_,w,I){var M,D,A=_.getModel("iconStyle"),C=_.getModel(["emphasis","iconStyle"]),T=w instanceof Je&&w.getIcons?w.getIcons():_.get("icon"),L=_.get("title")||{};re(T)?(M={})[I]=T:M=T,re(L)?(D={})[I]=L:D=L;var R=_.iconPaths={};V(M,function(k,N){var P=mh(k,{},{x:-s/2,y:-s/2,width:s,height:s});P.setStyle(A.getItemStyle()),P.ensureState("emphasis").style=C.getItemStyle();var z=new ye({style:{text:D[N],align:C.get("textAlign"),borderRadius:C.get("textBorderRadius"),padding:C.get("textPadding"),fill:null,font:uh({fontStyle:C.get("textFontStyle"),fontFamily:C.get("textFontFamily"),fontSize:C.get("textFontSize"),fontWeight:C.get("textFontWeight")},n)},ignore:!0});P.setTextContent(z),vh({el:P,componentModel:e,itemName:N,formatterParamsExtra:{title:D[N]}}),P.__title=D[N],P.on("mouseover",function(){var O=C.getItemStyle(),B=l?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";z.setStyle({fill:C.get("textFill")||O.fill||O.stroke||"#000",backgroundColor:C.get("textBackgroundColor")}),P.setTextConfig({position:C.get("textPosition")||B}),z.ignore=!e.get("showTitle"),o.enterEmphasis(this)}).on("mouseout",function(){_.get(["iconStatus",N])!=="emphasis"&&o.leaveEmphasis(this),z.hide()}),(_.get(["iconStatus",N])==="emphasis"?Zn:Un)(P),r.add(P),P.on("click",Q(w.onclick,w,n,o,N)),R[N]=P})}(m,p,y),m.setIconStatus=function(_,w){var I=this.option,M=this.iconPaths;I.iconStatus=I.iconStatus||{},I.iconStatus[_]=w,M[_]&&(w==="emphasis"?Zn:Un)(M[_])},p instanceof Je&&p.render&&p.render(m,n,o,a)):S&&p.dispose&&p.dispose(n,o)}},t.prototype.updateView=function(e,n,o,a){V(this._features,function(r){r instanceof Je&&r.updateView&&r.updateView(r.model,n,o,a)})},t.prototype.remove=function(e,n){V(this._features,function(o){o instanceof Je&&o.remove&&o.remove(e,n)}),this.group.removeAll()},t.prototype.dispose=function(e,n){V(this._features,function(o){o instanceof Je&&o.dispose&&o.dispose(e,n)})},t.type="toolbox",t}(At),Hg=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return H(t,i),t.prototype.onclick=function(e,n){var o=this.model,a=o.get("name")||e.get("title.0.text")||"echarts",r=n.getZr().painter.getType()==="svg",s=r?"svg":o.get("type",!0)||"png",l=n.getConnectedDataURL({type:s,backgroundColor:o.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:o.get("connectedBackgroundColor"),excludeComponents:o.get("excludeComponents"),pixelRatio:o.get("pixelRatio")}),u=xh.browser;if(typeof MouseEvent!="function"||!u.newEdge&&(u.ie||u.edge))if(window.navigator.msSaveOrOpenBlob||r){var d=l.split(","),h=d[0].indexOf("base64")>-1,c=r?decodeURIComponent(d[1]):d[1];h&&(c=window.atob(c));var g=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var f=c.length,p=new Uint8Array(f);f--;)p[f]=c.charCodeAt(f);var y=new Blob([p]);window.navigator.msSaveOrOpenBlob(y,g)}else{var v=document.createElement("iframe");document.body.appendChild(v);var b=v.contentWindow,m=b.document;m.open("image/svg+xml","replace"),m.write(c),m.close(),b.focus(),m.execCommand("SaveAs",!0,g),document.body.removeChild(v)}}else{var x=o.get("lang"),S='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(x&&x[0]||"")+'" /></body>',_=window.open();_.document.write(S),_.document.title=a}else{var w=document.createElement("a");w.download=a+"."+s,w.target="_blank",w.href=l;var I=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});w.dispatchEvent(I)}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(Je),Ml="__ec_magicType_stack__",Fg=[["line","bar"],["stack"]],Wg=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return H(t,i),t.prototype.getIcons=function(){var e=this.model,n=e.get("icon"),o={};return V(e.get("type"),function(a){n[a]&&(o[a]=n[a])}),o},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,n,o){var a=this.model,r=a.get(["seriesIndex",o]);if(Dl[o]){var s,l={series:[]};V(Fg,function(d){be(d,o)>=0&&V(d,function(h){a.setIconStatus(h,"normal")})}),a.setIconStatus(o,"emphasis"),e.eachComponent({mainType:"series",query:r==null?null:{seriesIndex:r}},function(d){var h=d.subType,c=d.id,g=Dl[o](h,c,d,a);g&&(Ae(g,d.option),l.series.push(g));var f=d.coordinateSystem;if(f&&f.type==="cartesian2d"&&(o==="line"||o==="bar")){var p=f.getAxesByScale("ordinal")[0];if(p){var y=p.dim+"Axis",v=d.getReferringComponents(y,yn).models[0].componentIndex;l[y]=l[y]||[];for(var b=0;b<=v;b++)l[y][v]=l[y][v]||{};l[y][v].boundaryGap=o==="bar"}}});var u=o;o==="stack"&&(s=Ze({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",o])!=="emphasis"&&(u="tiled")),n.dispatchAction({type:"changeMagicType",currentType:u,newOption:l,newTitle:s,featureName:"magicType"})}},t}(Je),Dl={line:function(i,t,e,n){if(i==="bar")return Ze({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(i,t,e,n){if(i==="line")return Ze({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(i,t,e,n){var o=e.get("stack")===Ml;if(i==="line"||i==="bar")return n.setIconStatus("stack",o?"normal":"emphasis"),Ze({id:t,stack:o?"":Ml},n.get(["option","stack"])||{},!0)}};xr({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,t){t.mergeOption(i.newOption)});var Si=new Array(60).join("-"),on="	";function wi(i){return i.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var da=new RegExp("["+on+"]+","g");function Zg(i,t){var e=i.split(new RegExp(`
*`+Si+`
*`,"g")),n={series:[]};return V(e,function(o,a){if(function(u){if(u.slice(0,u.indexOf(`
`)).indexOf(on)>=0)return!0}(o)){var r=function(u){for(var d=u.split(/\n+/g),h=wi(d.shift()).split(da),c=[],g=q(h,function(v){return{name:v,data:[]}}),f=0;f<d.length;f++){var p=wi(d[f]).split(da);c.push(p.shift());for(var y=0;y<p.length;y++)g[y]&&(g[y].data[f]=p[y])}return{series:g,categories:c}}(o),s=t[a],l=s.axisDim+"Axis";s&&(n[l]=n[l]||[],n[l][s.axisIndex]={data:r.categories},n.series=n.series.concat(r.series))}else r=function(u){for(var d=u.split(/\n+/g),h=wi(d.shift()),c=[],g=0;g<d.length;g++){var f=wi(d[g]);if(f){var p=f.split(da),y="",v=void 0,b=!1;isNaN(p[0])?(b=!0,y=p[0],p=p.slice(1),c[g]={name:y,value:[]},v=c[g].value):v=c[g]=[];for(var m=0;m<p.length;m++)v.push(+p[m]);v.length===1&&(b?c[g].value=v[0]:c[g]=v[0])}}return{name:h,data:c}}(o),n.series.push(r)}),n}var Ug=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return H(t,i),t.prototype.onclick=function(e,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var o=n.getDom(),a=this.model;this._dom&&o.removeChild(this._dom);var r=document.createElement("div");r.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",r.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var u=document.createElement("div"),d=document.createElement("textarea");u.style.cssText="overflow:auto";var h=a.get("optionToContent"),c=a.get("contentToOption"),g=function(w){var I,M,D,A=function(C){var T={},L=[],R=[];return C.eachRawSeries(function(k){var N=k.coordinateSystem;if(!N||N.type!=="cartesian2d"&&N.type!=="polar")L.push(k);else{var P=N.getBaseAxis();if(P.type==="category"){var z=P.dim+"_"+P.index;T[z]||(T[z]={categoryAxis:P,valueAxis:N.getOtherAxis(P),series:[]},R.push({axisDim:P.dim,axisIndex:P.index})),T[z].series.push(k)}else L.push(k)}}),{seriesGroupByCategoryAxis:T,other:L,meta:R}}(w);return{value:nt([(M=A.seriesGroupByCategoryAxis,D=[],V(M,function(C,T){var L=C.categoryAxis,R=C.valueAxis.dim,k=[" "].concat(q(C.series,function(G){return G.name})),N=[L.model.getCategories()];V(C.series,function(G){var W=G.getRawData();N.push(G.getRawData().mapArray(W.mapDimension(R),function(E){return E}))});for(var P=[k.join(on)],z=0;z<N[0].length;z++){for(var O=[],B=0;B<N.length;B++)O.push(N[B][z]);P.push(O.join(on))}D.push(P.join(`
`))}),D.join(`

`+Si+`

`)),(I=A.other,q(I,function(C){var T=C.getRawData(),L=[C.name],R=[];return T.each(T.dimensions,function(){for(var k=arguments.length,N=arguments[k-1],P=T.getName(N),z=0;z<k-1;z++)R[z]=arguments[z];L.push((P?P+on:"")+R.join(on))}),L.join(`
`)}).join(`

`+Si+`

`))],function(C){return!!C.replace(/[\n\t\s]/g,"")}).join(`

`+Si+`

`),meta:A.meta}}(e);if(pe(h)){var f=h(n.getOption());re(f)?u.innerHTML=f:lm(f)&&u.appendChild(f)}else{d.readOnly=a.get("readOnly");var p=d.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=a.get("textColor"),p.borderColor=a.get("textareaBorderColor"),p.backgroundColor=a.get("textareaColor"),d.value=g.value,u.appendChild(d)}var y=g.meta,v=document.createElement("div");v.style.cssText="position:absolute;bottom:5px;left:0;right:0";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),x=document.createElement("div");b+=";background-color:"+a.get("buttonColor"),b+=";color:"+a.get("buttonTextColor");var S=this;function _(){o.removeChild(r),S._dom=null}_h(m,"click",_),_h(x,"click",function(){if(c==null&&h!=null||c!=null&&h==null)_();else{var w;try{w=pe(c)?c(u,n.getOption()):Zg(d.value,y)}catch(I){throw _(),new Error("Data view format error "+I)}w&&n.dispatchAction({type:"changeDataView",newOption:w}),_()}}),m.innerHTML=l[1],x.innerHTML=l[2],x.style.cssText=m.style.cssText=b,!a.get("readOnly")&&v.appendChild(x),v.appendChild(m),r.appendChild(s),r.appendChild(u),r.appendChild(v),u.style.height=o.clientHeight-80+"px",o.appendChild(r),this._dom=r},t.prototype.remove=function(e,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(Je);function Yg(i,t){return q(i,function(e,n){var o=t&&t[n];if(Fe(o)&&!K(o)){Fe(e)&&!K(e)||(e={value:e});var a=o.name!=null&&e.name==null;return e=Ae(e,o),a&&delete e.name,e}return e})}xr({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(i,t){var e=[];V(i.newOption.series,function(n){var o=t.getSeriesByName(n.name)[0];if(o){var a=o.get("data");e.push({name:n.name,data:Yg(n.data,a)})}else e.push(te({type:"scatter"},n))}),t.mergeOption(Ae({series:e},i.newOption))});var Cl=V,Al=Oe();function ha(i){var t=Al(i);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var Xg=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return H(t,i),t.prototype.onclick=function(e,n){(function(o){Al(o).snapshots=null})(e),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(Je);xr({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,t){t.resetOption("recreate")});var jg=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],ca=function(){function i(t,e,n){var o=this;this._targetInfoList=[];var a=Tl(e,t);V(qg,function(r,s){(!n||!n.include||be(n.include,s)>=0)&&r(a,o._targetInfoList)})}return i.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(n,o,a){if((n.coordRanges||(n.coordRanges=[])).push(o),!n.coordRange){n.coordRange=o;var r=ga[n.brushType](0,a,o);n.__rangeOffset={offset:Nl[n.brushType](r.values,n.range,[1,1]),xyMinMax:r.xyMinMax}}}),t},i.prototype.matchOutputRanges=function(t,e,n){V(t,function(o){var a=this.findTargetInfo(o,e);a&&a!==!0&&V(a.coordSyses,function(r){var s=ga[o.brushType](1,r,o.range,!0);n(o,s.values,r,e)})},this)},i.prototype.setInputRanges=function(t,e){V(t,function(n){var o,a,r,s,l,u=this.findTargetInfo(n,e);if(n.range=n.range||[],u&&u!==!0){n.panelId=u.panelId;var d=ga[n.brushType](0,u.coordSys,n.coordRange),h=n.__rangeOffset;n.range=h?Nl[n.brushType](d.values,h.offset,(o=d.xyMinMax,a=h.xyMinMax,r=Rl(o),s=Rl(a),l=[r[0]/s[0],r[1]/s[1]],isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l)):d.values}},this)},i.prototype.makePanelOpts=function(t,e){return q(this._targetInfoList,function(n){var o=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:um(o),isTargetByCursor:dm(o,t,n.coordSysModel),getLinearBrushOtherExtent:hm(o)}})},i.prototype.controlSeries=function(t,e,n){var o=this.findTargetInfo(t,n);return o===!0||o&&be(o.coordSyses,e.coordinateSystem)>=0},i.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,o=Tl(e,t),a=0;a<n.length;a++){var r=n[a],s=t.panelId;if(s){if(r.panelId===s)return r}else for(var l=0;l<Ll.length;l++)if(Ll[l](o,r))return r}return!0},i}();function pa(i){return i[0]>i[1]&&i.reverse(),i}function Tl(i,t){return bh(i,t,{includeMainTypes:jg})}var qg={grid:function(i,t){var e=i.xAxisModels,n=i.yAxisModels,o=i.gridModels,a=fe(),r={},s={};(e||n||o)&&(V(e,function(l){var u=l.axis.grid.model;a.set(u.id,u),r[u.id]=!0}),V(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),V(o,function(l){a.set(l.id,l),r[l.id]=!0,s[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,d=[];V(u.getCartesians(),function(h,c){(be(e,h.getAxis("x").model)>=0||be(n,h.getAxis("y").model)>=0)&&d.push(h)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:d[0],coordSyses:d,getPanelRect:Pl.grid,xAxisDeclared:r[l.id],yAxisDeclared:s[l.id]})}))},geo:function(i,t){V(i.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:Pl.geo})})}},Ll=[function(i,t){var e=i.xAxisModel,n=i.yAxisModel,o=i.gridModel;return!o&&e&&(o=e.axis.grid.model),!o&&n&&(o=n.axis.grid.model),o&&o===t.gridModel},function(i,t){var e=i.geoModel;return e&&e===t.geoModel}],Pl={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var i=this.coordSys,t=i.getBoundingRect().clone();return t.applyTransform($n(i)),t}},ga={lineX:le(kl,0),lineY:le(kl,1),rect:function(i,t,e,n){var o=i?t.pointToData([e[0][0],e[1][0]],n):t.dataToPoint([e[0][0],e[1][0]],n),a=i?t.pointToData([e[0][1],e[1][1]],n):t.dataToPoint([e[0][1],e[1][1]],n),r=[pa([o[0],a[0]]),pa([o[1],a[1]])];return{values:r,xyMinMax:r}},polygon:function(i,t,e,n){var o=[[1/0,-1/0],[1/0,-1/0]];return{values:q(e,function(a){var r=i?t.pointToData(a,n):t.dataToPoint(a,n);return o[0][0]=Math.min(o[0][0],r[0]),o[1][0]=Math.min(o[1][0],r[1]),o[0][1]=Math.max(o[0][1],r[0]),o[1][1]=Math.max(o[1][1],r[1]),r}),xyMinMax:o}}};function kl(i,t,e,n){var o=e.getAxis(["x","y"][i]),a=pa(q([0,1],function(s){return t?o.coordToData(o.toLocalCoord(n[s]),!0):o.toGlobalCoord(o.dataToCoord(n[s]))})),r=[];return r[i]=a,r[1-i]=[NaN,NaN],{values:a,xyMinMax:r}}var Nl={lineX:le(Vl,0),lineY:le(Vl,1),rect:function(i,t,e){return[[i[0][0]-e[0]*t[0][0],i[0][1]-e[0]*t[0][1]],[i[1][0]-e[1]*t[1][0],i[1][1]-e[1]*t[1][1]]]},polygon:function(i,t,e){return q(i,function(n,o){return[n[0]-e[0]*t[o][0],n[1]-e[1]*t[o][1]]})}};function Vl(i,t,e,n){return[t[0]-n[i]*e[0],t[1]-n[i]*e[1]]}function Rl(i){return i?[i[0][1]-i[0][0],i[1][1]-i[1][0]]:[NaN,NaN]}var fa=V,Kg=pm("toolbox-dataZoom_"),$g=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return H(t,i),t.prototype.render=function(e,n,o,a){this._brushController||(this._brushController=new Sh(o.getZr()),this._brushController.on("brush",Q(this._onBrush,this)).mount()),function(r,s,l,u,d){var h=l._isZoomActive;u&&u.type==="takeGlobalCursor"&&(h=u.key==="dataZoomSelect"&&u.dataZoomSelectActive),l._isZoomActive=h,r.setIconStatus("zoom",h?"emphasis":"normal");var c=new ca(ya(r),s,{include:["grid"]}),g=c.makePanelOpts(d,function(f){return f.xAxisDeclared&&!f.yAxisDeclared?"lineX":!f.xAxisDeclared&&f.yAxisDeclared?"lineY":"rect"});l._brushController.setPanels(g).enableBrush(!(!h||!g.length)&&{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()})}(e,n,this,a,o),function(r,s){r.setIconStatus("back",function(l){return ha(l).length}(s)>1?"emphasis":"normal")}(e,n)},t.prototype.onclick=function(e,n,o){Qg[o].call(this)},t.prototype.remove=function(e,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var n=e.areas;if(e.isEnd&&n.length){var o={},a=this.ecModel;this._brushController.updateCovers([]),new ca(ya(this.model),a,{include:["grid"]}).matchOutputRanges(n,a,function(s,l,u){if(u.type==="cartesian2d"){var d=s.brushType;d==="rect"?(r("x",u,l[0]),r("y",u,l[1])):r({lineX:"x",lineY:"y"}[d],u,l)}}),function(s,l){var u=ha(s);Cl(l,function(d,h){for(var c=u.length-1;c>=0&&!u[c][h];c--);if(c<0){var g=s.queryComponents({mainType:"dataZoom",subType:"select",id:h})[0];if(g){var f=g.getPercentRange();u[0][h]={dataZoomId:h,start:f[0],end:f[1]}}}}),u.push(l)}(a,o),this._dispatchZoomAction(o)}function r(s,l,u){var d=l.getAxis(s),h=d.model,c=function(f,p,y){var v;return y.eachComponent({mainType:"dataZoom",subType:"select"},function(b){b.getAxisModel(f,p.componentIndex)&&(v=b)}),v}(s,h,a),g=c.findRepresentativeAxisProxy(h).getMinMaxSpan();g.minValueSpan==null&&g.maxValueSpan==null||(u=vn(0,u.slice(),d.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),c&&(o[c.id]={dataZoomId:c.id,startValue:u[0],endValue:u[1]})}},t.prototype._dispatchZoomAction=function(e){var n=[];fa(e,function(o,a){n.push(Te(o))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(Je),Qg={zoom:function(){var i=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:i})},back:function(){this._dispatchZoomAction(function(i){var t=ha(i),e=t[t.length-1];t.length>1&&t.pop();var n={};return Cl(e,function(o,a){for(var r=t.length-1;r>=0;r--)if(o=t[r][a]){n[a]=o;break}}),n}(this.ecModel))}};function ya(i){var t={xAxisIndex:i.get("xAxisIndex",!0),yAxisIndex:i.get("yAxisIndex",!0),xAxisId:i.get("xAxisId",!0),yAxisId:i.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}cm("dataZoom",function(i){var t=i.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&t.get(e)!=null){var n=t.getModel(e),o=[],a=ya(n),r=bh(i,a);return fa(r.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),fa(r.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")}),o}function s(l,u,d){var h=l.componentIndex,c={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:Kg+u+h};c[d]=h,o.push(c)}});var Jg=["rect","polygon","keep","clear"];function ef(i,t){var e=qe(i?i.brush:[]);if(e.length){var n=[];V(e,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var o=i&&i.toolbox;K(o)&&(o=o[0]),o||(o={feature:{}},i.toolbox=[o]);var a=o.feature||(o.feature={}),r=a.brush||(a.brush={}),s=r.type||(r.type=[]);s.push.apply(s,n),function(l){var u={};V(l,function(d){u[d]=1}),l.length=0,V(u,function(d,h){l.push(h)})}(s),t&&!s.length&&s.push.apply(s,Jg)}}var zl=V;function Ol(i){if(i){for(var t in i)if(i.hasOwnProperty(t))return!0}}function va(i,t,e){var n={};return zl(t,function(o){var a,r=n[o]=((a=function(){}).prototype.__hidden=a.prototype,new a);zl(i[o],function(s,l){if(we.isValidType(l)){var u={type:l,visual:s};e&&e(u,o),r[l]=new we(u),l==="opacity"&&((u=Te(u)).type="colorAlpha",r.__hidden.__alphaForOpacity=new we(u))}})}),n}function El(i,t,e){var n;V(e,function(o){t.hasOwnProperty(o)&&Ol(t[o])&&(n=!0)}),n&&V(e,function(o){t.hasOwnProperty(o)&&Ol(t[o])?i[o]=Te(t[o]):delete i[o]})}var Bl={lineX:Gl(0),lineY:Gl(1),rect:{point:function(i,t,e){return i&&e.boundingRect.contain(i[0],i[1])},rect:function(i,t,e){return i&&e.boundingRect.intersect(i)}},polygon:{point:function(i,t,e){return i&&e.boundingRect.contain(i[0],i[1])&&Qn(e.range,i[0],i[1])},rect:function(i,t,e){var n=e.range;if(!i||n.length<=1)return!1;var o=i.x,a=i.y,r=i.width,s=i.height,l=n[0];return!!(Qn(n,o,a)||Qn(n,o+r,a)||Qn(n,o,a+s)||Qn(n,o+r,a+s)||pt.create(i).contain(l[0],l[1])||eo(o,a,o+r,a,n)||eo(o,a,o,a+s,n)||eo(o+r,a,o+r,a+s,n)||eo(o,a+s,o+r,a+s,n))||void 0}}};function Gl(i){var t=["x","y"],e=["width","height"];return{point:function(n,o,a){if(n){var r=a.range;return Pn(n[i],r)}},rect:function(n,o,a){if(n){var r=a.range,s=[n[t[i]],n[t[i]]+n[e[i]]];return s[1]<s[0]&&s.reverse(),Pn(s[0],r)||Pn(s[1],r)||Pn(r[0],s)||Pn(r[1],s)}}}}function Pn(i,t){return t[0]<=i&&i<=t[1]}var Hl=["inBrush","outOfBrush"],ma="__ecBrushSelect",xa="__ecInBrushSelectEvent";function Fl(i){i.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new ca(t.option,i)).setInputRanges(t.areas,i)})}function tf(i,t,e){var n,o,a=[];i.eachComponent({mainType:"brush"},function(r){e&&e.type==="takeGlobalCursor"&&r.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),Fl(i),i.eachComponent({mainType:"brush"},function(r,s){var l={brushId:r.id,brushIndex:s,brushName:r.name,areas:Te(r.areas),selected:[]};a.push(l);var u=r.option,d=u.brushLink,h=[],c=[],g=[],f=!1;s||(n=u.throttleType,o=u.throttleDelay);var p=q(r.areas,function(m){var x=of[m.brushType],S=Ae({boundingRect:x?x(m):void 0},m);return S.selectors=function(_){var w=_.brushType,I={point:function(M){return Bl[w].point(M,I,_)},rect:function(M){return Bl[w].rect(M,I,_)}};return I}(S),S}),y=va(r.option,Hl,function(m){m.mappingMethod="fixed"});function v(m){return d==="all"||!!h[m]}function b(m){return!!m.length}K(d)&&V(d,function(m){h[m]=1}),i.eachSeries(function(m,x){var S=g[x]=[];m.subType==="parallel"?function(_,w){var I=_.coordinateSystem;f=f||I.hasAxisBrushed(),v(w)&&I.eachActiveState(_.getData(),function(M,D){M==="active"&&(c[D]=1)})}(m,x):function(_,w,I){if(!(!_.brushSelector||function(D,A){var C=D.option.seriesIndex;return C!=null&&C!=="all"&&(K(C)?be(C,A)<0:A!==C)}(r,w))&&(V(p,function(D){r.brushTargetManager.controlSeries(D,_,i)&&I.push(D),f=f||b(I)}),v(w)&&b(I))){var M=_.getData();M.each(function(D){Wl(_,I,M,D)&&(c[D]=1)})}}(m,x,S)}),i.eachSeries(function(m,x){var S={seriesId:m.id,seriesIndex:x,seriesName:m.name,dataIndex:[]};l.selected.push(S);var _=g[x],w=m.getData(),I=v(x)?function(M){return c[M]?(S.dataIndex.push(w.getRawIndex(M)),"inBrush"):"outOfBrush"}:function(M){return Wl(m,_,w,M)?(S.dataIndex.push(w.getRawIndex(M)),"inBrush"):"outOfBrush"};(v(x)?f:b(_))&&function(M,D,A,C,T){var L,R={};function k(P){return wh(A,L,P)}function N(P,z){Ih(A,L,P,z)}V(M,function(P){var z=we.prepareVisualTypes(D[P]);R[P]=z}),A.each(function(P,z){L=P;var O=A.getRawDataItem(L);if(!O||O.visualMap!==!1)for(var B=C.call(T,P),G=D[B],W=R[B],E=0,F=W.length;E<F;E++){var U=W[E];G[U]&&G[U].applyVisual(P,k,N)}})}(Hl,y,w,I)})}),function(r,s,l,u,d){if(d){var h=r.getZr();if(!h[xa]){h[ma]||(h[ma]=nf);var c=_r(h,ma,l,s);c(r,u)}}}(t,n,o,a,e)}function nf(i,t){if(!i.isDisposed()){var e=i.getZr();e[xa]=!0,i.dispatchAction({type:"brushSelect",batch:t}),e[xa]=!1}}function Wl(i,t,e,n){for(var o=0,a=t.length;o<a;o++){var r=t[o];if(i.brushSelector(n,e,r.selectors,r))return!0}}var of={rect:function(i){return Zl(i.range)},polygon:function(i){for(var t,e=i.range,n=0,o=e.length;n<o;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=e[n];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&Zl(t)}};function Zl(i){return new pt(i[0][0],i[1][0],i[0][1]-i[0][0],i[1][1]-i[1][0])}var af=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.init=function(e,n){this.ecModel=e,this.api=n,this.model,(this._brushController=new Sh(n.getZr())).on("brush",Q(this._onBrush,this)).mount()},t.prototype.render=function(e,n,o,a){this.model=e,this._updateController(e,n,o,a)},t.prototype.updateTransform=function(e,n,o,a){Fl(n),this._updateController(e,n,o,a)},t.prototype.updateVisual=function(e,n,o,a){this.updateTransform(e,n,o,a)},t.prototype.updateView=function(e,n,o,a){this._updateController(e,n,o,a)},t.prototype._updateController=function(e,n,o,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(o)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var n=this.model.id,o=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Te(o),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Te(o),$from:n})},t.type="brush",t}(At),rf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return H(t,i),t.prototype.optionUpdated=function(e,n){var o=this.option;!n&&El(o,e,["inBrush","outOfBrush"]);var a=o.inBrush=o.inBrush||{};o.outOfBrush=o.outOfBrush||{color:"#ddd"},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=q(e,function(n){return Ul(this.option,n)},this))},t.prototype.setBrushOption=function(e){this.brushOption=Ul(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Ct);function Ul(i,t){return Ze({brushType:i.brushType,brushMode:i.brushMode,transformable:i.transformable,brushStyle:new Mt(i.brushStyle).getItemStyle(),removeOnClick:i.removeOnClick,z:i.z},t,!0)}var sf=["rect","polygon","lineX","lineY","keep","clear"],lf=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return H(t,i),t.prototype.render=function(e,n,o){var a,r,s;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,r=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=a,this._brushMode=r,V(e.get("type",!0),function(l){e.setIconStatus(l,(l==="keep"?r==="multiple":l==="clear"?s:l===a)?"emphasis":"normal")})},t.prototype.updateView=function(e,n,o){this.render(e,n,o)},t.prototype.getIcons=function(){var e=this.model,n=e.get("icon",!0),o={};return V(e.get("type",!0),function(a){n[a]&&(o[a]=n[a])}),o},t.prototype.onclick=function(e,n,o){var a=this._brushType,r=this._brushMode;o==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:o==="keep"?a:a!==o&&o,brushMode:o==="keep"?r==="multiple"?"single":"multiple":r}})},t.getDefaultOption=function(e){return{show:!0,type:sf.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(Je),Yl=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return H(t,i),t.prototype.init=function(e,n,o){this.mergeDefaultAndTheme(e,o),this._initData()},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var n=this._data.count();this.option.loop?e=(e%n+n)%n:(e>=n&&(e=n-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,n=this.option,o=n.data||[],a=n.axisType,r=this._names=[];a==="category"?(e=[],V(o,function(l,u){var d,h=It(gm(l),"");Fe(l)?(d=Te(l)).value=u:d=u,e.push(d),r.push(h)})):e=o;var s={category:"ordinal",time:"time",value:"number"}[a]||"number";(this._data=new je([{name:"value",type:s}],this)).initData(e,r)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Ct),Xl=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.type="timeline.slider",t.defaultOption=Jn(Yl.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(Yl);qt(Xl,br.prototype);var uf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.type="timeline",t}(At),df=function(i){function t(e,n,o,a){var r=i.call(this,e,n,o)||this;return r.type=a||"value",r}return H(t,i),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(ch),_a=Math.PI,jl=Oe(),hf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.init=function(e,n){this.api=n},t.prototype.render=function(e,n,o){if(this.model=e,this.api=o,this.ecModel=n,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,o),r=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,e);e.formatTooltip=function(u){var d=l.scale.getLabel({value:u});return ft("nameValue",{noName:!0,value:d})},V(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,r,l,e)},this),this._renderAxisLabel(a,s,l,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,n){var o,a,r,s,l=e.get(["label","position"]),u=e.get("orient"),d=function(C,T){return gt(C.getBoxLayoutParams(),{width:T.getWidth(),height:T.getHeight()},C.get("padding"))}(e,n),h={horizontal:"center",vertical:(o=l==null||l==="auto"?u==="horizontal"?d.y+d.height/2<n.getHeight()/2?"-":"+":d.x+d.width/2<n.getWidth()/2?"+":"-":re(l)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][l]:l)>=0||o==="+"?"left":"right"},c={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:_a/2},f=u==="vertical"?d.height:d.width,p=e.getModel("controlStyle"),y=p.get("show",!0),v=y?p.get("itemSize"):0,b=y?p.get("itemGap"):0,m=v+b,x=e.get(["label","rotate"])||0;x=x*_a/180;var S=p.get("position",!0),_=y&&p.get("showPlayBtn",!0),w=y&&p.get("showPrevBtn",!0),I=y&&p.get("showNextBtn",!0),M=0,D=f;S==="left"||S==="bottom"?(_&&(a=[0,0],M+=m),w&&(r=[M,0],M+=m),I&&(s=[D-v,0],D-=m)):(_&&(a=[D-v,0],D-=m),w&&(r=[0,0],M+=m),I&&(s=[D-v,0],D-=m));var A=[M,D];return e.get("inverse")&&A.reverse(),{viewRect:d,mainLength:f,orient:u,rotation:g[u],labelRotation:x,labelPosOpt:o,labelAlign:e.get(["label","align"])||h[u],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||c[u],playPosition:a,prevBtnPosition:r,nextBtnPosition:s,axisExtent:A,controlSize:v,controlGap:b}},t.prototype._position=function(e,n){var o=this._mainGroup,a=this._labelGroup,r=e.viewRect;if(e.orient==="vertical"){var s=Fd(),l=r.x,u=r.y+r.height;Xi(s,s,[-l,-u]),fm(s,s,-_a/2),Xi(s,s,[l,u]),(r=r.clone()).applyTransform(s)}var d=b(r),h=b(o.getBoundingRect()),c=b(a.getBoundingRect()),g=[o.x,o.y],f=[a.x,a.y];f[0]=g[0]=d[0][0];var p,y=e.labelPosOpt;y==null||re(y)?(m(g,h,d,1,p=y==="+"?0:1),m(f,c,d,1,1-p)):(m(g,h,d,1,p=y>=0?0:1),f[1]=g[1]+y);function v(x){x.originX=d[0][0]-x.x,x.originY=d[1][0]-x.y}function b(x){return[[x.x,x.x+x.width],[x.y,x.y+x.height]]}function m(x,S,_,w,I){x[w]+=_[w][I]-S[w][I]}o.setPosition(g),a.setPosition(f),o.rotation=a.rotation=e.rotation,v(o),v(a)},t.prototype._createAxis=function(e,n){var o=n.getData(),a=n.get("axisType"),r=function(u,d){if(d=d||u.get("type"),d)switch(d){case"category":return new mm({ordinalMeta:u.getCategories(),extent:[1/0,-1/0]});case"time":return new vm({locale:u.ecModel.getLocaleModel(),useUTC:u.ecModel.get("useUTC")});default:return new ym}}(n,a);r.getTicks=function(){return o.mapArray(["value"],function(u){return{value:u}})};var s=o.getDataExtent("value");r.setExtent(s[0],s[1]),r.calcNiceTicks();var l=new df("value",r,e.axisExtent,a);return l.model=n,l},t.prototype._createGroup=function(e){var n=this[e]=new se;return this.group.add(n),n},t.prototype._renderAxisLine=function(e,n,o,a){var r=o.getExtent();if(a.get(["lineStyle","show"])){var s=new gn({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:te({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(s);var l=this._progressLine=new gn({shape:{x1:r[0],x2:this._currentPointer?this._currentPointer.x:r[0],y1:0,y2:0},style:Ae({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},t.prototype._renderAxisTick=function(e,n,o,a){var r=this,s=a.getData(),l=o.scale.getTicks();this._tickSymbols=[],V(l,function(u){var d=o.dataToCoord(u.value),h=s.getItemModel(u.value),c=h.getModel("itemStyle"),g=h.getModel(["emphasis","itemStyle"]),f=h.getModel(["progress","itemStyle"]),p={x:d,y:0,onclick:Q(r._changeTimeline,r,u.value)},y=ql(h,c,n,p);y.ensureState("emphasis").style=g.getItemStyle(),y.ensureState("progress").style=f.getItemStyle(),to(y);var v=_e(y);h.get("tooltip")?(v.dataIndex=u.value,v.dataModel=a):v.dataIndex=v.dataModel=null,r._tickSymbols.push(y)})},t.prototype._renderAxisLabel=function(e,n,o,a){var r=this;if(o.getLabelModel().get("show")){var s=a.getData(),l=o.getViewLabels();this._tickLabels=[],V(l,function(u){var d=u.tickValue,h=s.getItemModel(d),c=h.getModel("label"),g=h.getModel(["emphasis","label"]),f=h.getModel(["progress","label"]),p=o.dataToCoord(u.tickValue),y=new ye({x:p,y:0,rotation:e.labelRotation-e.rotation,onclick:Q(r._changeTimeline,r,d),silent:!1,style:Se(c,{text:u.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});y.ensureState("emphasis").style=Se(g),y.ensureState("progress").style=Se(f),n.add(y),to(y),jl(y).dataIndex=d,r._tickLabels.push(y)})}},t.prototype._renderControl=function(e,n,o,a){var r=e.controlSize,s=e.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),d=a.getPlayState(),h=a.get("inverse",!0);function c(g,f,p,y){if(g){var v=Sr(Be(a.get(["controlStyle",f+"BtnSize"]),r),r),b=function(m,x,S,_){var w=_.style,I=mh(m.get(["controlStyle",x]),_||{},new pt(S[0],S[1],S[2],S[3]));return w&&I.setStyle(w),I}(a,f+"Icon",[0,-v/2,v,v],{x:g[0],y:g[1],originX:r/2,originY:0,rotation:y?-s:0,rectHover:!0,style:l,onclick:p});b.ensureState("emphasis").style=u,n.add(b),to(b)}}c(e.nextBtnPosition,"next",Q(this._changeTimeline,this,h?"-":"+")),c(e.prevBtnPosition,"prev",Q(this._changeTimeline,this,h?"+":"-")),c(e.playPosition,d?"stop":"play",Q(this._handlePlayClick,this,!d),!0)},t.prototype._renderCurrentPointer=function(e,n,o,a){var r=a.getData(),s=a.getCurrentIndex(),l=r.getItemModel(s).getModel("checkpointStyle"),u=this,d={onCreate:function(h){h.draggable=!0,h.drift=Q(u._handlePointerDrag,u),h.ondragend=Q(u._handlePointerDragend,u),Kl(h,u._progressLine,s,o,a,!0)},onUpdate:function(h){Kl(h,u._progressLine,s,o,a)}};this._currentPointer=ql(l,l,this._mainGroup,{},this._currentPointer,d)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,n,o){this._clearTimer(),this._pointerChangeTimeline([o.offsetX,o.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,n){var o=this._toAxisCoord(e)[0],a=this._axis,r=lt(a.getExtent().slice());o>r[1]&&(o=r[1]),o<r[0]&&(o=r[0]),this._currentPointer.x=o,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=o,s.dirty());var l=this._findNearestTick(o),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=e.model;e._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var n=this._mainGroup.getLocalTransform();return mn(e,n,!0)},t.prototype._findNearestTick=function(e){var n,o=this.model.getData(),a=1/0,r=this._axis;return o.each(["value"],function(s,l){var u=r.dataToCoord(s),d=Math.abs(u-e);d<a&&(a=d,n=l)}),n},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var n=this.model.getCurrentIndex();e==="+"?e=n+1:e==="-"&&(e=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),n=this._tickSymbols,o=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<e);if(o)for(a=0;a<o.length;a++)o&&o[a]&&o[a].toggleState("progress",jl(o[a]).dataIndex<=e)},t.type="timeline.slider",t}(uf);function ql(i,t,e,n,o,a){var r=t.get("color");if(o)o.setColor(r),e.add(o),a&&a.onUpdate(o);else{var s=i.get("symbol");(o=tt(s,-1,-1,2,2,r)).setStyle("strokeNoScale",!0),e.add(o),a&&a.onCreate(o)}var l=t.getItemStyle(["color"]);o.setStyle(l),n=Ze({rectHover:!0,z2:100},n,!0);var u=qi(i.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var d=Ki(i.get("symbolOffset"),u);d&&(n.x=(n.x||0)+d[0],n.y=(n.y||0)+d[1]);var h=i.get("symbolRotate");return n.rotation=(h||0)*Math.PI/180||0,o.attr(n),o.updateTransform(),o}function Kl(i,t,e,n,o,a){if(!i.dragging){var r=o.getModel("checkpointStyle"),s=n.dataToCoord(o.getData().get("value",e));if(a||!r.get("animation",!0))i.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:r.get("animationDuration",!0),easing:r.get("animationEasing",!0)};i.stopAnimation(null,!0),i.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function cf(i){var t=i&&i.timeline;K(t)||(t=t?[t]:[]),V(t,function(e){e&&function(n){var o=n.type,a={number:"value",time:"time"};if(a[o]&&(n.axisType=a[o],delete n.type),$l(n),Ft(n,"controlPosition")){var r=n.controlStyle||(n.controlStyle={});Ft(r,"position")||(r.position=n.controlPosition),r.position!=="none"||Ft(r,"show")||(r.show=!1,delete r.position),delete n.controlPosition}V(n.data||[],function(s){Fe(s)&&!K(s)&&(!Ft(s,"value")&&Ft(s,"name")&&(s.value=s.name),$l(s))})}(e)})}function $l(i){var t=i.itemStyle||(i.itemStyle={}),e=t.emphasis||(t.emphasis={}),n=i.label||i.label||{},o=n.normal||(n.normal={}),a={normal:1,emphasis:1};V(n,function(r,s){a[s]||Ft(o,s)||(o[s]=r)}),e.label&&!Ft(n,"emphasis")&&(n.emphasis=e.label,delete e.label)}function Ft(i,t){return i.hasOwnProperty(t)}function ba(i,t){if(!i)return!1;for(var e=K(i)?i:[i],n=0;n<e.length;n++)if(e[n]&&e[n][t])return!0;return!1}function Ii(i){dr(i,"label",["show"])}var Mi=Oe(),bt=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return H(t,i),t.prototype.init=function(e,n,o){this.mergeDefaultAndTheme(e,o),this._mergeOption(e,o,!1,!0)},t.prototype.isAnimationEnabled=function(){if(xh.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,n){this._mergeOption(e,n,!1,!1)},t.prototype._mergeOption=function(e,n,o,a){var r=this.mainType;o||n.eachSeries(function(s){var l=s.get(this.mainType,!0),u=Mi(s)[r];l&&l.data?(u?u._mergeOption(l,n,!0):(a&&Ii(l),V(l.data,function(d){d instanceof Array?(Ii(d[0]),Ii(d[1])):Ii(d)}),u=this.createMarkerModelFromSeries(l,this,n),te(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),Mi(s)[r]=u):Mi(s)[r]=null},this)},t.prototype.formatTooltip=function(e,n,o){var a=this.getData(),r=this.getRawValue(e),s=a.getName(e);return ft("section",{header:this.name,blocks:[ft("nameValue",{name:s,value:r,noName:!s,noValue:r==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,n){var o=br.prototype.getDataParams.call(this,e,n),a=this.__hostSeries;return a&&(o.seriesId=a.id,o.seriesName=a.name,o.seriesType=a.subType),o},t.getMarkerModelFromSeries=function(e,n){return Mi(e)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Ct);qt(bt,br.prototype);var pf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,o){return new t(e,n,o)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(bt);function Sa(i){return!(isNaN(parseFloat(i.x))&&isNaN(parseFloat(i.y)))}function Di(i,t,e,n,o,a){var r=[],s=xm(t,n)?t.getCalculationInfo("stackResultDimension"):n,l=Ia(t,s,i),u=t.indicesOfNearest(s,l)[0];r[o]=t.get(e,u),r[a]=t.get(s,u);var d=t.get(n,u),h=_m(t.get(n,u));return(h=Math.min(h,20))>=0&&(r[a]=+r[a].toFixed(h)),[r,d]}var wa={min:le(Di,"min"),max:le(Di,"max"),average:le(Di,"average"),median:le(Di,"median")};function kn(i,t){if(t){var e=i.getData(),n=i.coordinateSystem,o=n&&n.dimensions;if(!function(h){return!isNaN(parseFloat(h.x))&&!isNaN(parseFloat(h.y))}(t)&&!K(t.coord)&&K(o)){var a=Ql(t,e,n,i);if((t=Te(t)).type&&wa[t.type]&&a.baseAxis&&a.valueAxis){var r=be(o,a.baseAxis.dim),s=be(o,a.valueAxis.dim),l=wa[t.type](e,a.baseDataDim,a.valueDataDim,r,s);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord!=null&&K(o))for(var u=t.coord,d=0;d<2;d++)wa[u[d]]&&(u[d]=Ia(e,e.mapDimension(o[d]),u[d]));else t.coord=[];return t}}function Ql(i,t,e,n){var o={};return i.valueIndex!=null||i.valueDim!=null?(o.valueDataDim=i.valueIndex!=null?t.getDimension(i.valueIndex):i.valueDim,o.valueAxis=e.getAxis(function(a,r){var s=a.getData().getDimensionInfo(r);return s&&s.coordDim}(n,o.valueDataDim)),o.baseAxis=e.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=e.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function Nn(i,t){return!(i&&i.containData&&t.coord&&!Sa(t))||i.containData(t.coord)}function Jl(i,t){return i?function(e,n,o,a){var r=a<2?e.coord&&e.coord[a]:e.value;return no(r,t[a])}:function(e,n,o,a){return no(e.value,t[a])}}function Ia(i,t,e){if(e==="average"){var n=0,o=0;return i.each(t,function(a,r){isNaN(a)||(n+=a,o++)}),n/o}return e==="median"?i.getMedian(t):i.getDataExtent(t)[e==="max"?1:0]}var Ma=Oe(),Da=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.init=function(){this.markerGroupMap=fe()},t.prototype.render=function(e,n,o){var a=this,r=this.markerGroupMap;r.each(function(s){Ma(s).keep=!1}),n.eachSeries(function(s){var l=bt.getMarkerModelFromSeries(s,a.type);l&&a.renderSeries(s,l,n,o)}),r.each(function(s){!Ma(s).keep&&a.group.remove(s.group)})},t.prototype.markKeep=function(e){Ma(e).keep=!0},t.prototype.toggleBlurSeries=function(e,n){var o=this;V(e,function(a){var r=bt.getMarkerModelFromSeries(a,o.type);r&&r.getData().eachItemGraphicEl(function(s){s&&(n?bm(s):Sm(s))})})},t.type="marker",t}(At);function eu(i,t,e){var n=t.coordinateSystem;i.each(function(o){var a,r=i.getItemModel(o),s=J(r.get("x"),e.getWidth()),l=J(r.get("y"),e.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)a=t.getMarkerPosition(i.getValues(i.dimensions,o));else if(n){var u=i.get(n.dimensions[0],o),d=i.get(n.dimensions[1],o);a=n.dataToPoint([u,d])}}else a=[s,l];isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),i.setItemLayout(o,a)})}var gf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.updateTransform=function(e,n,o){n.eachSeries(function(a){var r=bt.getMarkerModelFromSeries(a,"markPoint");r&&(eu(r.getData(),a,o),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(e,n,o,a){var r=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,d=u.get(s)||u.set(s,new Hi),h=function(c,g,f){var p;p=c?q(c&&c.dimensions,function(m){var x=g.getData().getDimensionInfo(g.getData().mapDimension(m))||{};return te(te({},x),{name:m,ordinalMeta:null})}):[{name:"value",type:"float"}];var y=new je(p,f),v=q(f.get("data"),le(kn,g));c&&(v=nt(v,le(Nn,c)));var b=Jl(!!c,p);return y.initData(v,null,b),y}(r,e,n);n.setData(h),eu(n.getData(),e,a),h.each(function(c){var g=h.getItemModel(c),f=g.getShallow("symbol"),p=g.getShallow("symbolSize"),y=g.getShallow("symbolRotate"),v=g.getShallow("symbolOffset"),b=g.getShallow("symbolKeepAspect");if(pe(f)||pe(p)||pe(y)||pe(v)){var m=n.getRawValue(c),x=n.getDataParams(c);pe(f)&&(f=f(m,x)),pe(p)&&(p=p(m,x)),pe(y)&&(y=y(m,x)),pe(v)&&(v=v(m,x))}var S=g.getModel("itemStyle").getItemStyle(),_=io(l,"color");S.fill||(S.fill=_),h.setItemVisual(c,{symbol:f,symbolSize:p,symbolRotate:y,symbolOffset:v,symbolKeepAspect:b,style:S})}),d.updateData(h),this.group.add(d.group),h.eachItemGraphicEl(function(c){c.traverse(function(g){_e(g).dataModel=n})}),this.markKeep(d),d.group.silent=n.get("silent")||e.get("silent")},t.type="markPoint",t}(Da),ff=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,o){return new t(e,n,o)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(bt),Ci=Oe(),yf=function(i,t,e,n){var o,a=i.getData();if(K(n))o=n;else{var r=n.type;if(r==="min"||r==="max"||r==="average"||r==="median"||n.xAxis!=null||n.yAxis!=null){var s=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)s=t.getAxis(n.yAxis!=null?"y":"x"),l=st(n.yAxis,n.xAxis);else{var u=Ql(n,a,t,i);s=u.valueAxis,l=Ia(a,wm(a,u.valueDataDim),r)}var d=s.dim==="x"?0:1,h=1-d,c=Te(n),g={coord:[]};c.type=null,c.coord=[],c.coord[h]=-1/0,g.coord[h]=1/0;var f=e.get("precision");f>=0&&vt(l)&&(l=+l.toFixed(Math.min(f,20))),c.coord[d]=g.coord[d]=l,o=[c,g,{type:r,valueIndex:n.valueIndex,value:l}]}else o=[]}var p=[kn(i,o[0]),kn(i,o[1]),te({},o[2])];return p[2].type=p[2].type||null,Ze(p[2],p[0]),Ze(p[2],p[1]),p};function Ai(i){return!isNaN(i)&&!isFinite(i)}function tu(i,t,e,n){var o=1-i,a=n.dimensions[i];return Ai(t[o])&&Ai(e[o])&&t[i]===e[i]&&n.getAxis(a).containData(t[i])}function vf(i,t){if(i.type==="cartesian2d"){var e=t[0].coord,n=t[1].coord;if(e&&n&&(tu(1,e,n,i)||tu(0,e,n,i)))return!0}return Nn(i,t[0])&&Nn(i,t[1])}function Ca(i,t,e,n,o){var a,r=n.coordinateSystem,s=i.getItemModel(t),l=J(s.get("x"),o.getWidth()),u=J(s.get("y"),o.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition)a=n.getMarkerPosition(i.getValues(i.dimensions,t));else{var d=r.dimensions,h=i.get(d[0],t),c=i.get(d[1],t);a=r.dataToPoint([h,c])}if(Qi(r,"cartesian2d")){var g=r.getAxis("x"),f=r.getAxis("y");d=r.dimensions,Ai(i.get(d[0],t))?a[0]=g.toGlobalCoord(g.getExtent()[e?0:1]):Ai(i.get(d[1],t))&&(a[1]=f.toGlobalCoord(f.getExtent()[e?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];i.setItemLayout(t,a)}var mf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.updateTransform=function(e,n,o){n.eachSeries(function(a){var r=bt.getMarkerModelFromSeries(a,"markLine");if(r){var s=r.getData(),l=Ci(r).from,u=Ci(r).to;l.each(function(d){Ca(l,d,!0,a,o),Ca(u,d,!1,a,o)}),s.each(function(d){s.setItemLayout(d,[l.getItemLayout(d),u.getItemLayout(d)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,n,o,a){var r=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,d=u.get(s)||u.set(s,new Po);this.group.add(d.group);var h=function(x,S,_){var w;w=x?q(x&&x.dimensions,function(T){var L=S.getData().getDimensionInfo(S.getData().mapDimension(T))||{};return te(te({},L),{name:T,ordinalMeta:null})}):[{name:"value",type:"float"}];var I=new je(w,_),M=new je(w,_),D=new je([],_),A=q(_.get("data"),le(yf,S,x,_));x&&(A=nt(A,le(vf,x)));var C=Jl(!!x,w);return I.initData(q(A,function(T){return T[0]}),null,C),M.initData(q(A,function(T){return T[1]}),null,C),D.initData(q(A,function(T){return T[2]})),D.hasItemOption=!0,{from:I,to:M,line:D}}(r,e,n),c=h.from,g=h.to,f=h.line;Ci(n).from=c,Ci(n).to=g,n.setData(f);var p=n.get("symbol"),y=n.get("symbolSize"),v=n.get("symbolRotate"),b=n.get("symbolOffset");function m(x,S,_){var w=x.getItemModel(S);Ca(x,S,_,e,a);var I=w.getModel("itemStyle").getItemStyle();I.fill==null&&(I.fill=io(l,"color")),x.setItemVisual(S,{symbolKeepAspect:w.get("symbolKeepAspect"),symbolOffset:Be(w.get("symbolOffset",!0),b[_?0:1]),symbolRotate:Be(w.get("symbolRotate",!0),v[_?0:1]),symbolSize:Be(w.get("symbolSize"),y[_?0:1]),symbol:Be(w.get("symbol",!0),p[_?0:1]),style:I})}K(p)||(p=[p,p]),K(y)||(y=[y,y]),K(v)||(v=[v,v]),K(b)||(b=[b,b]),h.from.each(function(x){m(c,x,!0),m(g,x,!1)}),f.each(function(x){var S=f.getItemModel(x).getModel("lineStyle").getLineStyle();f.setItemLayout(x,[c.getItemLayout(x),g.getItemLayout(x)]),S.stroke==null&&(S.stroke=c.getItemVisual(x,"style").fill),f.setItemVisual(x,{fromSymbolKeepAspect:c.getItemVisual(x,"symbolKeepAspect"),fromSymbolOffset:c.getItemVisual(x,"symbolOffset"),fromSymbolRotate:c.getItemVisual(x,"symbolRotate"),fromSymbolSize:c.getItemVisual(x,"symbolSize"),fromSymbol:c.getItemVisual(x,"symbol"),toSymbolKeepAspect:g.getItemVisual(x,"symbolKeepAspect"),toSymbolOffset:g.getItemVisual(x,"symbolOffset"),toSymbolRotate:g.getItemVisual(x,"symbolRotate"),toSymbolSize:g.getItemVisual(x,"symbolSize"),toSymbol:g.getItemVisual(x,"symbol"),style:S})}),d.updateData(f),h.line.eachItemGraphicEl(function(x){_e(x).dataModel=n,x.traverse(function(S){_e(S).dataModel=n})}),this.markKeep(d),d.group.silent=n.get("silent")||e.get("silent")},t.type="markLine",t}(Da),xf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,o){return new t(e,n,o)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(bt),Ti=Oe(),_f=function(i,t,e,n){var o=n[0],a=n[1];if(o&&a){var r=kn(i,o),s=kn(i,a),l=r.coord,u=s.coord;l[0]=st(l[0],-1/0),l[1]=st(l[1],-1/0),u[0]=st(u[0],1/0),u[1]=st(u[1],1/0);var d=nh([{},r,s]);return d.coord=[r.coord,s.coord],d.x0=r.x,d.y0=r.y,d.x1=s.x,d.y1=s.y,d}};function Li(i){return!isNaN(i)&&!isFinite(i)}function nu(i,t,e,n){var o=1-i;return Li(t[o])&&Li(e[o])}function bf(i,t){var e=t.coord[0],n=t.coord[1],o={coord:e,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return Qi(i,"cartesian2d")?!(!e||!n||!nu(1,e,n)&&!nu(0,e,n))||function(r,s,l){return!(r&&r.containZone&&s.coord&&l.coord&&!Sa(s)&&!Sa(l))||r.containZone(s.coord,l.coord)}(i,o,a):Nn(i,o)||Nn(i,a)}function iu(i,t,e,n,o){var a,r=n.coordinateSystem,s=i.getItemModel(t),l=J(s.get(e[0]),o.getWidth()),u=J(s.get(e[1]),o.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition){var d=i.getValues(["x0","y0"],t),h=i.getValues(["x1","y1"],t),c=r.clampData(d),g=r.clampData(h),f=[];e[0]==="x0"?f[0]=c[0]>g[0]?h[0]:d[0]:f[0]=c[0]>g[0]?d[0]:h[0],e[1]==="y0"?f[1]=c[1]>g[1]?h[1]:d[1]:f[1]=c[1]>g[1]?d[1]:h[1],a=n.getMarkerPosition(f,e,!0)}else{var p=[b=i.get(e[0],t),m=i.get(e[1],t)];r.clampData&&r.clampData(p,p),a=r.dataToPoint(p,!0)}if(Qi(r,"cartesian2d")){var y=r.getAxis("x"),v=r.getAxis("y"),b=i.get(e[0],t),m=i.get(e[1],t);Li(b)?a[0]=y.toGlobalCoord(y.getExtent()[e[0]==="x0"?0:1]):Li(m)&&(a[1]=v.toGlobalCoord(v.getExtent()[e[1]==="y0"?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}else a=[l,u];return a}var ou=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Sf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.updateTransform=function(e,n,o){n.eachSeries(function(a){var r=bt.getMarkerModelFromSeries(a,"markArea");if(r){var s=r.getData();s.each(function(l){var u=q(ou,function(d){return iu(s,l,d,a,o)});s.setItemLayout(l,u),s.getItemGraphicEl(l).setShape("points",u)})}},this)},t.prototype.renderSeries=function(e,n,o,a){var r=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,d=u.get(s)||u.set(s,{group:new se});this.group.add(d.group),this.markKeep(d);var h=function(c,g,f){var p,y,v=["x0","y0","x1","y1"];if(c){var b=q(c&&c.dimensions,function(S){var _=g.getData(),w=_.getDimensionInfo(_.mapDimension(S))||{};return te(te({},w),{name:S,ordinalMeta:null})});y=q(v,function(S,_){return{name:S,type:b[_%2].type}}),p=new je(y,f)}else p=new je(y=[{name:"value",type:"float"}],f);var m=q(f.get("data"),le(_f,g,c,f));c&&(m=nt(m,le(bf,c)));var x=c?function(S,_,w,I){var M=S.coord[Math.floor(I/2)][I%2];return no(M,y[I])}:function(S,_,w,I){return no(S.value,y[I])};return p.initData(m,null,x),p.hasItemOption=!0,p}(r,e,n);n.setData(h),h.each(function(c){var g=q(ou,function(w){return iu(h,c,w,e,a)}),f=r.getAxis("x").scale,p=r.getAxis("y").scale,y=f.getExtent(),v=p.getExtent(),b=[f.parse(h.get("x0",c)),f.parse(h.get("x1",c))],m=[p.parse(h.get("y0",c)),p.parse(h.get("y1",c))];lt(b),lt(m);var x=y[0]>b[1]||y[1]<b[0]||v[0]>m[1]||v[1]<m[0];h.setItemLayout(c,{points:g,allClipped:x});var S=h.getItemModel(c).getModel("itemStyle").getItemStyle(),_=io(l,"color");S.fill||(S.fill=_,re(S.fill)&&(S.fill=ji(S.fill,.4))),S.stroke||(S.stroke=_),h.setItemVisual(c,"style",S)}),h.diff(Ti(d).data).add(function(c){var g=h.getItemLayout(c);if(!g.allClipped){var f=new Xt({shape:{points:g.points}});h.setItemGraphicEl(c,f),d.group.add(f)}}).update(function(c,g){var f=Ti(d).data.getItemGraphicEl(g),p=h.getItemLayout(c);p.allClipped?f&&d.group.remove(f):(f?Ve(f,{shape:{points:p.points}},n,c):f=new Xt({shape:{points:p.points}}),h.setItemGraphicEl(c,f),d.group.add(f))}).remove(function(c){var g=Ti(d).data.getItemGraphicEl(c);d.group.remove(g)}).execute(),h.eachItemGraphicEl(function(c,g){var f=h.getItemModel(g),p=h.getItemVisual(g,"style");c.useStyle(h.getItemVisual(g,"style")),Rt(c,yt(f),{labelFetcher:n,labelDataIndex:g,defaultText:h.getName(g)||"",inheritColor:re(p.fill)?ji(p.fill,1):"#000"}),rt(c,f),Re(c,null,null,f.get(["emphasis","disabled"])),_e(c).dataModel=n}),Ti(d).data=h,d.group.silent=n.get("silent")||e.get("silent")},t.type="markArea",t}(Da),wf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.type="dataZoom.inside",t.defaultOption=Jn(Ln.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Ln),Aa=Oe();function au(i,t){if(t){i.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function If(i,t){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Mf(i,t,e,n){return i.coordinateSystem.containPoint([e,n])}function Df(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=Aa(e),o=n.coordSysRecordMap||(n.coordSysRecordMap=fe());o.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var r=xl(a);V(r.infoList,function(s){var l=s.model.uid,u=o.get(l)||o.set(l,function(d,h){var c={model:h,containsPoint:le(Mf,h),dispatchAction:le(If,d),dataZoomInfoMap:null,controller:null},g=c.controller=new Fi(d.getZr());return V(["pan","zoom","scrollMove"],function(f){g.on(f,function(p){var y=[];c.dataZoomInfoMap.each(function(v){if(p.isAvailableBehavior(v.model.option)){var b=(v.getRange||{})[f],m=b&&b(v.dzReferCoordSysInfo,c.model.mainType,c.controller,p);!v.model.get("disabled",!0)&&m&&y.push({dataZoomId:v.model.id,start:m[0],end:m[1]})}}),y.length&&c.dispatchAction(y)})}),c}(e,s.model));(u.dataZoomInfoMap||(u.dataZoomInfoMap=fe())).set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),o.each(function(a){var r,s=a.controller,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(r=l.get(u))}if(r){var d=function(h){var c,g="type_",f={type_true:2,type_move:1,type_false:0,type_undefined:-1},p=!0;return h.each(function(y){var v=y.model,b=!v.get("disabled",!0)&&(!v.get("zoomLock",!0)||"move");f[g+b]>f[g+c]&&(c=b),p=p&&v.get("preventDefaultMouseMove",!0)}),{controlType:c,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!p}}}(l);s.enable(d.controlType,d.opt),s.setPointerChecker(a.containsPoint),_r(a,"dispatchAction",r.model.get("throttle",!0),"fixRate")}else au(o,a)})})}var Cf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return H(t,i),t.prototype.render=function(e,n,o){i.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),function(a,r,s){Aa(a).coordSysRecordMap.each(function(l){var u=l.dataZoomInfoMap.get(r.uid);u&&(u.getRange=s)})}(o,e,{pan:Q(Ta.pan,this),zoom:Q(Ta.zoom,this),scrollMove:Q(Ta.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function(e,n){for(var o=Aa(e).coordSysRecordMap,a=o.keys(),r=0;r<a.length;r++){var s=a[r],l=o.get(s),u=l.dataZoomInfoMap;if(u){var d=n.uid;u.get(d)&&(u.removeKey(d),u.keys().length||au(o,l))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(la),Ta={zoom:function(i,t,e,n){var o=this.range,a=o.slice(),r=i.axisModels[0];if(r){var s=La[t](null,[n.originX,n.originY],r,e,i),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return vn(0,a,[0,100],0,d.minSpan,d.maxSpan),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},pan:ru(function(i,t,e,n,o,a){var r=La[n]([a.oldX,a.oldY],[a.newX,a.newY],t,o,e);return r.signal*(i[1]-i[0])*r.pixel/r.pixelLength}),scrollMove:ru(function(i,t,e,n,o,a){return La[n]([0,0],[a.scrollDelta,a.scrollDelta],t,o,e).signal*(i[1]-i[0])*a.scrollDelta})};function ru(i){return function(t,e,n,o){var a=this.range,r=a.slice(),s=t.axisModels[0];if(s){var l=i(r,s,t,e,n,o);return vn(l,r,[0,100],"all"),this.range=r,a[0]!==r[0]||a[1]!==r[1]?r:void 0}}}var La={grid:function(i,t,e,n,o){var a=e.axis,r={},s=o.model.coordinateSystem.getRect();return i=i||[0,0],a.dim==="x"?(r.pixel=t[0]-i[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=t[1]-i[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},polar:function(i,t,e,n,o){var a=e.axis,r={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return i=i?s.pointToCoord(i):[0,0],t=s.pointToCoord(t),e.mainType==="radiusAxis"?(r.pixel=t[0]-i[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=t[1]-i[1],r.pixelLength=u[1]-u[0],r.pixelStart=u[0],r.signal=a.inverse?-1:1),r},singleAxis:function(i,t,e,n,o){var a=e.axis,r=o.model.coordinateSystem.getRect(),s={};return i=i||[0,0],a.orient==="horizontal"?(s.pixel=t[0]-i[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-i[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}};function su(i){ua(i),i.registerComponentModel(wf),i.registerComponentView(Cf),Df(i)}var Af=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Jn(Ln.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Ln),Vn=Ee,Rn="horizontal",lu="vertical",Tf=["line","bar","candlestick","scatter"],Lf={easing:"cubicOut",duration:100,delay:0},Pf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return H(t,i),t.prototype.init=function(e,n){this.api=n,this._onBrush=Q(this._onBrush,this),this._onBrushEnd=Q(this._onBrushEnd,this)},t.prototype.render=function(e,n,o,a){if(i.prototype.render.apply(this,arguments),_r(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")!==!1){if(e.noTarget())return this._clear(),void this.group.removeAll();a&&a.type==="dataZoom"&&a.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Im(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new se;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,n=this.api,o=e.get("brushSelect")?7:0,a=this._findCoordRect(),r={width:n.getWidth(),height:n.getHeight()},s=this._orient===Rn?{right:r.width-a.x-a.width,top:r.height-30-7-o,width:a.width,height:30}:{right:7,top:a.y,width:30,height:a.height},l=gh(e.option);V(["right","top","width","height"],function(d){l[d]==="ph"&&(l[d]=s[d])});var u=gt(l,r);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===lu&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,n=this._location,o=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),r=a&&a.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(o!==Rn||r?o===Rn&&r?{scaleY:l?1:-1,scaleX:-1}:o!==lu||r?{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?1:-1,scaleX:1});var u=e.getBoundingRect([s]);e.x=n.x-u.x,e.y=n.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,n=this._size,o=this._displayables.sliderGroup,a=e.get("brushSelect");o.add(new Vn({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var r=new Vn({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Q(this._onClickPanel,this)}),s=this.api.getZr();a?(r.on("mousedown",this._onBrushStart,this),r.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),o.add(r)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var n=this._size,o=this._shadowSize||[],a=e.series,r=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),l=s&&r.getDimensionInfo(s)?a.getShadowDim():e.otherDim;if(l!=null){var u=this._shadowPolygonPts,d=this._shadowPolylinePts;if(r!==this._shadowData||l!==this._shadowDim||n[0]!==o[0]||n[1]!==o[1]){var h=r.getDataExtent(l),c=.3*(h[1]-h[0]);h=[h[0]-c,h[1]+c];var g,f=[0,n[1]],p=[0,n[0]],y=[[n[0],0],[0,0]],v=[],b=p[1]/(r.count()-1),m=0,x=Math.round(r.count()/n[0]);r.each([l],function(T,L){if(x>0&&L%x)m+=b;else{var R=T==null||isNaN(T)||T==="",k=R?0:oe(T,h,f,!0);R&&!g&&L?(y.push([y[y.length-1][0],0]),v.push([v[v.length-1][0],0])):!R&&g&&(y.push([m,0]),v.push([m,0])),y.push([m,k]),v.push([m,k]),m+=b,g=R}}),u=this._shadowPolygonPts=y,d=this._shadowPolylinePts=v}this._shadowData=r,this._shadowDim=l,this._shadowSize=[n[0],n[1]];for(var S,_,w,I,M,D=this.dataZoomModel,A=0;A<3;A++){var C=(S=A===1,_=void 0,w=void 0,I=void 0,M=void 0,_=D.getModel(S?"selectedDataBackground":"dataBackground"),w=new se,I=new Xt({shape:{points:u},segmentIgnoreThreshold:1,style:_.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),M=new Xn({shape:{points:d},segmentIgnoreThreshold:1,style:_.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),w.add(I),w.add(M),w);this._displayables.sliderGroup.add(C),this._displayables.dataShadowSegs.push(C)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,n=e.get("showDataShadow");if(n!==!1){var o,a=this.ecModel;return e.eachTargetAxis(function(r,s){var l=e.getAxisProxy(r,s).getTargetSeriesModels();V(l,function(u){if(!(o||n!==!0&&be(Tf,u.get("type"))<0)){var d,h=a.getComponent(Nt(r),s).axis,c=function(f){var p={x:"y",y:"x",radius:"angle",angle:"radius"};return p[f]}(r),g=u.coordinateSystem;c!=null&&g.getOtherAxis&&(d=g.getOtherAxis(h).inverse),c=u.getData().mapDimension(c),o={thisAxis:h,series:u,thisDim:r,otherDim:c,otherAxisInverse:d}}},this)},this),o}},t.prototype._renderHandle=function(){var e=this.group,n=this._displayables,o=n.handles=[null,null],a=n.handleLabels=[null,null],r=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,d=l.get("borderRadius")||0,h=l.get("brushSelect"),c=n.filler=new Vn({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});r.add(c),r.add(new Vn({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:d},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),V([0,1],function(m){var x=l.get("handleIcon");!Mm[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var S=tt(x,-1,0,2,2,null,!0);S.attr({cursor:uu(this._orient),draggable:!0,drift:Q(this._onDragMove,this,m),ondragend:Q(this._onDragEnd,this),onmouseover:Q(this._showDataInfo,this,!0),onmouseout:Q(this._showDataInfo,this,!1),z2:5});var _=S.getBoundingRect(),w=l.get("handleSize");this._handleHeight=J(w,this._size[1]),this._handleWidth=_.width/_.height*this._handleHeight,S.setStyle(l.getModel("handleStyle").getItemStyle()),S.style.strokeNoScale=!0,S.rectHover=!0,S.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),to(S);var I=l.get("handleColor");I!=null&&(S.style.fill=I),r.add(o[m]=S);var M=l.getModel("textStyle");e.add(a[m]=new ye({silent:!0,invisible:!0,style:Se(M,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:M.getTextColor(),font:M.getFont()}),z2:10}))},this);var g=c;if(h){var f=J(l.get("moveHandleSize"),s[1]),p=n.moveHandle=new Ee({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:f}}),y=.8*f,v=n.moveHandleIcon=tt(l.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);v.silent=!0,v.y=s[1]+f/2-.5,p.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var b=Math.min(s[1]/2,Math.max(f,10));(g=n.moveZone=new Ee({invisible:!0,shape:{y:s[1]-b,height:f+b}})).on("mouseover",function(){u.enterEmphasis(p)}).on("mouseout",function(){u.leaveEmphasis(p)}),r.add(p),r.add(v),r.add(g)}g.attr({draggable:!0,cursor:uu(this._orient),drift:Q(this._onDragMove,this,"all"),ondragstart:Q(this._showDataInfo,this,!0),ondragend:Q(this._onDragEnd,this),onmouseover:Q(this._showDataInfo,this,!0),onmouseout:Q(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[oe(e[0],[0,100],n,!0),oe(e[1],[0,100],n,!0)]},t.prototype._updateInterval=function(e,n){var o=this.dataZoomModel,a=this._handleEnds,r=this._getViewExtent(),s=o.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];vn(n,a,r,o.get("zoomLock")?"all":e,s.minSpan!=null?oe(s.minSpan,l,r,!0):null,s.maxSpan!=null?oe(s.maxSpan,l,r,!0):null);var u=this._range,d=this._range=lt([oe(a[0],r,l,!0),oe(a[1],r,l,!0)]);return!u||u[0]!==d[0]||u[1]!==d[1]},t.prototype._updateView=function(e){var n=this._displayables,o=this._handleEnds,a=lt(o.slice()),r=this._size;V([0,1],function(g){var f=n.handles[g],p=this._handleHeight;f.attr({scaleX:p/2,scaleY:p/2,x:o[g]+(g?-1:1),y:r[1]/2-p/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:r[1]});var s={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=n.dataShadowSegs,u=[0,a[0],a[1],r[0]],d=0;d<l.length;d++){var h=l[d],c=h.getClipPath();c||(c=new Ee,h.setClipPath(c)),c.setShape({x:u[d],y:0,width:u[d+1]-u[d],height:r[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var n=this.dataZoomModel,o=this._displayables,a=o.handleLabels,r=this._orient,s=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,d=this._range,h=e?l.calculateDataWindow({start:d[0],end:d[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(h[0],u),this._formatLabel(h[1],u)]}}var c=lt(this._handleEnds.slice());function g(f){var p=$n(o.handles[f].parent,this.group),y=Mh(f===0?"right":"left",p),v=this._handleWidth/2+5,b=mn([c[f]+(f===0?-v:v),this._size[1]/2],p);a[f].setStyle({x:b[0],y:b[1],verticalAlign:r===Rn?"middle":y,align:r===Rn?y:"center",text:s[f]})}g.call(this,0),g.call(this,1)},t.prototype._formatLabel=function(e,n){var o=this.dataZoomModel,a=o.get("labelFormatter"),r=o.get("labelPrecision");r!=null&&r!=="auto"||(r=n.getPixelPrecision());var s=e==null||isNaN(e)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(r,20));return pe(a)?a(e,s):re(a)?a.replace("{value}",s):s},t.prototype._showDataInfo=function(e){e=this._dragging||e;var n=this._displayables,o=n.handleLabels;o[0].attr("invisible",!e),o[1].attr("invisible",!e),n.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](n.moveHandle,1)},t.prototype._onDragMove=function(e,n,o,a){this._dragging=!0,ei(a.event);var r=this._displayables.sliderGroup.getLocalTransform(),s=mn([n,o],r,!0),l=this._updateInterval(e,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var n=this._size,o=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(o[0]<0||o[0]>n[0]||o[1]<0||o[1]>n[1])){var a=this._handleEnds,r=(a[0]+a[1])/2,s=this._updateInterval("all",o[0]-r);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var n=e.offsetX,o=e.offsetY;this._brushStart=new Dt(n,o),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,n){n.attr("ignore",!0);var o=n.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(o.width)<5)){var a=this._getViewExtent(),r=[0,100];this._range=lt([oe(o.x,a,r,!0),oe(o.x+o.width,a,r,!0)]),this._handleEnds=[o.x,o.x+o.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(ei(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,n){var o=this._displayables,a=this.dataZoomModel,r=o.brushRect;r||(r=o.brushRect=new Vn({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),o.sliderGroup.add(r)),r.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,n),d=l.transformCoordToLocal(s.x,s.y),h=this._size;u[0]=Math.max(Math.min(h[0],u[0]),0),r.setShape({x:d[0],y:0,width:u[0]-d[0],height:h[1]})},t.prototype._dispatchZoomAction=function(e){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?Lf:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var e,n=xl(this.dataZoomModel).infoList;if(!e&&n.length){var o=n[0].model.coordinateSystem;e=o.getRect&&o.getRect()}if(!e){var a=this.api.getWidth(),r=this.api.getHeight();e={x:.2*a,y:.2*r,width:.6*a,height:.6*r}}return e},t.type="dataZoom.slider",t}(la);function uu(i){return i==="vertical"?"ns-resize":"ew-resize"}function du(i){i.registerComponentModel(Af),i.registerComponentView(Pf),ua(i)}var hu=function(i,t,e){var n=Te((kf[i]||{})[t]);return e&&K(n)?n[n.length-1]:n},kf={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},cu=we.mapVisual,Nf=we.eachVisual,Vf=K,pu=V,Rf=lt,zf=oe,Pi=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return H(t,i),t.prototype.init=function(e,n,o){this.mergeDefaultAndTheme(e,o)},t.prototype.optionUpdated=function(e,n){var o=this.option;!n&&El(o,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var n=this.stateList;e=Q(e,this),this.controllerVisuals=va(this.option.controller,n,e),this.targetVisuals=va(this.option.target,n,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,n=[];return e==null||e==="all"?this.ecModel.eachSeries(function(o,a){n.push(a)}):n=qe(e),n},t.prototype.eachTargetSeries=function(e,n){V(this.getTargetSeriesIndices(),function(o){var a=this.ecModel.getSeriesByIndex(o);a&&e.call(n,a)},this)},t.prototype.isTargetSeries=function(e){var n=!1;return this.eachTargetSeries(function(o){o===e&&(n=!0)}),n},t.prototype.formatValueText=function(e,n,o){var a,r=this.option,s=r.precision,l=this.dataBound,u=r.formatter;o=o||["<",">"],K(e)&&(e=e.slice(),a=!0);var d=n?e:a?[h(e[0]),h(e[1])]:h(e);return re(u)?u.replace("{value}",a?d[0]:d).replace("{value2}",a?d[1]:d):pe(u)?a?u(e[0],e[1]):u(e):a?e[0]===l[0]?o[0]+" "+d[1]:e[1]===l[1]?o[1]+" "+d[0]:d[0]+" - "+d[1]:d;function h(c){return c===l[0]?"min":c===l[1]?"max":(+c).toFixed(Math.min(s,20))}},t.prototype.resetExtent=function(){var e=this.option,n=Rf([e.min,e.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(e){var n=this.option.dimension;if(n!=null)return e.getDimensionIndex(n);for(var o=e.dimensions,a=o.length-1;a>=0;a--){var r=o[a],s=e.getDimensionInfo(r);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,n=this.option,o={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),r=n.controller||(n.controller={});Ze(a,o),Ze(r,o);var s=this.isCategory();function l(u){Vf(n.color)&&!u.inRange&&(u.inRange={color:n.color.slice().reverse()}),u.inRange=u.inRange||{color:e.get("gradientColor")}}l.call(this,a),l.call(this,r),(function(u,d,h){var c=u[d],g=u[h];c&&!g&&(g=u[h]={},pu(c,function(f,p){if(we.isValidType(p)){var y=hu(p,"inactive",s);y!=null&&(g[p]=y,p!=="color"||g.hasOwnProperty("opacity")||g.hasOwnProperty("colorAlpha")||(g.opacity=[0,0]))}}))}).call(this,a,"inRange","outOfRange"),(function(u){var d=(u.inRange||{}).symbol||(u.outOfRange||{}).symbol,h=(u.inRange||{}).symbolSize||(u.outOfRange||{}).symbolSize,c=this.get("inactiveColor"),g=this.getItemSymbol()||"roundRect";pu(this.stateList,function(f){var p=this.itemSize,y=u[f];y||(y=u[f]={color:s?c:[c]}),y.symbol==null&&(y.symbol=d&&Te(d)||(s?g:[g])),y.symbolSize==null&&(y.symbolSize=h&&Te(h)||(s?p[0]:[p[0],p[0]])),y.symbol=cu(y.symbol,function(m){return m==="none"?g:m});var v=y.symbolSize;if(v!=null){var b=-1/0;Nf(v,function(m){m>b&&(b=m)}),y.symbolSize=cu(v,function(m){return zf(m,[0,b],[0,p[0]],!0)})}},this)}).call(this,r)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Ct),gu=[20,140],Of=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.optionUpdated=function(e,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(o){o.mappingMethod="linear",o.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=gu[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=gu[1])},t.prototype._resetRange=function(){var e=this.getExtent(),n=this.option.range;!n||n.auto?(e.auto=1,this.option.range=e):K(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],e[0]),n[1]=Math.min(n[1],e[1]))},t.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),V(this.stateList,function(e){var n=this.option.controller[e].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),n=lt((this.get("range")||[]).slice());return n[0]>e[1]&&(n[0]=e[1]),n[1]>e[1]&&(n[1]=e[1]),n[0]<e[0]&&(n[0]=e[0]),n[1]<e[0]&&(n[1]=e[0]),n},t.prototype.getValueState=function(e){var n=this.option.range,o=this.getExtent();return(n[0]<=o[0]||n[0]<=e)&&(n[1]>=o[1]||e<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[];return this.eachTargetSeries(function(o){var a=[],r=o.getData();r.each(this.getDataDimensionIndex(r),function(s,l){e[0]<=s&&s<=e[1]&&a.push(l)},this),n.push({seriesId:o.id,dataIndex:a})},this),n},t.prototype.getVisualMeta=function(e){var n=fu(this,"outOfRange",this.getExtent()),o=fu(this,"inRange",this.option.range.slice()),a=[];function r(g,f){a.push({value:g,color:e(g,f)})}for(var s=0,l=0,u=o.length,d=n.length;l<d&&(!o.length||n[l]<=o[0]);l++)n[l]<o[s]&&r(n[l],"outOfRange");for(var h=1;s<u;s++,h=0)h&&a.length&&r(o[s],"outOfRange"),r(o[s],"inRange");for(h=1;l<d;l++)(!o.length||o[o.length-1]<n[l])&&(h&&(a.length&&r(a[a.length-1].value,"outOfRange"),h=0),r(n[l],"outOfRange"));var c=a.length;return{stops:a,outerColors:[c?a[0].color:"transparent",c?a[c-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Jn(Pi.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Pi);function fu(i,t,e){if(e[0]===e[1])return e.slice();for(var n=(e[1]-e[0])/200,o=e[0],a=[],r=0;r<=200&&o<e[1];r++)a.push(o),o+=n;return a.push(e[1]),a}var yu=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return H(t,i),t.prototype.init=function(e,n){this.ecModel=e,this.api=n},t.prototype.render=function(e,n,o,a){this.visualMapModel=e,e.get("show")!==!1?this.doRender(e,n,o,a):this.group.removeAll()},t.prototype.renderBackground=function(e){var n=this.visualMapModel,o=Dm(n.get("padding")||0),a=e.getBoundingRect();e.add(new Ee({z2:-1,silent:!0,shape:{x:a.x-o[3],y:a.y-o[0],width:a.width+o[3]+o[1],height:a.height+o[0]+o[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,n,o){var a=(o=o||{}).forceState,r=this.visualMapModel,s={};if(n==="color"){var l=r.get("contentColor");s.color=l}function u(g){return s[g]}function d(g,f){s[g]=f}var h=r.controllerVisuals[a||r.getValueState(e)],c=we.prepareVisualTypes(h);return V(c,function(g){var f=h[g];o.convertOpacityToAlpha&&g==="opacity"&&(g="colorAlpha",f=h.__alphaForOpacity),we.dependsOn(g,n)&&f&&f.applyVisual(e,u,d)}),s[n]},t.prototype.positionGroup=function(e){var n=this.visualMapModel,o=this.api;or(e,n.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()})},t.prototype.doRender=function(e,n,o,a){},t.type="visualMap",t}(At),vu=[["left","right","width"],["top","bottom","height"]];function mu(i,t,e){var n=i.option,o=n.align;if(o!=null&&o!=="auto")return o;for(var a={width:t.getWidth(),height:t.getHeight()},r=n.orient==="horizontal"?1:0,s=vu[r],l=[0,null,10],u={},d=0;d<3;d++)u[vu[1-r][d]]=l[d],u[s[d]]=d===2?e[0]:n[s[d]];var h=[["x","width",3],["y","height",0]][r],c=gt(u,a,n.padding);return s[(c.margin[h[2]]||0)+c[h[0]]+.5*c[h[1]]<.5*a[h[1]]?0:1]}function ki(i,t){return V(i||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),i}var dt=oe,Ef=V,xu=Math.min,Pa=Math.max,Bf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return H(t,i),t.prototype.init=function(e,n){i.prototype.init.call(this,e,n),this._hoverLinkFromSeriesMouseOver=Q(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Q(this._hideIndicator,this)},t.prototype.doRender=function(e,n,o,a){a&&a.type==="selectDataRange"&&a.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,n=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(n);var o=e.get("text");this._renderEndsText(n,o,0),this._renderEndsText(n,o,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(e,n,o){if(n){var a=n[1-o];a=a!=null?a+"":"";var r=this.visualMapModel,s=r.get("textGap"),l=r.itemSize,u=this._shapes.mainGroup,d=this._applyTransform([l[0]/2,o===0?-s:l[1]+s],u),h=this._applyTransform(o===0?"bottom":"top",u),c=this._orient,g=this.visualMapModel.textStyleModel;this.group.add(new ye({style:Se(g,{x:d[0],y:d[1],verticalAlign:c==="horizontal"?"middle":h,align:c==="horizontal"?h:"center",text:a})}))}},t.prototype._renderBar=function(e){var n=this.visualMapModel,o=this._shapes,a=n.itemSize,r=this._orient,s=this._useHandle,l=mu(n,this.api,a),u=o.mainGroup=this._createBarGroup(l),d=new se;u.add(d),d.add(o.outOfRange=_u()),d.add(o.inRange=_u(null,s?Su(this._orient):null,Q(this._dragHandle,this,"all",!1),Q(this._dragHandle,this,"all",!0))),d.setClipPath(new Ee({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var h=n.textStyleModel.getTextRect("\u56FD"),c=Pa(h.width,h.height);s&&(o.handleThumbs=[],o.handleLabels=[],o.handleLabelPoints=[],this._createHandle(n,u,0,a,c,r),this._createHandle(n,u,1,a,c,r)),this._createIndicator(n,u,a,c,r),e.add(u)},t.prototype._createHandle=function(e,n,o,a,r,s){var l=Q(this._dragHandle,this,o,!1),u=Q(this._dragHandle,this,o,!0),d=Sr(e.get("handleSize"),a[0]),h=tt(e.get("handleIcon"),-d/2,-d/2,d,d,null,!0),c=Su(this._orient);h.attr({cursor:c,draggable:!0,drift:l,ondragend:u,onmousemove:function(v){ei(v.event)}}),h.x=a[0]/2,h.useStyle(e.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Bn(h,!0),n.add(h);var g=this.visualMapModel.textStyleModel,f=new ye({cursor:c,draggable:!0,drift:l,onmousemove:function(v){ei(v.event)},ondragend:u,style:Se(g,{x:0,y:0,text:""})});f.ensureState("blur").style={opacity:.1},f.stateTransition={duration:200},this.group.add(f);var p=[d,0],y=this._shapes;y.handleThumbs[o]=h,y.handleLabelPoints[o]=p,y.handleLabels[o]=f},t.prototype._createIndicator=function(e,n,o,a,r){var s=Sr(e.get("indicatorSize"),o[0]),l=tt(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:o[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof Kt){var d=l.style;l.useStyle(te({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},u))}else l.useStyle(u);n.add(l);var h=this.visualMapModel.textStyleModel,c=new ye({silent:!0,invisible:!0,style:Se(h,{x:0,y:0,text:""})});this.group.add(c);var g=[(r==="horizontal"?a/2:6)+o[0]/2,0],f=this._shapes;f.indicator=l,f.indicatorLabel=c,f.indicatorLabelPoint=g,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,n,o,a){if(this._useHandle){if(this._dragging=!n,!n){var r=this._applyTransform([o,a],this._shapes.mainGroup,!0);this._updateInterval(e,r[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():bu(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,n=this._dataInterval=e.getSelected(),o=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[dt(n[0],o,a,!0),dt(n[1],o,a,!0)]},t.prototype._updateInterval=function(e,n){n=n||0;var o=this.visualMapModel,a=this._handleEnds,r=[0,o.itemSize[1]];vn(n,a,r,e,0);var s=o.getExtent();this._dataInterval=[dt(a[0],r,s,!0),dt(a[1],r,s,!0)]},t.prototype._updateView=function(e){var n=this.visualMapModel,o=n.getExtent(),a=this._shapes,r=[0,n.itemSize[1]],s=e?r:this._handleEnds,l=this._createBarVisual(this._dataInterval,o,s,"inRange"),u=this._createBarVisual(o,o,r,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(e,n,o,a){var r={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,r),l=[this.getControllerVisual(e[0],"symbolSize",r),this.getControllerVisual(e[1],"symbolSize",r)],u=this._createBarPoints(o,l);return{barColor:new Jd(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,n){var o=[],a=(e[1]-e[0])/100;o.push({color:this.getControllerVisual(e[0],"color",n),offset:0});for(var r=1;r<100;r++){var s=e[0]+a*r;if(s>e[1])break;o.push({color:this.getControllerVisual(s,"color",n),offset:r/100})}return o.push({color:this.getControllerVisual(e[1],"color",n),offset:1}),o},t.prototype._createBarPoints=function(e,n){var o=this.visualMapModel.itemSize;return[[o[0]-n[0],e[0]],[o[0],e[0]],[o[0],e[1]],[o[0]-n[1],e[1]]]},t.prototype._createBarGroup=function(e){var n=this._orient,o=this.visualMapModel.get("inverse");return new se(n!=="horizontal"||o?n==="horizontal"&&o?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:n!=="vertical"||o?{scaleX:e==="left"?1:-1}:{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,n){if(this._useHandle){var o=this._shapes,a=this.visualMapModel,r=o.handleThumbs,s=o.handleLabels,l=a.itemSize,u=a.getExtent();Ef([0,1],function(d){var h=r[d];h.setStyle("fill",n.handlesColor[d]),h.y=e[d];var c=dt(e[d],[0,l[1]],u,!0),g=this.getControllerVisual(c,"symbolSize");h.scaleX=h.scaleY=g/l[0],h.x=l[0]-g/2;var f=mn(o.handleLabelPoints[d],$n(h,this.group));s[d].setStyle({x:f[0],y:f[1],text:a.formatValueText(this._dataInterval[d]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",o.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,n,o,a){var r=this.visualMapModel,s=r.getExtent(),l=r.itemSize,u=[0,l[1]],d=this._shapes,h=d.indicator;if(h){h.attr("invisible",!1);var c=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),g=this.getControllerVisual(e,"symbolSize"),f=dt(e,s,u,!0),p=l[0]-g/2,y={x:h.x,y:h.y};h.y=f,h.x=p;var v=mn(d.indicatorLabelPoint,$n(h,this.group)),b=d.indicatorLabel;b.attr("invisible",!1);var m=this._applyTransform("left",d.mainGroup),x=this._orient==="horizontal";b.setStyle({text:(o||"")+r.formatValueText(n),verticalAlign:x?m:"middle",align:x?"center":m});var S={x:p,y:f,style:{fill:c}},_={style:{x:v[0],y:v[1]}};if(r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var w={duration:100,easing:"cubicInOut",additive:!0};h.x=y.x,h.y=y.y,h.animateTo(S,w),b.animateTo(_,w)}else h.attr(S),b.attr(_);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var M=0;M<I.length;M++)this.api.enterBlur(I[M])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(n){if(e._hovering=!0,!e._dragging){var o=e.visualMapModel.itemSize,a=e._applyTransform([n.offsetX,n.offsetY],e._shapes.mainGroup,!0,!0);a[1]=xu(Pa(0,a[1]),o[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=o[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,n){var o=this.visualMapModel,a=o.itemSize;if(o.option.hoverLink){var r=[0,a[1]],s=o.getExtent();e=xu(Pa(r[0],e),r[1]);var l=function(p,y,v){var b=6,m=p.get("hoverLinkDataSize");return m&&(b=dt(m,y,v,!0)/2),b}(o,s,r),u=[e-l,e+l],d=dt(e,r,s,!0),h=[dt(u[0],r,s,!0),dt(u[1],r,s,!0)];u[0]<r[0]&&(h[0]=-1/0),u[1]>r[1]&&(h[1]=1/0),n&&(h[0]===-1/0?this._showIndicator(d,h[1],"< ",l):h[1]===1/0?this._showIndicator(d,h[0],"> ",l):this._showIndicator(d,d,"\u2248 ",l));var c=this._hoverLinkDataIndices,g=[];(n||bu(o))&&(g=this._hoverLinkDataIndices=o.findTargetDataIndices(h));var f=Cm(c,g);this._dispatchHighDown("downplay",ki(f[0],o)),this._dispatchHighDown("highlight",ki(f[1],o))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var n;if(Am(e.target,function(l){var u=_e(l);if(u.dataIndex!=null)return n=u,!0},!0),n){var o=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(o)){var r=o.getData(n.dataType),s=r.getStore().get(a.getDataDimensionIndex(r),n.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var o=0;o<n.length;o++)this.api.leaveBlur(n[o])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",ki(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,n,o,a){var r=$n(n,a?null:this.group);return K(e)?mn(e,r,o):Mh(e,r,o)},t.prototype._dispatchHighDown=function(e,n){n&&n.length&&this.api.dispatchAction({type:e,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(yu);function _u(i,t,e,n){return new Xt({shape:{points:i},draggable:!!e,cursor:t,drift:e,onmousemove:function(o){ei(o.event)},ondragend:n})}function bu(i){var t=i.get("hoverLinkOnHandle");return!!(t??i.get("realtime"))}function Su(i){return i==="vertical"?"ns-resize":"ew-resize"}var Gf={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Hf=function(i,t){t.eachComponent({mainType:"visualMap",query:i},function(e){e.setSelected(i.selected)})},Ff=[{createOnAllSeries:!0,reset:function(i,t){var e=[];return t.eachComponent("visualMap",function(n){var o,a,r,s,l,u=i.pipelineContext;!n.isTargetSeries(i)||u&&u.large||e.push((o=n.stateList,a=n.targetVisuals,r=Q(n.getValueState,n),s=n.getDataDimensionIndex(i.getData()),l={},V(o,function(d){var h=we.prepareVisualTypes(a[d]);l[d]=h}),{progress:function(d,h){var c,g;function f(M){return wh(h,g,M)}function p(M,D){Ih(h,g,M,D)}s!=null&&(c=h.getDimensionIndex(s));for(var y=h.getStore();(g=d.next())!=null;){var v=h.getRawDataItem(g);if(!v||v.visualMap!==!1)for(var b=s!=null?y.get(c,g):g,m=r(b),x=a[m],S=l[m],_=0,w=S.length;_<w;_++){var I=S[_];x[I]&&x[I].applyVisual(b,f,p)}}}}))}),e}},{createOnAllSeries:!0,reset:function(i,t){var e=i.getData(),n=[];t.eachComponent("visualMap",function(o){if(o.isTargetSeries(i)){var a=o.getVisualMeta(Q(Wf,null,i,o))||{stops:[],outerColors:[]},r=o.getDataDimensionIndex(e);r>=0&&(a.dimension=r,n.push(a))}}),i.getData().setVisual("visualMeta",n)}}];function Wf(i,t,e,n){for(var o=t.targetVisuals[n],a=we.prepareVisualTypes(o),r={color:io(i.getData(),"color")},s=0,l=a.length;s<l;s++){var u=a[s],d=o[u==="opacity"?"__alphaForOpacity":u];d&&d.applyVisual(e,h,c)}return r.color;function h(g){return r[g]}function c(g,f){r[g]=f}}var wu=V;function Zf(i){var t=i&&i.visualMap;K(t)||(t=t?[t]:[]),wu(t,function(e){if(e){an(e,"splitList")&&!an(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var n=e.pieces;n&&K(n)&&wu(n,function(o){Fe(o)&&(an(o,"start")&&!an(o,"min")&&(o.min=o.start),an(o,"end")&&!an(o,"max")&&(o.max=o.end))})}})}function an(i,t){return i&&i.hasOwnProperty&&i.hasOwnProperty(t)}var Iu=!1;function Mu(i){Iu||(Iu=!0,i.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),i.registerAction(Gf,Hf),V(Ff,function(t){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,t)}),i.registerPreprocessor(Zf))}function Du(i){i.registerComponentModel(Of),i.registerComponentView(Bf),Mu(i)}var Uf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return H(t,i),t.prototype.optionUpdated=function(e,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var o=this._mode=this._determineMode();this._pieceList=[],Yf[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var a=this.option.categories;this.resetVisual(function(r,s){o==="categories"?(r.mappingMethod="category",r.categories=Te(a)):(r.dataExtent=this.getExtent(),r.mappingMethod="piecewise",r.pieceList=q(this._pieceList,function(l){return l=Te(l),s!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,n={},o=we.listVisualTypes(),a=this.isCategory();function r(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}V(e.pieces,function(s){V(o,function(l){s.hasOwnProperty(l)&&(n[l]=1)})}),V(n,function(s,l){var u=!1;V(this.stateList,function(d){u=u||r(e,d,l)||r(e.target,d,l)},this),!u&&V(this.stateList,function(d){(e[d]||(e[d]={}))[l]=hu(l,d==="inRange"?"active":"inactive",a)})},this),i.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,n){var o=this.option,a=this._pieceList,r=(n?o:e).selected||{};if(o.selected=r,V(a,function(l,u){var d=this.getSelectedMapKey(l);r.hasOwnProperty(d)||(r[d]=!0)},this),o.selectedMode==="single"){var s=!1;V(a,function(l,u){var d=this.getSelectedMapKey(l);r[d]&&(s?r[d]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Te(e)},t.prototype.getValueState=function(e){var n=we.findPieceIndex(e,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[],o=this._pieceList;return this.eachTargetSeries(function(a){var r=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,u){we.findPieceIndex(l,o)===e&&r.push(u)},this),n.push({seriesId:a.id,dataIndex:r})},this),n},t.prototype.getRepresentValue=function(e){var n;if(this.isCategory())n=e.value;else if(e.value!=null)n=e.value;else{var o=e.interval||[];n=o[0]===-1/0&&o[1]===1/0?0:(o[0]+o[1])/2}return n},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var n=[],o=["",""],a=this,r=this._pieceList.slice();if(r.length){var s=r[0].interval[0];s!==-1/0&&r.unshift({interval:[-1/0,s]}),(s=r[r.length-1].interval[1])!==1/0&&r.push({interval:[s,1/0]})}else r.push({interval:[-1/0,1/0]});var l=-1/0;return V(r,function(d){var h=d.interval;h&&(h[0]>l&&u([l,h[0]],"outOfRange"),u(h.slice()),l=h[1])},this),{stops:n,outerColors:o}}function u(d,h){var c=a.getRepresentValue({interval:d});h||(h=a.getValueState(c));var g=e(c,h);d[0]===-1/0?o[0]=g:d[1]===1/0?o[1]=g:n.push({value:d[0],color:g},{value:d[1],color:g})}},t.type="visualMap.piecewise",t.defaultOption=Jn(Pi.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Pi),Yf={splitNumber:function(i){var t=this.option,e=Math.min(t.precision,20),n=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;for(var a=(n[1]-n[0])/o;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e),t.minOpen&&i.push({interval:[-1/0,n[0]],close:[0,0]});for(var r=0,s=n[0];r<o;s+=a,r++){var l=r===o-1?n[1]:s+a;i.push({interval:[s,l],close:[1,1]})}t.maxOpen&&i.push({interval:[n[1],1/0],close:[0,0]}),Dh(i),V(i,function(u,d){u.index=d,u.text=this.formatValueText(u.interval)},this)},categories:function(i){var t=this.option;V(t.categories,function(e){i.push({text:this.formatValueText(e,!0),value:e})},this),Cu(t,i)},pieces:function(i){var t=this.option;V(t.pieces,function(e,n){Fe(e)||(e={value:e});var o={text:"",index:n};if(e.label!=null&&(o.text=e.label),e.hasOwnProperty("value")){var a=o.value=e.value;o.interval=[a,a],o.close=[1,1]}else{for(var r=o.interval=[],s=o.close=[0,0],l=[1,0,1],u=[-1/0,1/0],d=[],h=0;h<2;h++){for(var c=[["gte","gt","min"],["lte","lt","max"]][h],g=0;g<3&&r[h]==null;g++)r[h]=e[c[g]],s[h]=l[g],d[h]=g===2;r[h]==null&&(r[h]=u[h])}d[0]&&r[1]===1/0&&(s[0]=0),d[1]&&r[0]===-1/0&&(s[1]=0),r[0]===r[1]&&s[0]&&s[1]&&(o.value=r[0])}o.visual=we.retrieveVisuals(e),i.push(o)},this),Cu(t,i),Dh(i),V(i,function(e){var n=e.close,o=[["<","\u2264"][n[1]],[">","\u2265"][n[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,o)},this)}};function Cu(i,t){var e=i.inverse;(i.orient==="vertical"?!e:e)&&t.reverse()}var Xf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return H(t,i),t.prototype.doRender=function(){var e=this.group;e.removeAll();var n=this.visualMapModel,o=n.get("textGap"),a=n.textStyleModel,r=a.getFont(),s=a.getTextColor(),l=this._getItemAlign(),u=n.itemSize,d=this._getViewData(),h=d.endsText,c=st(n.get("showLabel",!0),!h);h&&this._renderEndsText(e,h[0],u,c,l),V(d.viewPieceList,function(g){var f=g.piece,p=new se;p.onclick=Q(this._onItemClick,this,f),this._enableHoverLink(p,g.indexInModelPieceList);var y=n.getRepresentValue(f);if(this._createItemSymbol(p,y,[0,0,u[0],u[1]]),c){var v=this.visualMapModel.getValueState(y);p.add(new ye({style:{x:l==="right"?-o:u[0]+o,y:u[1]/2,text:f.text,verticalAlign:"middle",align:l,font:r,fill:s,opacity:v==="outOfRange"?.5:1}}))}e.add(p)},this),h&&this._renderEndsText(e,h[1],u,c,l),Tm(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,n){var o=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(r){var s=o.visualMapModel;s.option.hoverLink&&o.api.dispatchAction({type:r,batch:ki(s.findTargetDataIndices(n),s)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,n=e.option;if(n.orient==="vertical")return mu(e,this.api,e.itemSize);var o=n.align;return o&&o!=="auto"||(o="left"),o},t.prototype._renderEndsText=function(e,n,o,a,r){if(n){var s=new se,l=this.visualMapModel.textStyleModel;s.add(new ye({style:Se(l,{x:a?r==="right"?o[0]:0:o[0]/2,y:o[1]/2,verticalAlign:"middle",align:a?r:"center",text:n})})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,n=q(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),o=e.get("text"),a=e.get("orient"),r=e.get("inverse");return(a==="horizontal"?r:!r)?n.reverse():o&&(o=o.slice().reverse()),{viewPieceList:n,endsText:o}},t.prototype._createItemSymbol=function(e,n,o){e.add(tt(this.getControllerVisual(n,"symbol"),o[0],o[1],o[2],o[3],this.getControllerVisual(n,"color")))},t.prototype._onItemClick=function(e){var n=this.visualMapModel,o=n.option,a=o.selectedMode;if(a){var r=Te(o.selected),s=n.getSelectedMapKey(e);a==="single"||a===!0?(r[s]=!0,V(r,function(l,u){r[u]=u===s})):r[s]=!r[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}},t.type="visualMap.piecewise",t}(yu);function Au(i){i.registerComponentModel(Uf),i.registerComponentView(Xf),Mu(i)}var Tu={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},jf=function(){function i(t){(this._condVal=re(t)?new RegExp(t):Pm(t)?t:null)==null&&me("")}return i.prototype.evaluate=function(t){var e=typeof t;return re(e)?this._condVal.test(t):!!vt(e)&&this._condVal.test(t+"")},i}(),qf=function(){function i(){}return i.prototype.evaluate=function(){return this.value},i}(),Kf=function(){function i(){}return i.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},i}(),$f=function(){function i(){}return i.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},i}(),Qf=function(){function i(){}return i.prototype.evaluate=function(){return!this.child.evaluate()},i}(),Jf=function(){function i(){}return i.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(t?n:e))return!1;return!0},i}();function ka(i,t){if(i===!0||i===!1){var e=new qf;return e.value=i,e}return Pu(i)||me(""),i.and?Lu("and",i,t):i.or?Lu("or",i,t):i.not?function(n,o){var a=n.not,r="";Pu(a)||me(r);var s=new Qf;return s.child=ka(a,o),s.child||me(r),s}(i,t):function(n,o){for(var a="",r=o.prepareGetValue(n),s=[],l=Le(n),u=n.parser,d=u?Ch(u):null,h=0;h<l.length;h++){var c=l[h];if(c!=="parser"&&!o.valueGetterAttrMap.get(c)){var g=Z(Tu,c)?Tu[c]:c,f=n[c],p=d?d(f):f,y=Lm(g,p)||g==="reg"&&new jf(p);y||me(a),s.push(y)}}s.length||me(a);var v=new Jf;return v.valueGetterParam=r,v.valueParser=d,v.getValue=o.getValue,v.subCondList=s,v}(i,t)}function Lu(i,t,e){var n=t[i];K(n)||me(""),n.length||me("");var o=i==="and"?new Kf:new $f;return o.children=q(n,function(a){return ka(a,e)}),o.children.length||me(""),o}function Pu(i){return Fe(i)&&!rh(i)}var ey=function(){function i(t,e){this._cond=ka(t,e)}return i.prototype.evaluate=function(){return this._cond.evaluate()},i}(),ty={type:"echarts:filter",transform:function(i){for(var t,e,n,o=i.upstream,a=(e=i.config,n={valueGetterAttrMap:fe({dimension:!0}),prepareGetValue:function(u){var d=u.dimension;Z(u,"dimension")||me("");var h=o.getDimensionInfo(d);return h||me(""),{dimIdx:h.index}},getValue:function(u){return o.retrieveValueFromItem(t,u.dimIdx)}},new ey(e,n)),r=[],s=0,l=o.count();s<l;s++)t=o.getRawDataItem(s),a.evaluate()&&r.push(t);return{data:r}}},ny={type:"echarts:sort",transform:function(i){var t=i.upstream,e=i.config,n="",o=qe(e);o.length||me(n);var a=[];V(o,function(d){var h=d.dimension,c=d.order,g=d.parser,f=d.incomparable;h==null&&me(n),c!=="asc"&&c!=="desc"&&me(n),f&&f!=="min"&&f!=="max"&&me(""),c!=="asc"&&c!=="desc"&&me("");var p=t.getDimensionInfo(h);p||me(n);var y=g?Ch(g):null;g&&!y&&me(n),a.push({dimIdx:p.index,parser:y,comparator:new km(c,f)})});var r=t.sourceFormat;r!==eh&&r!==Nm&&me(n);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(d,h){for(var c=0;c<a.length;c++){var g=a[c],f=t.retrieveValueFromItem(d,g.dimIdx),p=t.retrieveValueFromItem(h,g.dimIdx);g.parser&&(f=g.parser(f),p=g.parser(p));var y=g.comparator.evaluate(f,p);if(y!==0)return y}return 0}),{data:s}}},Na=Math.sin,Va=Math.cos,ku=Math.PI,Wt=2*Math.PI,iy=180/ku,Nu=function(){function i(){}return i.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},i.prototype.moveTo=function(t,e){this._add("M",t,e)},i.prototype.lineTo=function(t,e){this._add("L",t,e)},i.prototype.bezierCurveTo=function(t,e,n,o,a,r){this._add("C",t,e,n,o,a,r)},i.prototype.quadraticCurveTo=function(t,e,n,o){this._add("Q",t,e,n,o)},i.prototype.arc=function(t,e,n,o,a,r){this.ellipse(t,e,n,n,0,o,a,r)},i.prototype.ellipse=function(t,e,n,o,a,r,s,l){var u=s-r,d=!l,h=Math.abs(u),c=Ot(h-Wt)||(d?u>=Wt:-u>=Wt),g=u>0?u%Wt:u%Wt+Wt,f=!1;f=!!c||!Ot(h)&&g>=ku==!!d;var p=t+n*Va(r),y=e+o*Na(r);this._start&&this._add("M",p,y);var v=Math.round(a*iy);if(c){var b=1/this._p,m=(d?1:-1)*(Wt-b);this._add("A",n,o,v,1,+d,t+n*Va(r+m),e+o*Na(r+m)),b>.01&&this._add("A",n,o,v,0,+d,p,y)}else{var x=t+n*Va(s),S=e+o*Na(s);this._add("A",n,o,v,+f,+d,x,S)}},i.prototype.rect=function(t,e,n,o){this._add("M",t,e),this._add("l",n,0),this._add("l",0,o),this._add("l",-n,0),this._add("Z")},i.prototype.closePath=function(){this._d.length>0&&this._add("Z")},i.prototype._add=function(t,e,n,o,a,r,s,l,u){for(var d=[],h=this._p,c=1;c<arguments.length;c++){var g=arguments[c];if(isNaN(g))return void(this._invalid=!0);d.push(Math.round(g*h)/h)}this._d.push(t+d.join(" ")),this._start=t==="Z"},i.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},i.prototype.getStr=function(){return this._str},i}(),Ra="none",oy=Math.round,za=["lineCap","miterLimit","lineJoin"],ay=q(za,function(i){return"stroke-"+i.toLowerCase()});function ry(i,t,e,n){var o=t.opacity==null?1:t.opacity;if(e instanceof Kt)i("opacity",o);else{if(function(b){var m=b.fill;return m!=null&&m!==Ra}(t)){var a=ti(t.fill);i("fill",a.color);var r=t.fillOpacity!=null?t.fillOpacity*a.opacity*o:a.opacity*o;r<1&&i("fill-opacity",r)}else i("fill",Ra);if(function(b){var m=b.stroke;return m!=null&&m!==Ra}(t)){var s=ti(t.stroke);i("stroke",s.color);var l=t.strokeNoScale?e.getLineScale():1,u=l?(t.lineWidth||0)/l:0,d=t.strokeOpacity!=null?t.strokeOpacity*s.opacity*o:s.opacity*o,h=t.strokeFirst;if(u!==1&&i("stroke-width",u),h&&i("paint-order",h?"stroke":"fill"),d<1&&i("stroke-opacity",d),t.lineDash){var c=Vm(e),g=c[0],f=c[1];g&&(f=oy(f||0),i("stroke-dasharray",g.join(",")),(f||n)&&i("stroke-dashoffset",f))}for(var p=0;p<za.length;p++){var y=za[p];if(t[y]!==Ah[y]){var v=t[y]||Ah[y];v&&i(ay[p],v)}}}}}var Vu="http://www.w3.org/2000/svg",Ru="http://www.w3.org/1999/xlink",sy="http://www.w3.org/2000/xmlns/",ly="http://www.w3.org/XML/1998/namespace",zu="ecmeta_";function Ou(i){return document.createElementNS(Vu,i)}function Ie(i,t,e,n,o){return{tag:i,attrs:e||{},children:n,text:o,key:t}}function Oa(i,t){var e=(t=t||{}).newline?`
`:"";return function n(o){var a=o.children,r=o.tag,s=o.attrs,l=o.text;return function(u,d){var h=[];if(d)for(var c in d){var g=d[c],f=c;g!==!1&&(g!==!0&&g!=null&&(f+='="'+g+'"'),h.push(f))}return"<"+u+" "+h.join(" ")+">"}(r,s)+(r!=="style"?Rm(l):l||"")+(a?""+e+q(a,function(u){return n(u)}).join(e)+e:"")+("</"+r+">")}(i)}function Ea(i){return{zrId:i,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Eu(i,t,e,n){return Ie("svg","root",{width:i,height:t,xmlns:Vu,"xmlns:xlink":Ru,version:"1.1",baseProfile:"full",viewBox:!!n&&"0 0 "+i+" "+t},e)}var uy=0;function Bu(){return uy++}var Gu={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Zt="transform-origin";function dy(i,t,e){var n=te({},i.shape);te(n,t),i.buildPath(e,n);var o=new Nu;return o.reset(Lh(i)),e.rebuildPath(o,1),o.generateStr(),o.getStr()}function hy(i,t){var e=t.originX,n=t.originY;(e||n)&&(i[Zt]=e+"px "+n+"px")}var cy={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Hu(i,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=i,e}function Fu(i){return re(i)?Gu[i]?"cubic-bezier("+Gu[i]+")":Om(i)?i:"":""}function Ni(i,t,e,n){var o=i.animators,a=o.length,r=[];if(i instanceof zm){var s=function(b,m,x){var S,_,w=b.shape.paths,I={};if(V(w,function(D){var A=Ea(x.zrId);A.animation=!0,Ni(D,{},A,!0);var C=A.cssAnims,T=A.cssNodes,L=Le(C),R=L.length;if(R){var k=C[_=L[R-1]];for(var N in k){var P=k[N];I[N]=I[N]||{d:""},I[N].d+=P.d||""}for(var z in T){var O=T[z].animation;O.indexOf(_)>=0&&(S=O)}}}),S){m.d=!1;var M=Hu(I,x);return S.replace(_,M)}}(i,t,e);if(s)r.push(s);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var d=o[u],h=[d.getMaxTime()/1e3+"s"],c=Fu(d.getClip().easing),g=d.getDelay();c?h.push(c):h.push("linear"),g&&h.push(g/1e3+"s"),d.getLoop()&&h.push("infinite");var f=h.join(" ");l[f]=l[f]||[f,[]],l[f][1].push(d)}function p(b){var m,x=b[1],S=x.length,_={},w={},I={},M="animation-timing-function";function D(Y,j,$){for(var X=Y.getTracks(),ee=Y.getMaxTime(),ae=0;ae<X.length;ae++){var ze=X[ae];if(ze.needsAnimate()){var it=ze.keyframes,Ue=ze.propName;if($&&(Ue=$(Ue)),Ue)for(var he=0;he<it.length;he++){var ue=it[he],Me=Math.round(ue.time/ee*100)+"%",ot=Fu(ue.easing),St=ue.rawValue;(re(St)||vt(St))&&(j[Me]=j[Me]||{},j[Me][Ue]=ue.rawValue,ot&&(j[Me][M]=ot))}}}}for(var A=0;A<S;A++)(B=(O=x[A]).targetName)?B==="shape"&&D(O,w):!n&&D(O,_);for(var C in _){var T={};Em(T,i),te(T,_[C]);var L=Th(T),R=_[C][M];I[C]=L?{transform:L}:{},hy(I[C],T),R&&(I[C][M]=R)}var k=!0;for(var C in w){I[C]=I[C]||{};var N=!m;R=w[C][M],N&&(m=new Ph);var P=m.len();m.reset(),I[C].d=dy(i,w[C],m);var z=m.len();if(!N&&P!==z){k=!1;break}R&&(I[C][M]=R)}if(!k)for(var C in I)delete I[C].d;if(!n)for(A=0;A<S;A++){var O,B;(B=(O=x[A]).targetName)==="style"&&D(O,I,function(Y){return cy[Y]})}var G,W=Le(I),E=!0;for(A=1;A<W.length;A++){var F=W[A-1],U=W[A];if(I[F][Zt]!==I[U][Zt]){E=!1;break}G=I[F][Zt]}if(E&&G){for(var C in I)I[C][Zt]&&delete I[C][Zt];t[Zt]=G}if(nt(W,function(Y){return Le(I[Y]).length>0}).length)return Hu(I,e)+" "+b[0]+" both"}for(var y in l)(s=p(l[y]))&&r.push(s);if(r.length){var v=e.zrId+"-cls-"+Bu();e.cssNodes["."+v]={animation:r.join(",")},t.class=v}}function Wu(i,t,e,n){var o=JSON.stringify(i),a=e.cssStyleCache[o];a||(a=e.zrId+"-cls-"+Bu(),e.cssStyleCache[o]=a,e.cssNodes["."+a+":hover"]=i),t.class=t.class?t.class+" "+a:a}var zn=Math.round;function Zu(i){return i&&re(i.src)}function Uu(i){return i&&pe(i.toDataURL)}function Ba(i,t,e,n){ry(function(o,a){var r=o==="fill"||o==="stroke";r&&kh(a)?Qu(t,i,o,n):r&&wr(a)?Ju(e,i,o,n):i[o]=r&&a==="none"?"transparent":a},t,e,!1),function(o,a,r){var s=o.style;if(t0(s)){var l=n0(o),u=r.shadowCache,d=u[l];if(!d){var h=o.getGlobalScale(),c=h[0],g=h[1];if(!c||!g)return;var f=s.shadowOffsetX||0,p=s.shadowOffsetY||0,y=s.shadowBlur,v=ti(s.shadowColor),b=v.opacity,m=v.color,x=y/2/c+" "+y/2/g;d=r.zrId+"-s"+r.shadowIdx++,r.defs[d]=Ie("filter",d,{id:d,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Ie("feDropShadow","",{dx:f/c,dy:p/g,stdDeviation:x,"flood-color":m,"flood-opacity":b})]),u[l]=d}a.filter=oo(d)}}(e,i,n)}function Ga(i,t){var e=Jm(t);e&&(e.each(function(n,o){n!=null&&(i[(zu+o).toLowerCase()]=n+"")}),t.isSilent()&&(i[zu+"silent"]="true"))}function Yu(i){return Ot(i[0]-1)&&Ot(i[1])&&Ot(i[2])&&Ot(i[3]-1)}function Ha(i,t,e){if(t&&(!function(o){return Ot(o[4])&&Ot(o[5])}(t)||!Yu(t))){var n=1e4;i.transform=Yu(t)?"translate("+zn(t[4]*n)/n+" "+zn(t[5]*n)/n+")":e0(t)}}function Xu(i,t,e){for(var n=i.points,o=[],a=0;a<n.length;a++)o.push(zn(n[a][0]*e)/e),o.push(zn(n[a][1]*e)/e);t.points=o.join(" ")}function ju(i){return!i.smooth}var qu,Fa,py={circle:[(qu=["cx","cy","r"],Fa=q(qu,function(i){return typeof i=="string"?[i,i]:i}),function(i,t,e){for(var n=0;n<Fa.length;n++){var o=Fa[n],a=i[o[0]];a!=null&&(t[o[1]]=zn(a*e)/e)}})],polyline:[Xu,ju],polygon:[Xu,ju]};function Ku(i,t){var e=i.style,n=i.shape,o=py[i.type],a={},r=t.animation,s="path",l=i.style.strokePercent,u=t.compress&&Lh(i)||4;if(!o||t.willUpdate||o[1]&&!o[1](n)||r&&function(y){for(var v=y.animators,b=0;b<v.length;b++)if(v[b].targetName==="shape")return!0;return!1}(i)||l<1){var d=!i.path||i.shapeChanged();i.path||i.createPathProxy();var h=i.path;d&&(h.beginPath(),i.buildPath(h,i.shape),i.pathUpdated());var c=h.getVersion(),g=i,f=g.__svgPathBuilder;g.__svgPathVersion===c&&f&&l===g.__svgPathStrokePercent||(f||(f=g.__svgPathBuilder=new Nu),f.reset(u),h.rebuildPath(f,l),f.generateStr(),g.__svgPathVersion=c,g.__svgPathStrokePercent=l),a.d=f.getStr()}else{s=i.type;var p=Math.pow(10,u);o[0](n,a,p)}return Ha(a,i.transform),Ba(a,e,i,t),Ga(a,i),t.animation&&Ni(i,a,t),t.emphasis&&function(y,v,b){if(!y.ignore)if(y.isSilent())Wu(M={"pointer-events":"none"},v,b);else{var m=y.states.emphasis&&y.states.emphasis.style?y.states.emphasis.style:{},x=m.fill;if(!x){var S=y.style&&y.style.fill,_=y.states.select&&y.states.select.style&&y.states.select.style.fill,w=y.currentStates.indexOf("select")>=0&&_||S;w&&(x=Bm(w))}var I=m.lineWidth;I&&(I/=!m.strokeNoScale&&y.transform?y.transform[0]:1);var M={cursor:"pointer"};x&&(M.fill=x),m.stroke&&(M.stroke=m.stroke),I&&(M["stroke-width"]=I),Wu(M,v,b)}}(i,a,t),Ie(s,i.id+"",a)}function $u(i,t){return i instanceof Pe?Ku(i,t):i instanceof Kt?function(e,n){var o=e.style,a=o.image;if(a&&!re(a)&&(Zu(a)?a=a.src:Uu(a)&&(a=a.toDataURL())),a){var r=o.x||0,s=o.y||0,l={href:a,width:o.width,height:o.height};return r&&(l.x=r),s&&(l.y=s),Ha(l,e.transform),Ba(l,o,e,n),Ga(l,e),n.animation&&Ni(e,l,n),Ie("image",e.id+"",l)}}(i,t):i instanceof Gm?function(e,n){var o=e.style,a=o.text;if(a!=null&&(a+=""),a&&!isNaN(o.x)&&!isNaN(o.y)){var r=o.font||Ym,s=o.x||0,l=Xm(o.y||0,jm(r),o.textBaseline),u={"dominant-baseline":"central","text-anchor":qm[o.textAlign]||o.textAlign};if(Km(o)){var d="",h=o.fontStyle,c=$m(o.fontSize);if(!parseFloat(c))return;var g=o.fontFamily||Qm,f=o.fontWeight;d+="font-size:"+c+";font-family:"+g+";",h&&h!=="normal"&&(d+="font-style:"+h+";"),f&&f!=="normal"&&(d+="font-weight:"+f+";"),u.style=d}else u.style="font: "+r;return a.match(/\s/)&&(u["xml:space"]="preserve"),s&&(u.x=s),l&&(u.y=l),Ha(u,e.transform),Ba(u,o,e,n),Ga(u,e),n.animation&&Ni(e,u,n),Ie("text",e.id+"",u,void 0,a)}}(i,t):void 0}function Qu(i,t,e,n){var o,a=i[e],r={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(Hm(a))o="linearGradient",r.x1=a.x,r.y1=a.y,r.x2=a.x2,r.y2=a.y2;else{if(!Fm(a))return;o="radialGradient",r.cx=Be(a.x,.5),r.cy=Be(a.y,.5),r.r=Be(a.r,.5)}for(var s=a.colorStops,l=[],u=0,d=s.length;u<d;++u){var h=100*Wm(s[u].offset)+"%",c=s[u].color,g=ti(c),f=g.color,p=g.opacity,y={offset:h};y["stop-color"]=f,p<1&&(y["stop-opacity"]=p),l.push(Ie("stop",u+"",y))}var v=Oa(Ie(o,"",r,l)),b=n.gradientCache,m=b[v];m||(m=n.zrId+"-g"+n.gradientIdx++,b[v]=m,r.id=m,n.defs[m]=Ie(o,m,r,l)),t[e]=oo(m)}function Ju(i,t,e,n){var o,a=i.style[e],r=i.getBoundingRect(),s={},l=a.repeat,u=l==="no-repeat",d=l==="repeat-x",h=l==="repeat-y";if(Zm(a)){var c=a.imageWidth,g=a.imageHeight,f=void 0,p=a.image;if(re(p)?f=p:Zu(p)?f=p.src:Uu(p)&&(f=p.toDataURL()),typeof Image>"u"){var y="Image width/height must been given explictly in svg-ssr renderer.";Ui(c,y),Ui(g,y)}else if(c==null||g==null){var v=function(D,A){if(D){var C=D.elm,T=c||A.width,L=g||A.height;D.tag==="pattern"&&(d?(L=1,T/=r.width):h&&(T=1,L/=r.height)),D.attrs.width=T,D.attrs.height=L,C&&(C.setAttribute("width",T),C.setAttribute("height",L))}},b=Um(f,null,i,function(D){u||v(_,D),v(o,D)});b&&b.width&&b.height&&(c=c||b.width,g=g||b.height)}o=Ie("image","img",{href:f,width:c,height:g}),s.width=c,s.height=g}else a.svgElement&&(o=Te(a.svgElement),s.width=a.svgWidth,s.height=a.svgHeight);if(o){var m,x;u?m=x=1:d?(x=1,m=s.width/r.width):h?(m=1,x=s.height/r.height):s.patternUnits="userSpaceOnUse",m==null||isNaN(m)||(s.width=m),x==null||isNaN(x)||(s.height=x);var S=Th(a);S&&(s.patternTransform=S);var _=Ie("pattern","",s,[o]),w=Oa(_),I=n.patternCache,M=I[w];M||(M=n.zrId+"-p"+n.patternIdx++,I[w]=M,s.id=M,_=n.defs[M]=Ie("pattern",M,s,[o])),t[e]=oo(M)}}function gy(i,t,e){var n=e.clipPathCache,o=e.defs,a=n[i.id];if(!a){var r={id:a=e.zrId+"-c"+e.clipPathIdx++};n[i.id]=a,o[a]=Ie("clipPath",a,r,[Ku(i,e)])}t["clip-path"]=oo(a)}function ed(i){return document.createTextNode(i)}function rn(i,t,e){i.insertBefore(t,e)}function td(i,t){i.removeChild(t)}function nd(i,t){i.appendChild(t)}function id(i){return i.parentNode}function od(i){return i.nextSibling}function Wa(i,t){i.textContent=t}var ad=58,fy=120,yy=Ie("","");function Za(i){return i===void 0}function ht(i){return i!==void 0}function vy(i,t,e){for(var n={},o=t;o<=e;++o){var a=i[o].key;a!==void 0&&(n[a]=o)}return n}function On(i,t){var e=i.key===t.key;return i.tag===t.tag&&e}function Vi(i){var t,e=i.children,n=i.tag;if(ht(n)){var o=i.elm=Ou(n);if(Ua(yy,i),K(e))for(t=0;t<e.length;++t){var a=e[t];a!=null&&nd(o,Vi(a))}else ht(i.text)&&!Fe(i.text)&&nd(o,ed(i.text))}else i.elm=ed(i.text);return i.elm}function rd(i,t,e,n,o){for(;n<=o;++n){var a=e[n];a!=null&&rn(i,Vi(a),t)}}function Ri(i,t,e,n){for(;e<=n;++e){var o=t[e];o!=null&&(ht(o.tag)?td(id(o.elm),o.elm):td(i,o.elm))}}function Ua(i,t){var e,n=t.elm,o=i&&i.attrs||{},a=t.attrs||{};if(o!==a){for(e in a){var r=a[e];o[e]!==r&&(r===!0?n.setAttribute(e,""):r===!1?n.removeAttribute(e):e==="style"?n.style.cssText=r:e.charCodeAt(0)!==fy?n.setAttribute(e,r):e==="xmlns:xlink"||e==="xmlns"?n.setAttributeNS(sy,e,r):e.charCodeAt(3)===ad?n.setAttributeNS(ly,e,r):e.charCodeAt(5)===ad?n.setAttributeNS(Ru,e,r):n.setAttribute(e,r))}for(e in o)e in a||n.removeAttribute(e)}}function sn(i,t){var e=t.elm=i.elm,n=i.children,o=t.children;i!==t&&(Ua(i,t),Za(t.text)?ht(n)&&ht(o)?n!==o&&function(a,r,s){for(var l,u,d,h=0,c=0,g=r.length-1,f=r[0],p=r[g],y=s.length-1,v=s[0],b=s[y];h<=g&&c<=y;)f==null?f=r[++h]:p==null?p=r[--g]:v==null?v=s[++c]:b==null?b=s[--y]:On(f,v)?(sn(f,v),f=r[++h],v=s[++c]):On(p,b)?(sn(p,b),p=r[--g],b=s[--y]):On(f,b)?(sn(f,b),rn(a,f.elm,od(p.elm)),f=r[++h],b=s[--y]):On(p,v)?(sn(p,v),rn(a,p.elm,f.elm),p=r[--g],v=s[++c]):(Za(l)&&(l=vy(r,h,g)),Za(u=l[v.key])||(d=r[u]).tag!==v.tag?rn(a,Vi(v),f.elm):(sn(d,v),r[u]=void 0,rn(a,d.elm,f.elm)),v=s[++c]);(h<=g||c<=y)&&(h>g?rd(a,s[y+1]==null?null:s[y+1].elm,s,c,y):Ri(a,r,h,g))}(e,n,o):ht(o)?(ht(i.text)&&Wa(e,""),rd(e,null,o,0,o.length-1)):ht(n)?Ri(e,n,0,n.length-1):ht(i.text)&&Wa(e,""):i.text!==t.text&&(ht(n)&&Ri(e,n,0,n.length-1),Wa(e,t.text)))}var my=0,xy=function(){function i(t,e,n){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=e,this._opts=n=te({},n),this.root=t,this._id="zr"+my++,this._oldVNode=Eu(n.width,n.height),t&&!n.ssr){var o=this._viewport=document.createElement("div");o.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=Ou("svg");Ua(null,this._oldVNode),o.appendChild(a),t.appendChild(o)}this.resize(n.width,n.height)}return i.prototype.getType=function(){return this.type},i.prototype.getViewportRoot=function(){return this._viewport},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.getSvgDom=function(){return this._svgDom},i.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,n){if(On(e,n))sn(e,n);else{var o=e.elm,a=id(o);Vi(n),a!==null&&(rn(a,n.elm,od(o)),Ri(a,[e],0,0))}}(this._oldVNode,t),this._oldVNode=t}},i.prototype.renderOneToVNode=function(t){return $u(t,Ea(this._id))},i.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,o=this._height,a=Ea(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis;var r=[],s=this._bgVNode=function(c,g,f,p){var y;if(f&&f!=="none")if(y=Ie("rect","bg",{width:c,height:g,x:"0",y:"0"}),kh(f))Qu({fill:f},y.attrs,"fill",p);else if(wr(f))Ju({style:{fill:f},dirty:Yt,getBoundingRect:function(){return{width:c,height:g}}},y.attrs,"fill",p);else{var v=ti(f),b=v.color,m=v.opacity;y.attrs.fill=b,m<1&&(y.attrs["fill-opacity"]=m)}return y}(n,o,this._backgroundColor,a);s&&r.push(s);var l=t.compress?null:this._mainVNode=Ie("g","main",{},[]);this._paintList(e,a,l?l.children:r),l&&r.push(l);var u=q(Le(a.defs),function(c){return a.defs[c]});if(u.length&&r.push(Ie("defs","defs",{},u)),t.animation){var d=function(c,g,f){var p=(f=f||{}).newline?`
`:"",y=" {"+p,v=p+"}",b=q(Le(c),function(x){return x+y+q(Le(c[x]),function(S){return S+":"+c[x][S]+";"}).join(p)+v}).join(p),m=q(Le(g),function(x){return"@keyframes "+x+y+q(Le(g[x]),function(S){return S+y+q(Le(g[x][S]),function(_){var w=g[x][S][_];return _==="d"&&(w='path("'+w+'")'),_+":"+w+";"}).join(p)+v}).join(p)+v}).join(p);return b||m?["<![CDATA[",b,m,"]]>"].join(p):""}(a.cssNodes,a.cssAnims,{newline:!0});if(d){var h=Ie("style","stl",{},[],d);r.push(h)}}return Eu(n,o,r,t.useViewBox)},i.prototype.renderToString=function(t){return t=t||{},Oa(this.renderToVNode({animation:Be(t.cssAnimation,!0),emphasis:Be(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Be(t.useViewBox,!0)}),{newline:!0})},i.prototype.setBackgroundColor=function(t){this._backgroundColor=t},i.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},i.prototype._paintList=function(t,e,n){for(var o,a,r=t.length,s=[],l=0,u=0,d=0;d<r;d++){var h=t[d];if(!h.invisible){var c=h.__clipPaths,g=c&&c.length||0,f=a&&a.length||0,p=void 0;for(p=Math.max(g-1,f-1);p>=0&&(!c||!a||c[p]!==a[p]);p--);for(var y=f-1;y>p;y--)o=s[--l-1];for(var v=p+1;v<g;v++){var b={};gy(c[v],b,e);var m=Ie("g","clip-g-"+u++,b,[]);(o?o.children:n).push(m),s[l++]=m,o=m}a=c;var x=$u(h,e);x&&(o?o.children:n).push(x)}}},i.prototype.resize=function(t,e){var n=this._opts,o=this.root,a=this._viewport;if(t!=null&&(n.width=t),e!=null&&(n.height=e),o&&a&&(a.style.display="none",t=Nh(o,0,n),e=Nh(o,1,n),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var r=a.style;r.width=t+"px",r.height=e+"px"}if(wr(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",e));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",e))}}},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},i.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},i.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=i0(e))&&n+"base64,"+e:n+"charset=UTF-8,"+encodeURIComponent(e)},i}(),ct=Ph.CMD;function ln(i,t){return Math.abs(i-t)<1e-5}function Ya(i){var t,e,n,o,a,r=i.data,s=i.len(),l=[],u=0,d=0,h=0,c=0;function g(C,T){t&&t.length>2&&l.push(t),t=[C,T]}function f(C,T,L,R){ln(C,L)&&ln(T,R)||t.push(C,T,L,R,L,R)}function p(C,T,L,R,k,N){var P=Math.abs(T-C),z=4*Math.tan(P/4)/3,O=T<C?-1:1,B=Math.cos(C),G=Math.sin(C),W=Math.cos(T),E=Math.sin(T),F=B*k+L,U=G*N+R,Y=W*k+L,j=E*N+R,$=k*z*O,X=N*z*O;t.push(F-$*G,U+X*B,Y+$*E,j-X*W,Y,j)}for(var y=0;y<s;){var v=r[y++],b=y===1;switch(b&&(h=u=r[y],c=d=r[y+1],v!==ct.L&&v!==ct.C&&v!==ct.Q||(t=[h,c])),v){case ct.M:u=h=r[y++],d=c=r[y++],g(h,c);break;case ct.L:f(u,d,e=r[y++],n=r[y++]),u=e,d=n;break;case ct.C:t.push(r[y++],r[y++],r[y++],r[y++],u=r[y++],d=r[y++]);break;case ct.Q:e=r[y++],n=r[y++],o=r[y++],a=r[y++],t.push(u+2/3*(e-u),d+2/3*(n-d),o+2/3*(e-o),a+2/3*(n-a),o,a),u=o,d=a;break;case ct.A:var m=r[y++],x=r[y++],S=r[y++],_=r[y++],w=r[y++],I=r[y++]+w;y+=1;var M=!r[y++];e=Math.cos(w)*S+m,n=Math.sin(w)*_+x,b?g(h=e,c=n):f(u,d,e,n),u=Math.cos(I)*S+m,d=Math.sin(I)*_+x;for(var D=(M?-1:1)*Math.PI/2,A=w;M?A>I:A<I;A+=D)p(A,M?Math.max(A+D,I):Math.min(A+D,I),m,x,S,_);break;case ct.R:h=u=r[y++],c=d=r[y++],e=h+r[y++],n=c+r[y++],g(e,c),f(e,c,e,n),f(e,n,h,n),f(h,n,h,c),f(h,c,e,c);break;case ct.Z:t&&f(u,d,h,c),u=h,d=c}}return t&&t.length>2&&l.push(t),l}function Xa(i,t,e,n,o,a,r,s,l,u){if(ln(i,e)&&ln(t,n)&&ln(o,r)&&ln(a,s))l.push(r,s);else{var d=2/u,h=d*d,c=r-i,g=s-t,f=Math.sqrt(c*c+g*g);c/=f,g/=f;var p=e-i,y=n-t,v=o-r,b=a-s,m=p*p+y*y,x=v*v+b*b;if(m<h&&x<h)l.push(r,s);else{var S=c*p+g*y,_=-c*v-g*b;if(m-S*S<h&&S>=0&&x-_*_<h&&_>=0)l.push(r,s);else{var w=[],I=[];ao(i,e,o,r,.5,w),ao(t,n,a,s,.5,I),Xa(w[0],I[0],w[1],I[1],w[2],I[2],w[3],I[3],l,u),Xa(w[4],I[4],w[5],I[5],w[6],I[6],w[7],I[7],l,u)}}}}function sd(i,t,e){var n=i[t],o=i[1-t],a=Math.abs(n/o),r=Math.ceil(Math.sqrt(a*e)),s=Math.floor(e/r);s===0&&(s=1,r=e);for(var l=[],u=0;u<r;u++)l.push(s);var d=e-r*s;if(d>0)for(u=0;u<d;u++)l[u%r]+=1;return l}function ld(i,t,e){for(var n=i.r0,o=i.r,a=i.startAngle,r=i.endAngle,s=Math.abs(r-a),l=s*o,u=o-n,d=l>Math.abs(u),h=sd([l,u],d?0:1,t),c=(d?s:u)/h.length,g=0;g<h.length;g++)for(var f=(d?u:s)/h[g],p=0;p<h[g];p++){var y={};d?(y.startAngle=a+c*g,y.endAngle=a+c*(g+1),y.r0=n+f*p,y.r=n+f*(p+1)):(y.startAngle=a+f*p,y.endAngle=a+f*(p+1),y.r0=n+c*g,y.r=n+c*(g+1)),y.clockwise=i.clockwise,y.cx=i.cx,y.cy=i.cy,e.push(y)}}function ud(i,t,e,n){return i*n-e*t}function _y(i,t,e,n,o,a,r,s){var l=e-i,u=n-t,d=r-o,h=s-a,c=ud(d,h,l,u);if(Math.abs(c)<1e-6)return null;var g=ud(i-o,t-a,d,h)/c;return g<0||g>1?null:new Dt(g*l+i,g*u+t)}function by(i,t,e){var n=new Dt;Dt.sub(n,e,t),n.normalize();var o=new Dt;return Dt.sub(o,i,t),o.dot(n)}function un(i,t){var e=i[i.length-1];e&&e[0]===t[0]&&e[1]===t[1]||i.push(t)}function dd(i){var t=i.points,e=[],n=[];Wi(t,e,n);var o=new pt(e[0],e[1],n[0]-e[0],n[1]-e[1]),a=o.width,r=o.height,s=o.x,l=o.y,u=new Dt,d=new Dt;return a>r?(u.x=d.x=s+a/2,u.y=l,d.y=l+r):(u.y=d.y=l+r/2,u.x=s,d.x=s+a),function(h,c,g){for(var f=h.length,p=[],y=0;y<f;y++){var v=h[y],b=h[(y+1)%f],m=_y(v[0],v[1],b[0],b[1],c.x,c.y,g.x,g.y);m&&p.push({projPt:by(m,c,g),pt:m,idx:y})}if(p.length<2)return[{points:h},{points:h}];p.sort(function(A,C){return A.projPt-C.projPt});var x=p[0],S=p[p.length-1];if(S.idx<x.idx){var _=x;x=S,S=_}var w=[x.pt.x,x.pt.y],I=[S.pt.x,S.pt.y],M=[w],D=[I];for(y=x.idx+1;y<=S.idx;y++)un(M,h[y].slice());for(un(M,I),un(M,w),y=S.idx+1;y<=x.idx+f;y++)un(D,h[y%f].slice());return un(D,w),un(D,I),[{points:M},{points:D}]}(t,u,d)}function zi(i,t,e,n){if(e===1)n.push(t);else{var o=Math.floor(e/2),a=i(t);zi(i,a[0],o,n),zi(i,a[1],e-o,n)}return n}function Sy(i,t){var e,n=[],o=i.shape;switch(i.type){case"rect":(function(m,x,S){for(var _=m.width,w=m.height,I=_>w,M=sd([_,w],I?0:1,x),D=I?"width":"height",A=I?"height":"width",C=I?"x":"y",T=I?"y":"x",L=m[D]/M.length,R=0;R<M.length;R++)for(var k=m[A]/M[R],N=0;N<M[R];N++){var P={};P[C]=R*L,P[T]=N*k,P[D]=L,P[A]=k,P.x+=m.x,P.y+=m.y,S.push(P)}})(o,t,n),e=Ee;break;case"sector":ld(o,t,n),e=Yn;break;case"circle":ld({r0:0,r:o.r,startAngle:0,endAngle:2*Math.PI,cx:o.cx,cy:o.cy},t,n),e=Yn;break;default:var a=i.getComputedTransform(),r=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=q(function(m,x){var S=Ya(m),_=[];x=x||1;for(var w=0;w<S.length;w++){var I=S[w],M=[],D=I[0],A=I[1];M.push(D,A);for(var C=2;C<I.length;){var T=I[C++],L=I[C++],R=I[C++],k=I[C++],N=I[C++],P=I[C++];Xa(D,A,T,L,R,k,N,P,M,x),D=N,A=P}_.push(M)}return _}(i.getUpdatedPathProxy(),r),function(m){return function(x){for(var S=[],_=0;_<x.length;)S.push([x[_++],x[_++]]);return S}(m)}),l=s.length;if(l===0)zi(dd,{points:s[0]},t,n);else if(l===t)for(var u=0;u<l;u++)n.push({points:s[u]});else{var d=0,h=q(s,function(m){var x=[],S=[];Wi(m,x,S);var _=(S[1]-x[1])*(S[0]-x[0]);return d+=_,{poly:m,area:_}});h.sort(function(m,x){return x.area-m.area});var c=t;for(u=0;u<l;u++){var g=h[u];if(c<=0)break;var f=u===l-1?c:Math.ceil(g.area/d*t);f<0||(zi(dd,{points:g.poly},f,n),c-=f)}}e=Xt}if(!e)return function(m,x){for(var S=[],_=0;_<x;_++)S.push(Ir(m));return S}(i,t);var p,y,v=[];for(u=0;u<n.length;u++){var b=new e;b.setShape(n[u]),p=i,(y=b).setStyle(p.style),y.z=p.z,y.z2=p.z2,y.zlevel=p.zlevel,v.push(b)}return v}function wy(i,t){var e=i.length,n=t.length;if(e===n)return[i,t];for(var o=[],a=[],r=e<n?i:t,s=Math.min(e,n),l=Math.abs(n-e)/6,u=(s-2)/6,d=Math.ceil(l/u)+1,h=[r[0],r[1]],c=l,g=2;g<s;){var f=r[g-2],p=r[g-1],y=r[g++],v=r[g++],b=r[g++],m=r[g++],x=r[g++],S=r[g++];if(c<=0)h.push(y,v,b,m,x,S);else{for(var _=Math.min(c,d-1)+1,w=1;w<=_;w++){var I=w/_;ao(f,y,b,x,I,o),ao(p,v,m,S,I,a),f=o[3],p=a[3],h.push(o[1],a[1],o[2],a[2],f,p),y=o[5],v=a[5],b=o[6],m=a[6]}c-=_-1}}return r===i?[h,t]:[i,h]}function hd(i,t){for(var e=i.length,n=i[e-2],o=i[e-1],a=[],r=0;r<t.length;)a[r++]=n,a[r++]=o;return a}function cd(i){for(var t=0,e=0,n=0,o=i.length,a=0,r=o-2;a<o;r=a,a+=2){var s=i[r],l=i[r+1],u=i[a],d=i[a+1],h=s*d-u*l;t+=h,e+=(s+u)*h,n+=(l+d)*h}return t===0?[i[0]||0,i[1]||0]:[e/t/3,n/t/3,t]}function Iy(i,t,e,n){for(var o=(i.length-2)/6,a=1/0,r=0,s=i.length,l=s-2,u=0;u<o;u++){for(var d=6*u,h=0,c=0;c<s;c+=2){var g=c===0?d:(d+c-2)%l+2,f=i[g]-e[0],p=i[g+1]-e[1],y=t[c]-n[0]-f,v=t[c+1]-n[1]-p;h+=y*y+v*v}h<a&&(a=h,r=u)}return r}function My(i){for(var t=[],e=i.length,n=0;n<e;n+=2)t[n]=i[e-n-2],t[n+1]=i[e-n-1];return t}function Oi(i){return i.__isCombineMorphing}var pd="__mOriginal_";function Ei(i,t,e){var n=pd+t,o=i[n]||i[t];i[n]||(i[n]=i[t]);var a=e.replace,r=e.after,s=e.before;i[t]=function(){var l,u=arguments;return s&&s.apply(this,u),l=a?a.apply(this,u):o.apply(this,u),r&&r.apply(this,u),l}}function En(i,t){var e=pd+t;i[e]&&(i[t]=i[e],i[e]=null)}function gd(i,t){for(var e=0;e<i.length;e++)for(var n=i[e],o=0;o<n.length;){var a=n[o],r=n[o+1];n[o++]=t[0]*a+t[2]*r+t[4],n[o++]=t[1]*a+t[3]*r+t[5]}}function fd(i,t){var e=i.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),o=function(h,c){for(var g,f,p,y=[],v=[],b=0;b<Math.max(h.length,c.length);b++){var m=h[b],x=c[b],S=void 0,_=void 0;m?x?(f=S=(g=wy(m,x))[0],p=_=g[1]):(_=hd(p||m,m),S=m):(S=hd(f||x,x),_=x),y.push(S),v.push(_)}return[y,v]}(Ya(e),Ya(n)),a=o[0],r=o[1],s=i.getComputedTransform(),l=t.getComputedTransform();s&&gd(a,s),l&&gd(r,l),Ei(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var u=function(h,c,g,f){for(var p,y=[],v=0;v<h.length;v++){var b=h[v],m=c[v],x=cd(b),S=cd(m);p==null&&(p=x[2]<0!=S[2]<0);var _=[],w=[],I=0,M=1/0,D=[],A=b.length;p&&(b=My(b));for(var C=6*Iy(b,m,x,S),T=A-2,L=0;L<T;L+=2){var R=(C+L)%T+2;_[L+2]=b[R]-x[0],_[L+3]=b[R+1]-x[1]}_[0]=b[C]-x[0],_[1]=b[C+1]-x[1];for(var k=f/g,N=-f/2;N<=f/2;N+=k){var P=Math.sin(N),z=Math.cos(N),O=0;for(L=0;L<b.length;L+=2){var B=_[L],G=_[L+1],W=m[L]-S[0],E=m[L+1]-S[1],F=W*z-E*P,U=W*P+E*z;D[L]=F,D[L+1]=U;var Y=F-B,j=U-G;O+=Y*Y+j*j}if(O<M){M=O,I=N;for(var $=0;$<D.length;$++)w[$]=D[$]}}y.push({from:_,to:w,fromCp:x,toCp:S,rotation:-I})}return y}(a,r,10,Math.PI),d=[];Ei(t,"buildPath",{replace:function(h){for(var c=t.__morphT,g=1-c,f=[],p=0;p<u.length;p++){var y=u[p],v=y.from,b=y.to,m=y.rotation*c,x=y.fromCp,S=y.toCp,_=Math.sin(m),w=Math.cos(m);a0(f,x,S,c);for(var I=0;I<v.length;I+=2){var M=v[I],D=v[I+1],A=M*g+(R=b[I])*c,C=D*g+(k=b[I+1])*c;d[I]=A*w-C*_+f[0],d[I+1]=A*_+C*w+f[1]}var T=d[0],L=d[1];for(h.moveTo(T,L),I=2;I<v.length;){var R=d[I++],k=d[I++],N=d[I++],P=d[I++],z=d[I++],O=d[I++];T===R&&L===k&&N===z&&P===O?h.lineTo(z,O):h.bezierCurveTo(R,k,N,P,z,O),T=z,L=O}}}})}function ja(i,t,e){if(!i||!t)return t;var n=e.done,o=e.during;return fd(i,t),t.__morphT=0,t.animateTo({__morphT:1},Ae({during:function(a){t.dirtyShape(),o&&o(a)},done:function(){En(t,"buildPath"),En(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),n&&n()}},e)),t}function Dy(i,t,e,n,o,a){i=o===e?0:Math.round(32767*(i-e)/(o-e)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var r,s=0,l=32768;l>0;l/=2){var u=0,d=0;(i&l)>0&&(u=1),(t&l)>0&&(d=1),s+=l*l*(3*u^d),d===0&&(u===1&&(i=l-1-i,t=l-1-t),r=i,i=t,t=r)}return s}function Bi(i){var t=1/0,e=1/0,n=-1/0,o=-1/0,a=q(i,function(r){var s=r.getBoundingRect(),l=r.getComputedTransform(),u=s.x+s.width/2+(l?l[4]:0),d=s.y+s.height/2+(l?l[5]:0);return t=Math.min(u,t),e=Math.min(d,e),n=Math.max(u,n),o=Math.max(d,o),[u,d]});return q(a,function(r,s){return{cp:r,z:Dy(r[0],r[1],t,e,n,o),path:i[s]}}).sort(function(r,s){return r.z-s.z}).map(function(r){return r.path})}function yd(i){return Sy(i.path,i.count)}function vd(i){return K(i[0])}function md(i,t){for(var e=[],n=i.length,o=0;o<n;o++)e.push({one:i[o],many:[]});for(o=0;o<t.length;o++){var a=t[o].length,r=void 0;for(r=0;r<a;r++)e[r%n].many.push(t[o][r])}var s=0;for(o=n-1;o>=0;o--)if(!e[o].many.length){var l=e[s].many;if(l.length<=1){if(!s)return e;s=0}a=l.length;var u=Math.ceil(a/2);e[o].many=l.slice(u,a),e[s].many=l.slice(0,u),s++}return e}var Cy={clone:function(i){for(var t=[],e=1-Math.pow(1-i.path.style.opacity,1/i.count),n=0;n<i.count;n++){var o=Ir(i.path);o.setStyle("opacity",e),t.push(o)}return t},split:null};function qa(i,t,e,n,o,a){if(i.length&&t.length){var r=Kn("update",n,o);if(r&&r.duration>0){var s,l,u=n.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},r);vd(i)&&(s=i,l=t),vd(t)&&(s=t,l=i);for(var h=s?s===i:i.length>t.length,c=s?md(l,s):md(h?t:i,[h?i:t]),g=0,f=0;f<c.length;f++)g+=c[f].many.length;var p=0;for(f=0;f<c.length;f++)y(c[f],h,p,g),p+=c[f].many.length}}function y(v,b,m,x,S){var _=v.many,w=v.one;if(_.length!==1||S)for(var I=Ae({dividePath:Cy[e],individualDelay:u&&function(N,P,z,O){return u(N+m,x)}},d),M=b?function(N,P,z){var O=[];(function he(ue){for(var Me=0;Me<ue.length;Me++){var ot=ue[Me];Oi(ot)?he(ot.childrenRef()):ot instanceof Pe&&O.push(ot)}})(N);var B=O.length;if(!B)return{fromIndividuals:[],toIndividuals:[],count:0};var G=(z.dividePath||yd)({path:P,count:B});if(G.length!==B)return{fromIndividuals:[],toIndividuals:[],count:0};O=Bi(O),G=Bi(G);for(var W=z.done,E=z.during,F=z.individualDelay,U=new o0,Y=0;Y<B;Y++){var j=O[Y],$=G[Y];$.parent=P,$.copyTransform(U),F||fd(j,$)}function X(he){for(var ue=0;ue<G.length;ue++)G[ue].addSelfToZr(he)}function ee(){P.__isCombineMorphing=!1,P.__morphT=-1,P.childrenRef=null,En(P,"addSelfToZr"),En(P,"removeSelfFromZr")}P.__isCombineMorphing=!0,P.childrenRef=function(){return G},Ei(P,"addSelfToZr",{after:function(he){X(he)}}),Ei(P,"removeSelfFromZr",{after:function(he){for(var ue=0;ue<G.length;ue++)G[ue].removeSelfFromZr(he)}});var ae=G.length;if(F){var ze=ae,it=function(){--ze==0&&(ee(),W&&W())};for(Y=0;Y<ae;Y++){var Ue=F?Ae({delay:(z.delay||0)+F(Y,ae,O[Y],G[Y]),done:it},z):z;ja(O[Y],G[Y],Ue)}}else P.__morphT=0,P.animateTo({__morphT:1},Ae({during:function(he){for(var ue=0;ue<ae;ue++){var Me=G[ue];Me.__morphT=P.__morphT,Me.dirtyShape()}E&&E(he)},done:function(){ee();for(var he=0;he<N.length;he++)En(N[he],"updateTransform");W&&W()}},z));return P.__zr&&X(P.__zr),{fromIndividuals:O,toIndividuals:G,count:ae}}(_,w,I):function(N,P,z){var O=P.length,B=[],G=z.dividePath||yd;if(Oi(N)){(function $(X){for(var ee=0;ee<X.length;ee++){var ae=X[ee];Oi(ae)?$(ae.childrenRef()):ae instanceof Pe&&B.push(ae)}})(N.childrenRef());var W=B.length;if(W<O)for(var E=0,F=W;F<O;F++)B.push(Ir(B[E++%W]));B.length=O}else{B=G({path:N,count:O});var U=N.getComputedTransform();for(F=0;F<B.length;F++)B[F].setLocalTransform(U);if(B.length!==O)return{fromIndividuals:[],toIndividuals:[],count:0}}B=Bi(B),P=Bi(P);var Y=z.individualDelay;for(F=0;F<O;F++){var j=Y?Ae({delay:(z.delay||0)+Y(F,O,B[F],P[F])},z):z;ja(B[F],P[F],j)}return{fromIndividuals:B,toIndividuals:P,count:P.length}}(w,_,I),D=M.fromIndividuals,A=M.toIndividuals,C=D.length,T=0;T<C;T++)L=u?Ae({delay:u(T,C)},d):d,a(D[T],A[T],b?_[T]:v.one,b?v.one:_[T],L);else{var L,R=b?_[0]:w,k=b?w:_[0];Oi(R)?y({many:[R],one:k},!0,m,x,!0):(ja(R,k,L=u?Ae({delay:u(m,x)},d):d),a(R,k,R,k,L))}}}function Ut(i){if(!i)return[];if(K(i)){for(var t=[],e=0;e<i.length;e++)t.push(Ut(i[e]));return t}var n=[];return i.traverse(function(o){o instanceof Pe&&!o.disableMorphing&&!o.invisible&&!o.ignore&&n.push(o)}),n}var xd=1e4,Ay=0,_d=1,bd=2,Ty=Oe();function Sd(i,t,e,n){var o=function(l,u){for(var d=l.dimensions,h=0;h<d.length;h++){var c=l.getDimensionInfo(d[h]);if(c&&c.otherDims[u]===0)return d[h]}}(i,n?"itemChildGroupId":"itemGroupId");if(o){var a=function(l,u,d){var h=l.getDimensionInfo(d),c=h&&h.ordinalMeta;if(h){var g=l.get(h.name,u);return c&&c.categories[g]||g+""}}(i,t,o);return a}var r=i.getRawDataItem(t),s=n?"childGroupId":"groupId";return r&&r[s]?r[s]+"":n?void 0:e||i.getId(t)}function wd(i){var t=[];return V(i,function(e){var n=e.data,o=e.dataGroupId;if(!(n.count()>xd))for(var a=n.getIndices(),r=0;r<a.length;r++)t.push({data:n,groupId:Sd(n,r,o,!1),childGroupId:Sd(n,r,o,!0),divide:e.divide,dataIndex:r})}),t}function Ka(i,t,e){i.traverse(function(n){n instanceof Pe&&mt(n,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function $a(i){if(i.parent){var t=i.getComputedTransform();i.setLocalTransform(t),i.parent.remove(i)}}function dn(i){i.stopAnimation(),i.isGroup&&i.traverse(function(t){t.stopAnimation()})}function Id(i,t,e){var n=wd(i),o=wd(t);function a(m,x,S,_,w){(S||m)&&x.animateFrom({style:S&&S!==m?te(te({},S.style),m.style):m.style},w)}var r=!1,s=Ay,l=fe(),u=fe();n.forEach(function(m){m.groupId&&l.set(m.groupId,!0),m.childGroupId&&u.set(m.childGroupId,!0)});for(var d=0;d<o.length;d++){var h=o[d].groupId;if(u.get(h)){s=_d;break}var c=o[d].childGroupId;if(c&&l.get(c)){s=bd;break}}function g(m,x){return function(S){var _=S.data,w=S.dataIndex;return x?_.getId(w):m?s===_d?S.childGroupId:S.groupId:s===bd?S.childGroupId:S.groupId}}var f=function(m,x){var S=m.length;if(S!==x.length)return!1;for(var _=0;_<S;_++){var w=m[_],I=x[_];if(w.data.getId(w.dataIndex)!==I.data.getId(I.dataIndex))return!1}return!0}(n,o),p={};if(!f)for(d=0;d<o.length;d++){var y=o[d],v=y.data.getItemGraphicEl(y.dataIndex);v&&(p[v.id]=!0)}function b(m,x){var S=n[x],_=o[m],w=_.data.hostModel,I=S.data.getItemGraphicEl(S.dataIndex),M=_.data.getItemGraphicEl(_.dataIndex);I!==M?I&&p[I.id]||M&&(dn(M),I?(dn(I),$a(I),r=!0,qa(Ut(I),Ut(M),_.divide,w,m,a)):Ka(M,w,m)):M&&function(D,A,C){var T=Kn("update",C,A);T&&D.traverse(function(L){if(L instanceof Gn){var R=r0(L);R&&L.animateFrom({style:R},T)}})}(M,_.dataIndex,w)}new jt(n,o,g(!0,f),g(!1,f),null,"multiple").update(b).updateManyToOne(function(m,x){var S=o[m],_=S.data,w=_.hostModel,I=_.getItemGraphicEl(S.dataIndex),M=nt(q(x,function(D){return n[D].data.getItemGraphicEl(n[D].dataIndex)}),function(D){return D&&D!==I&&!p[D.id]});I&&(dn(I),M.length?(V(M,function(D){dn(D),$a(D)}),r=!0,qa(Ut(M),Ut(I),S.divide,w,m,a)):Ka(I,w,S.dataIndex))}).updateOneToMany(function(m,x){var S=n[x],_=S.data.getItemGraphicEl(S.dataIndex);if(!_||!p[_.id]){var w=nt(q(m,function(M){return o[M].data.getItemGraphicEl(o[M].dataIndex)}),function(M){return M&&M!==_}),I=o[m[0]].data.hostModel;w.length&&(V(w,function(M){return dn(M)}),_?(dn(_),$a(_),r=!0,qa(Ut(_),Ut(w),S.divide,I,m[0],a)):V(w,function(M){return Ka(M,I,m[0])}))}}).updateManyToMany(function(m,x){new jt(x,m,function(S){return n[S].data.getId(n[S].dataIndex)},function(S){return o[S].data.getId(o[S].dataIndex)}).update(function(S,_){b(m[S],x[_])}).execute()}).execute(),r&&V(t,function(m){var x=m.data.hostModel,S=x&&e.getViewOfSeriesModel(x),_=Kn("update",x,0);S&&x.isAnimationEnabled()&&_&&_.duration>0&&S.group.traverse(function(w){w instanceof Pe&&!w.animators.length&&w.animateFrom({style:{opacity:0}},_)})})}function Md(i){var t=i.getModel("universalTransition").get("seriesKey");return t||i.id}function Dd(i){return K(i)?i.sort().join(","):i}function Vt(i){if(i.hostModel)return i.hostModel.getModel("universalTransition").get("divideShape")}function Cd(i,t){for(var e=0;e<i.length;e++)if(t.seriesIndex!=null&&t.seriesIndex===i[e].seriesIndex||t.seriesId!=null&&t.seriesId===i[e].id)return e}ne([s0]),ne([function(i){i.registerPainter("svg",xy)}]),ne([l0,u0,d0,function(i){ne(jy),i.registerSeriesModel(zh),i.registerChartView(Gh),i.registerLayout(Gi("scatter"))},h0,c0,function(i){i.registerChartView(jh),i.registerSeriesModel(tc),i.registerLayout(nc),i.registerVisual(ic),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,n){n.eachComponent({mainType:"series",subType:"tree",query:e},function(o){var a=e.dataIndex,r=o.getData().tree.getNodeByDataIndex(a);r.isExpand=!r.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,n,o){n.eachComponent({mainType:"series",subType:"tree",query:e},function(a){var r=a.coordinateSystem,s=Gd(r,e,void 0,o);a.setCenter&&a.setCenter(s.center),a.setZoom&&a.setZoom(s.zoom)})})}(i)},function(i){i.registerSeriesModel(oc),i.registerChartView(cc),i.registerVisual(fc),i.registerLayout(xc),function(t){for(var e=0;e<Rr.length;e++)t.registerAction({type:Rr[e],update:"updateView"},Yt);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,o){o.eachComponent({mainType:"series",subType:"treemap",query:n},function(a,r){var s=_n(n,["treemapZoomToNode","treemapRootToNode"],a);if(s){var l=a.getViewRoot();l&&(n.direction=co(l,s.node)?"rollUp":"drillDown"),a.resetViewRoot(s.node)}})})}(i)},function(i){i.registerChartView(kc),i.registerSeriesModel(Vc),i.registerProcessor(bc),i.registerVisual(Sc),i.registerVisual(wc),i.registerLayout(Dc),i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,Ac),i.registerLayout(Tc),i.registerCoordinateSystem("graphView",{dimensions:er.dimensions,create:Lc}),i.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Yt),i.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Yt),i.registerAction(Rc,function(t,e,n){e.eachComponent({mainType:"series",query:t},function(o){var a=o.coordinateSystem,r=Gd(a,t,void 0,n);o.setCenter&&o.setCenter(r.center),o.setZoom&&o.setZoom(r.zoom)})})},function(i){i.registerChartView(Ec),i.registerSeriesModel(Bc)},function(i){i.registerChartView(Fc),i.registerSeriesModel(Wc),i.registerLayout(Zc),i.registerProcessor(cr("funnel"))},function(i){ne(Qd),i.registerChartView(Uc),i.registerSeriesModel(Yc),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,qc)},function(i){i.registerChartView(Qc),i.registerSeriesModel(Jc),i.registerLayout(ep),i.registerVisual(sp),i.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(i){i.registerSeriesModel(ws),i.registerChartView(lp),i.registerLayout(cp),i.registerTransform(pp)},function(i){i.registerChartView(fp),i.registerSeriesModel(As),i.registerPreprocessor(_p),i.registerVisual(Dp),i.registerLayout(Cp)},function(i){i.registerChartView(Tp),i.registerSeriesModel(Lp),i.registerLayout(Gi("effectScatter"))},function(i){i.registerChartView(Rp),i.registerSeriesModel(Ep),i.registerLayout(Ns),i.registerVisual(Bp)},function(i){i.registerChartView(Hp),i.registerSeriesModel(Fp)},p0,function(i){i.registerChartView(Wp),i.registerSeriesModel(Zp),i.registerLayout(Up),i.registerProcessor(cr("themeRiver"))},function(i){i.registerChartView(Xp),i.registerSeriesModel(jp),i.registerLayout(le(qp,"sunburst")),i.registerProcessor(le(cr,"sunburst")),i.registerVisual(Kp),function(t){t.registerAction({type:Zo,update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"sunburst",query:e},function(o,a){var r=_n(e,[Zo],o);if(r){var s=o.getViewRoot();s&&(e.direction=co(s,r.node)?"rollUp":"drillDown"),o.resetViewRoot(r.node)}})}),t.registerAction({type:Es,update:"none"},function(e,n,o){e=te({},e),n.eachComponent({mainType:"series",subType:"sunburst",query:e},function(a){var r=_n(e,[Es],a);r&&(e.dataIndex=r.node.dataIndex)}),o.dispatchAction(te(e,{type:"highlight"}))}),t.registerAction({type:Yp,update:"updateView"},function(e,n,o){e=te({},e),o.dispatchAction(te(e,{type:"downplay"}))})}(i)},function(i){i.registerChartView(dg),i.registerSeriesModel(Qp)}]),ne(g0),ne(f0),ne(y0),ne(function(i){ne(ph),hh.registerAxisPointerClass("SingleAxisPointer",wg),i.registerComponentView(Mg),i.registerComponentView(vg),i.registerComponentModel(mi),Xv(i,"single",mi,mi.defaultOption),i.registerCoordinateSystem("single",bg)}),ne(Qd),ne(function(i){i.registerComponentModel(Dg),i.registerComponentView(Cg),i.registerCoordinateSystem("calendar",Ag)}),ne(function(i){i.registerComponentModel(Lg),i.registerComponentView(Pg),i.registerPreprocessor(function(t){var e=t.graphic;K(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}),ne(function(i){i.registerComponentModel(Bg),i.registerComponentView(Gg),nn("saveAsImage",Hg),nn("magicType",Wg),nn("dataView",Ug),nn("dataZoom",$g),nn("restore",Xg),ne(Eg)}),ne(v0),ne(ph),ne(function(i){i.registerComponentView(af),i.registerComponentModel(rf),i.registerPreprocessor(ef),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,tf),i.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Yt),i.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Yt),nn("brush",lf)}),ne(m0),ne(function(i){i.registerComponentModel(Xl),i.registerComponentView(hf),i.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,n,o){var a=n.getComponent("timeline");return a&&e.currentIndex!=null&&(a.setCurrentIndex(e.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),o.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),n.resetOption("timeline",{replaceMerge:a.get("replaceMerge",!0)}),Ae({currentIndex:a.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,n){var o=n.getComponent("timeline");o&&e.playState!=null&&o.setPlayState(e.playState)})}(i),i.registerPreprocessor(cf)}),ne(function(i){i.registerComponentModel(pf),i.registerComponentView(gf),i.registerPreprocessor(function(t){ba(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),ne(function(i){i.registerComponentModel(ff),i.registerComponentView(mf),i.registerPreprocessor(function(t){ba(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),ne(function(i){i.registerComponentModel(xf),i.registerComponentView(Sf),i.registerPreprocessor(function(t){ba(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),ne(x0),ne(function(i){ne(su),ne(du)}),ne(su),ne(du),ne(function(i){ne(Du),ne(Au)}),ne(Du),ne(Au),ne(_0),ne(function(i){i.registerTransform(ty),i.registerTransform(ny)}),ne(b0),ne(function(i){i.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){V(qe(n.seriesTransition),function(o){V(qe(o.to),function(a){for(var r=n.updatedSeries,s=0;s<r.length;s++)(a.seriesIndex!=null&&a.seriesIndex===r[s].seriesIndex||a.seriesId!=null&&a.seriesId===r[s].id)&&(r[s][Mr]=!0)})})}),i.registerUpdateLifecycle("series:transition",function(t,e,n){var o=Ty(e);if(o.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)V(qe(a),function(g){(function(f,p,y,v){var b=[],m=[];V(qe(f.from),function(x){var S=Cd(p.oldSeries,x);S>=0&&b.push({dataGroupId:p.oldDataGroupIds[S],data:p.oldData[S],divide:Vt(p.oldData[S]),groupIdDim:x.dimension})}),V(qe(f.to),function(x){var S=Cd(y.updatedSeries,x);if(S>=0){var _=y.updatedSeries[S].getData();m.push({dataGroupId:p.oldDataGroupIds[S],data:_,divide:Vt(_),groupIdDim:x.dimension})}}),b.length>0&&m.length>0&&Id(b,m,v)})(g,o,n,e)});else{var r=function(g,f){var p=fe(),y=fe(),v=fe();return V(g.oldSeries,function(b,m){var x=g.oldDataGroupIds[m],S=g.oldData[m],_=Md(b),w=Dd(_);y.set(w,{dataGroupId:x,data:S}),K(_)&&V(_,function(I){v.set(I,{key:w,dataGroupId:x,data:S})})}),V(f.updatedSeries,function(b){if(b.isUniversalTransitionEnabled()&&b.isAnimationEnabled()){var m=b.get("dataGroupId"),x=b.getData(),S=Md(b),_=Dd(S),w=y.get(_);if(w)p.set(_,{oldSeries:[{dataGroupId:w.dataGroupId,divide:Vt(w.data),data:w.data}],newSeries:[{dataGroupId:m,divide:Vt(x),data:x}]});else if(K(S)){var I=[];V(S,function(A){var C=y.get(A);C.data&&I.push({dataGroupId:C.dataGroupId,divide:Vt(C.data),data:C.data})}),I.length&&p.set(_,{oldSeries:I,newSeries:[{dataGroupId:m,data:x,divide:Vt(x)}]})}else{var M=v.get(S);if(M){var D=p.get(M.key);D||(D={oldSeries:[{dataGroupId:M.dataGroupId,data:M.data,divide:Vt(M.data)}],newSeries:[]},p.set(M.key,D)),D.newSeries.push({dataGroupId:m,data:x,divide:Vt(x)})}}}}),p}(o,n);V(r.keys(),function(g){var f=r.get(g);Id(f.oldSeries,f.newSeries,e)})}V(n.updatedSeries,function(g){g[Mr]&&(g[Mr]=!1)})}for(var s=t.getSeries(),l=o.oldSeries=[],u=o.oldDataGroupIds=[],d=o.oldData=[],h=0;h<s.length;h++){var c=s[h].getData();c.count()<xd&&(l.push(s[h]),u.push(s[h].get("dataGroupId")),d.push(c))}})}),ne(S0);let Ad;Ad=Nd({name:"InfraRedis"}),Rh=Nd({...Ad,setup(i){const t=Ja(),e=async()=>{const r=await ky.get({url:"/infra/redis/get-monitor-info"});t.value=r,a(r.commandStats)},n=Ja(),o=Ja(),a=r=>{const s=[],l=[];r.forEach(u=>{s.push({name:u.command,value:u.calls}),l.push(u.command)}),Vh(n.value,"macarons").setOption({title:{text:"\u547D\u4EE4\u7EDF\u8BA1",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",orient:"vertical",right:30,top:10,bottom:20,data:l,textStyle:{color:"#a1a1a1"}},series:[{name:"\u547D\u4EE4",type:"pie",radius:[20,120],center:["40%","60%"],data:s,roseType:"radius",label:{show:!0},emphasis:{label:{show:!0},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),Vh(o.value,"macarons").setOption({title:{text:"\u5185\u5B58\u4F7F\u7528\u60C5\u51B5",left:"center"},tooltip:{formatter:"{b} <br/>{a} : "+t.value.info.used_memory_human},series:[{name:"\u5CF0\u503C",type:"gauge",min:0,max:100,progress:{show:!0},detail:{formatter:t.value.info.used_memory_human},data:[{value:parseFloat(t.value.info.used_memory_human),name:"\u5185\u5B58\u6D88\u8017"}]}]})};return Ny(()=>{e()}),(r,s)=>{const l=Yy,u=Wy,d=Zy,h=Hy,c=Oy,g=Ey,f=By;return Vy(),Ry(zy,null,[ge(l,{title:"Redis \u7F13\u5B58",url:"https://www.yixiang.co/redis-cache/"}),ge(l,{title:"\u672C\u5730\u7F13\u5B58",url:"https://www.yixiang.co/local-cache/"}),ge(f,{height:"calc(100vh - 88px - 40px - 50px)"},{default:ve(()=>[ge(g,null,{default:ve(()=>[ge(c,{span:24,class:"card-box",shadow:"hover"},{default:ve(()=>[ge(h,null,{default:ve(()=>[ge(d,{title:"\u57FA\u672C\u4FE1\u606F",column:6,border:""},{default:ve(()=>[ge(u,{label:"Redis\u7248\u672C :"},{default:ve(()=>{var p,y;return[et(Xe((y=(p=He(t))==null?void 0:p.info)==null?void 0:y.redis_version),1)]}),_:1}),ge(u,{label:"\u8FD0\u884C\u6A21\u5F0F :"},{default:ve(()=>{var p,y;return[et(Xe(((y=(p=He(t))==null?void 0:p.info)==null?void 0:y.redis_mode)=="standalone"?"\u5355\u673A":"\u96C6\u7FA4"),1)]}),_:1}),ge(u,{label:"\u7AEF\u53E3 :"},{default:ve(()=>{var p,y;return[et(Xe((y=(p=He(t))==null?void 0:p.info)==null?void 0:y.tcp_port),1)]}),_:1}),ge(u,{label:"\u5BA2\u6237\u7AEF\u6570 :"},{default:ve(()=>{var p,y;return[et(Xe((y=(p=He(t))==null?void 0:p.info)==null?void 0:y.connected_clients),1)]}),_:1}),ge(u,{label:"\u8FD0\u884C\u65F6\u95F4(\u5929) :"},{default:ve(()=>{var p,y;return[et(Xe((y=(p=He(t))==null?void 0:p.info)==null?void 0:y.uptime_in_days),1)]}),_:1}),ge(u,{label:"\u4F7F\u7528\u5185\u5B58 :"},{default:ve(()=>{var p,y;return[et(Xe((y=(p=He(t))==null?void 0:p.info)==null?void 0:y.used_memory_human),1)]}),_:1}),ge(u,{label:"\u4F7F\u7528CPU :"},{default:ve(()=>{var p,y,v;return[et(Xe((p=He(t))!=null&&p.info?parseFloat((v=(y=He(t))==null?void 0:y.info)==null?void 0:v.used_cpu_user_children).toFixed(2):""),1)]}),_:1}),ge(u,{label:"\u5185\u5B58\u914D\u7F6E :"},{default:ve(()=>{var p,y;return[et(Xe((y=(p=He(t))==null?void 0:p.info)==null?void 0:y.maxmemory_human),1)]}),_:1}),ge(u,{label:"AOF\u662F\u5426\u5F00\u542F :"},{default:ve(()=>{var p,y;return[et(Xe(((y=(p=He(t))==null?void 0:p.info)==null?void 0:y.aof_enabled)=="0"?"\u5426":"\u662F"),1)]}),_:1}),ge(u,{label:"RDB\u662F\u5426\u6210\u529F :"},{default:ve(()=>{var p,y;return[et(Xe((y=(p=He(t))==null?void 0:p.info)==null?void 0:y.rdb_last_bgsave_status),1)]}),_:1}),ge(u,{label:"Key\u6570\u91CF :"},{default:ve(()=>{var p;return[et(Xe((p=He(t))==null?void 0:p.dbSize),1)]}),_:1}),ge(u,{label:"\u7F51\u7EDC\u5165\u53E3/\u51FA\u53E3 :"},{default:ve(()=>{var p,y,v,b;return[et(Xe((y=(p=He(t))==null?void 0:p.info)==null?void 0:y.instantaneous_input_kbps)+"kps/ "+Xe((b=(v=He(t))==null?void 0:v.info)==null?void 0:b.instantaneous_output_kbps)+"kps ",1)]}),_:1})]),_:1})]),_:1})]),_:1}),ge(c,{span:12,class:"mt-3"},{default:ve(()=>[ge(h,{gutter:12,shadow:"hover"},{default:ve(()=>[Vd("div",{ref_key:"commandStatsRef",ref:n,class:"h-88"},null,512)]),_:1})]),_:1}),ge(c,{span:12,class:"mt-3"},{default:ve(()=>[ge(h,{class:"ml-3",gutter:12,shadow:"hover"},{default:ve(()=>[Vd("div",{ref_key:"usedmemory",ref:o,class:"h-88"},null,512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}})});export{w0 as __tla,Rh as default};
