import{d as j,D as T,r as m,o as r,c as i,F as q,j as D,H as E,w as e,f as c,t as s,g as a,h,i as H,L as J,X as L,J as X,M as z,__tla as A}from"./index-BFAKpZuq.js";import{E as B,__tla as G}from"./el-card-BsKqeqbW.js";import{E as K,__tla as O}from"./el-image-CAXv3PC1.js";import{__tla as Q}from"./el-image-viewer-CHbhbv9Z.js";import{S as W,__tla as Y}from"./SelectStoreProduct-BBrQw9T_.js";import{_ as Z}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{__tla as $}from"./Dialog.vue_vue_type_style_index_0_lang-CVdMJmZW.js";import{__tla as aa}from"./index-DNF21PsK.js";import{__tla as ea}from"./CateTree.vue_vue_type_script_name_StoreProductCateTree_setup_true_lang-kqURf3V3.js";import{__tla as ta}from"./category-_Vga-H0a.js";import"./tree-CxUbcu7T.js";let F,la=Promise.all([(()=>{try{return A}catch{}})(),(()=>{try{return G}catch{}})(),(()=>{try{return O}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return Y}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return ta}catch{}})()]).then(async()=>{let g,N,b,k;g={style:{width:"100%"}},N={style:{display:"flex","flex-direction":"row"}},b={class:"card-container"},k={key:0},F=Z(j({__name:"ComboInfo",emits:["update-combos"],setup(ra,{emit:w}){const I=T({attrName:[{required:!0,message:"\u5E97\u94FA\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],optionalNum:[{required:!0,message:"\u5957\u9910\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],combos:[{required:!0,message:"\u5957\u9910\u5546\u54C1\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),o=m([]),d=m(),t=m({attrName:"",optionalNum:void 0,products:[]}),C=m(),M=()=>{C.value.openDialog("\u9009\u62E9\u5546\u54C1",{specType:0})},P=u=>{t.value.products=u},R=async()=>{var u;d.value&&await d.value.validate()&&(o.value.push({...t.value}),w("update-combos",o.value),t.value={attrName:"",optionalNum:void 0,products:[]},(u=d.value)==null||u.resetFields())};return(u,_)=>{const p=J,S=K,n=B,V=L,f=X,U=z;return r(),i("div",g,[(r(!0),i(q,null,D(o.value,(l,x)=>(r(),E(n,{style:{width:"100%"},key:x},{header:e(()=>[c("div",N,[c("div",null,"\u5C5E\u6027\uFF1A"+s(l.attrName)+" - "+s(l.products.length)+" \u9009 "+s(l.optionalNum),1),a(p,{onClick:v=>(y=>{o.value.splice(y,1),w("update-combos",o.value)})(x)},{default:e(()=>[h("\u5220\u9664")]),_:2},1032,["onClick"])])]),default:e(()=>[c("div",b,[(r(!0),i(q,null,D(l.products,(v,y)=>(r(),E(n,{key:y,class:"card-item"},{default:e(()=>[c("div",null,s(v.id),1),a(S,{src:v.image,class:"card-image",fit:"cover"},null,8,["src"])]),_:2},1024))),128))])]),_:2},1024))),128)),a(n,{style:{width:"100%"}},{default:e(()=>[a(U,{ref_key:"formRef",ref:d,model:t.value,rules:I,"label-width":"150px"},{default:e(()=>[a(f,{label:"\u5957\u9910\u5C5E\u6027\u540D\u79F0",prop:"attrName"},{default:e(()=>[a(V,{modelValue:t.value.attrName,"onUpdate:modelValue":_[0]||(_[0]=l=>t.value.attrName=l),placeholder:"\u8BF7\u8F93\u5165\u5957\u9910\u5C5E\u6027\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(f,{label:"\u53EF\u9009\u6570\u91CF",prop:"optionalNum"},{default:e(()=>[a(V,{modelValue:t.value.optionalNum,"onUpdate:modelValue":_[1]||(_[1]=l=>t.value.optionalNum=l),modelModifiers:{number:!0},placeholder:"\u8BF7\u8F93\u5165\u5C5E\u6027\u53EF\u9009\u6570\u91CF"},null,8,["modelValue"])]),_:1}),a(f,{label:"\u5957\u9910\u5185\u5BB9",prop:"products"},{default:e(()=>[a(p,{type:"primary",onClick:M},{default:e(()=>[h("\u6DFB\u52A0\u5546\u54C1")]),_:1}),t.value.products.length>0?(r(),i("span",k,s(t.value.products.length)+"\u4E2A\u5546\u54C1",1)):H("",!0)]),_:1})]),_:1},8,["model","rules"]),a(p,{type:"primary",onClick:R},{default:e(()=>[h("\u786E\u5B9A\u6DFB\u52A0")]),_:1})]),_:1}),a(W,{ref_key:"selectProductRef",ref:C,onSelected:P},null,512)])}}}),[["__scopeId","data-v-2665fa53"]])});export{la as __tla,F as default};
