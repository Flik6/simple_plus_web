import{Z as It,c as he,i as me,e as ge,g as pe,M as kt,a as ve,n as we,m as ye,A as be,b as xe,d as Bt,f as Me,h as jt,j as Se,k as Wt,l as Ce,o as Te,p as Ie,q as ke,r as Pe,s as Ee,t as Oe,u as _e,v as Nt,w as ze,x as Ae,y as Yt,z as De,B as Le,C as Fe,D as Re,E as Be,F as je,G as We,H as Ne,I as Ye,J as qe,K as He,L as Xe,N as Ge,O as Ve,P as Ue,Q as $e,R as Je,S as Ze,T as Ke,U as Qe,V as ta,W as ea,X as aa,Y as ra,_ as ia,$ as oa,a0 as na,a1 as sa,a2 as la,a3 as da,a4 as ca,a5 as ua,a6 as fa,a7 as ha,a8 as ma,a9 as ga,aa as pa,ab as va,ac as wa,ad as qt,ae as ya,af as ba,ag as xa,ah as Ma,ai as Sa,aj as Ca,ak as Ta,al as Ia,am as ka,an as Pa,ao as Ea,ap as Pt,aq as Oa,ar as _a,as as za,at as Aa,au as Ht,av as Da,aw as La,ax as Fa,ay as Ra,az as Ba,aA as ja,aB as Et,aC as Ot,aD as _t,aE as zt,aF as Wa,aG as Xt,aH as Na,aI as Ya,aJ as qa,aK as Ha,aL as Xa,aM as Ga,aN as Va,aO as Ua,aP as $a,aQ as Ja,aR as Za,aS as Ka,aT as Qa,aU as tr,aV as er,aW as ar,aX as Gt,aY as rr,aZ as ir,a_ as Vt,a$ as or,b0 as nr,b1 as sr,b2 as lr,b3 as dr,b4 as Ut,b5 as cr,b6 as ur,b7 as fr,b8 as hr,b9 as mr,ba as gr,bb as pr,bc as vr,bd as wt,be as wr,bf as yr,bg as br,bh as xr,bi as Mr,bj as Sr,bk as Cr,bl as Tr,bm as Ir,bn as kr,bo as Pr,bp as Er,bq as Or,br as _r,bs as zr,bt as $t,bu as Ar,bv as Dr,bw as Lr,bx as Fr}from"./installCanvasRenderer-KXuZHB_D.js";import{d as Jt,a1 as Zt,Y as Rr,an as yt,r as Kt,ac as Br,bb as jr,e as Wr,a as X,bc as Nr,bd as Yr,o as qr,c as Hr,n as Xr,ay as Gr,l as Vr,aP as Qt,__tla as Ur}from"./index-DPXDMqGw.js";let te,$r=Promise.all([(()=>{try{return Ur}catch{}})()]).then(async()=>{var ee={isDimensionStacked:me,enableDataStack:ge,getStackedDimension:pe};function mt(e,o){return xe(e,null,null,(o=o||{}).state!=="normal")}const ae=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:Bt,createList:function(e){return he(null,e)},createScale:function(e,o){var i=o;o instanceof kt||(i=new kt(o));var t=ve(i);return t.setExtent(e[0],e[1]),we(t,i),t},createSymbol:Me,createTextStyle:mt,dataStack:ee,enableHoverEmphasis:jt,getECData:Se,getLayoutRect:Wt,mixinAxisModelCommonMethods:function(e){ye(e,be)}},Symbol.toStringTag,{value:"Module"})),re=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:Ce,asc:Te,getPercentWithPrecision:Ie,getPixelPrecision:ke,getPrecision:Pe,getPrecisionSafe:Ee,isNumeric:Oe,isRadianAroundZero:_e,linearMap:Nt,nice:ze,numericToNumber:Ae,parseDate:Yt,quantile:De,quantity:Le,quantityExponent:Fe,reformIntervals:Re,remRadian:Be,round:je},Symbol.toStringTag,{value:"Module"})),ie=Object.freeze(Object.defineProperty({__proto__:null,format:We,parse:Yt},Symbol.toStringTag,{value:"Module"})),oe=Object.freeze(Object.defineProperty({__proto__:null,Arc:Ne,BezierCurve:Ye,BoundingRect:qe,Circle:He,CompoundPath:Xe,Ellipse:Ge,Group:Ve,Image:Ue,IncrementalDisplayable:$e,Line:Je,LinearGradient:Ze,Polygon:Ke,Polyline:Qe,RadialGradient:ta,Rect:ea,Ring:aa,Sector:ra,Text:It,clipPointsByRect:ia,clipRectByRect:oa,createIcon:na,extendPath:sa,extendShape:la,getShapeClass:da,getTransform:ca,initProps:ua,makeImage:fa,makePath:ha,mergePath:ma,registerShape:ga,resizePath:pa,updateProps:va},Symbol.toStringTag,{value:"Module"})),ne=Object.freeze(Object.defineProperty({__proto__:null,addCommas:wa,capitalFirst:qt,encodeHTML:ya,formatTime:ba,formatTpl:xa,getTextRect:function(e,o,i,t,p,v,k,f){return new It({style:{text:e,font:o,align:i,verticalAlign:t,padding:p,rich:v,overflow:k?"truncate":null,lineHeight:f}}).getBoundingRect()},getTooltipMarker:Ma,normalizeCssArray:Sa,toCamelCase:Ca,truncateText:Ta},Symbol.toStringTag,{value:"Module"})),se=Object.freeze(Object.defineProperty({__proto__:null,bind:Ia,clone:ka,curry:Pa,defaults:Ea,each:Pt,extend:Oa,filter:_a,indexOf:za,inherits:Aa,isArray:Ht,isFunction:Da,isObject:La,isString:Fa,map:Ra,merge:Ba,reduce:ja},Symbol.toStringTag,{value:"Module"}));function At(e){var o=Et.extend(e);return Et.registerClass(o),o}function Dt(e){var o=Ot.extend(e);return Ot.registerClass(o),o}const le=Object.freeze(Object.defineProperty({__proto__:null,Axis:Wa,ChartView:Ot,ComponentModel:_t,ComponentView:zt,List:Xt,Model:kt,PRIORITY:Na,SeriesModel:Et,color:Ya,connect:qa,dataTool:Ha,dependencies:Xa,disConnect:Ga,disconnect:Va,dispose:Ua,env:$a,extendChartView:Dt,extendComponentModel:function(e){var o=_t.extend(e);return _t.registerClass(o),o},extendComponentView:function(e){var o=zt.extend(e);return zt.registerClass(o),o},extendSeriesModel:At,format:ne,getCoordinateSystemDimensions:Ja,getInstanceByDom:Za,getInstanceById:Ka,getMap:Qa,graphic:oe,helper:ae,init:tr,innerDrawElementOnCanvas:er,matrix:ar,number:re,parseGeoJSON:Gt,parseGeoJson:Gt,registerAction:rr,registerCoordinateSystem:ir,registerLayout:Vt,registerLoading:or,registerLocale:nr,registerMap:sr,registerPostInit:lr,registerPostUpdate:dr,registerPreprocessor:Ut,registerProcessor:cr,registerTheme:ur,registerTransform:fr,registerUpdateLifecycle:hr,registerVisual:mr,setCanvasCreator:gr,setPlatformAPI:pr,throttle:vr,time:ie,use:wt,util:se,vector:wr,version:yr,zrUtil:br,zrender:xr},Symbol.toStringTag,{value:"Module"}));wt([Mr,Sr,Cr,Tr,Ir,kr,Pr,Er,Or,_r,zr,$t,Ar,Dr]),wt([$t,Lr]),wt(Fr),At({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(e){return{fill:e.get("color")}},visualDrawType:"fill",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,o){var i=Bt(e.data,{coordDimensions:["value"]}),t=new Xt(i,this);return t.initData(e.data),t},defaultOption:{maskImage:null,shape:"circle",keepAspect:!1,left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:"normal"}}}),Dt({type:"wordCloud",render:function(e,o,i){var t=this.group;t.removeAll();var p=e.getData(),v=e.get("gridSize");e.layoutInstance.ondraw=function(k,f,s,b){var g=p.getItemModel(s),L=g.getModel("textStyle"),T=new It({style:mt(L),scaleX:1/b.info.mu,scaleY:1/b.info.mu,x:(b.gx+b.info.gw/2)*v,y:(b.gy+b.info.gh/2)*v,rotation:b.rot});T.setStyle({x:b.info.fillTextOffsetX,y:b.info.fillTextOffsetY+.5*f,text:k,verticalAlign:"middle",fill:p.getItemVisual(s,"style").fill,fontSize:f}),t.add(T),p.setItemGraphicEl(s,T),T.ensureState("emphasis").style=mt(g.getModel(["emphasis","textStyle"]),{state:"emphasis"}),T.ensureState("blur").style=mt(g.getModel(["blur","textStyle"]),{state:"blur"}),jt(T,g.get(["emphasis","focus"]),g.get(["emphasis","blurScope"])),T.stateTransition={duration:e.get("animation")?e.get(["stateAnimation","duration"]):0,easing:e.get(["stateAnimation","easing"])},T.__highDownDispatcher=!0},this._model=e},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}}),window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var e=[void 0],o="zero-timeout-message";return window.addEventListener("message",function(i){if(typeof i.data=="string"&&i.data.substr(0,20)===o){i.stopImmediatePropagation();var t=parseInt(i.data.substr(20),36);e[t]&&(e[t](),e[t]=void 0)}},!0),window.clearImmediate=function(i){e[i]&&(e[i]=void 0)},function(i){var t=e.length;return e.push(i),window.postMessage(o+t.toString(36),"*"),t}}()||function(e){window.setTimeout(e,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(e){window.clearTimeout(e)});var bt=function(){var e=document.createElement("canvas");if(!e||!e.getContext)return!1;var o=e.getContext("2d");return!!o&&!!o.getImageData&&!!o.fillText&&!!Array.prototype.some&&!!Array.prototype.push}(),xt=function(){if(bt){for(var e,o,i=document.createElement("canvas").getContext("2d"),t=20;t;){if(i.font=t.toString(10)+"px sans-serif",i.measureText("\uFF37").width===e&&i.measureText("m").width===o)return t+1;e=i.measureText("\uFF37").width,o=i.measureText("m").width,t--}return 0}}(),de=function(e){for(var o,i,t=e.length;t;)o=Math.floor(Math.random()*t),i=e[--t],e[t]=e[o],e[o]=i;return e},ot={},gt=function(e,o){if(bt){var i=Math.floor(Math.random()*Date.now());Array.isArray(e)||(e=[e]),e.forEach(function(a,r){if(typeof a=="string"){if(e[r]=document.getElementById(a),!e[r])throw new Error("The element id specified is not found.")}else if(!a.tagName&&!a.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var t={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(o)for(var p in o)p in t&&(t[p]=o[p]);if(typeof t.weightFactor!="function"){var v=t.weightFactor;t.weightFactor=function(a){return a*v}}if(typeof t.shape!="function")switch(t.shape){case"circle":default:t.shape="circle";break;case"cardioid":t.shape=function(a){return 1-Math.sin(a)};break;case"diamond":t.shape=function(a){var r=a%(2*Math.PI/4);return 1/(Math.cos(r)+Math.sin(r))};break;case"square":t.shape=function(a){return Math.min(1/Math.abs(Math.cos(a)),1/Math.abs(Math.sin(a)))};break;case"triangle-forward":t.shape=function(a){var r=a%(2*Math.PI/3);return 1/(Math.cos(r)+Math.sqrt(3)*Math.sin(r))};break;case"triangle":case"triangle-upright":t.shape=function(a){var r=(a+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(r)+Math.sqrt(3)*Math.sin(r))};break;case"pentagon":t.shape=function(a){var r=(a+.955)%(2*Math.PI/5);return 1/(Math.cos(r)+.726543*Math.sin(r))};break;case"star":t.shape=function(a){var r=(a+.955)%(2*Math.PI/10);return(a+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-r)+3.07768*Math.sin(2*Math.PI/10-r)):1/(Math.cos(r)+3.07768*Math.sin(r))}}t.gridSize=Math.max(Math.floor(t.gridSize),4);var k,f,s,b,g,L,T,F,n=t.gridSize,H=n-t.maskGapWidth,h=Math.abs(t.maxRotation-t.minRotation),w=Math.min(t.maxRotation,t.minRotation),x=t.rotationStep;switch(t.color){case"random-dark":T=function(){return Ft(10,50)};break;case"random-light":T=function(){return Ft(50,90)};break;default:typeof t.color=="function"&&(T=t.color)}typeof t.fontWeight=="function"&&(F=t.fontWeight);var I=null;typeof t.classes=="function"&&(I=t.classes);var nt,st=!1,m=[],pt=function(a){var r,l,c=a.currentTarget,u=c.getBoundingClientRect();a.touches?(r=a.touches[0].clientX,l=a.touches[0].clientY):(r=a.clientX,l=a.clientY);var G=r-u.left,j=l-u.top,V=Math.floor(G*(c.width/u.width||1)/n),E=Math.floor(j*(c.height/u.height||1)/n);return m[V]?m[V][E]:null},ft=function(a){var r=pt(a);nt!==r&&(nt=r,r?t.hover(r.item,r.dimension,a):t.hover(void 0,void 0,a))},Mt=function(a){var r=pt(a);r&&(t.click(r.item,r.dimension,a),a.preventDefault())},St=[],ce=function(a){if(St[a])return St[a];var r=8*a,l=r,c=[];for(a===0&&c.push([b[0],b[1],0]);l--;){var u=1;t.shape!=="circle"&&(u=t.shape(l/r*2*Math.PI)),c.push([b[0]+a*u*Math.cos(-l/r*2*Math.PI),b[1]+a*u*Math.sin(-l/r*2*Math.PI)*t.ellipticity,l/r*2*Math.PI])}return St[a]=c,c},Ct=function(){return t.abortThreshold>0&&new Date().getTime()-L>t.abortThreshold},ue=function(a,r,l,c,u){a>=f||r>=s||a<0||r<0||(k[a][r]=!1,l&&e[0].getContext("2d").fillRect(a*n,r*n,H,H),st&&(m[a][r]={item:u,dimension:c}))},fe=function a(r,l){if(l>20)return null;var c,u,G;Array.isArray(r)?(c=r[0],u=r[1]):(c=r.word,u=r.weight,G=r.attributes);var j=t.rotateRatio===0||Math.random()>t.rotateRatio?0:h===0?w:w+Math.round(Math.random()*h/x)*x,V=function(d){if(Array.isArray(d)){var S=d.slice();return S.splice(0,2),S}return[]}(r),E=function(d,S,O,$){var P=t.weightFactor(S);if(P<=t.minSize)return!1;var y,M=1;P<xt&&(M=function(){for(var Tt=2;Tt*P<xt;)Tt+=2;return Tt}()),y=F?F(d,S,P,$):t.fontWeight;var A=document.createElement("canvas"),C=A.getContext("2d",{willReadFrequently:!0});C.font=y+" "+(P*M).toString(10)+"px "+t.fontFamily;var R=C.measureText(d).width/M,_=Math.max(P*M,C.measureText("m").width,C.measureText("\uFF37").width)/M,W=R+2*_,N=3*_,B=Math.ceil(W/n),J=Math.ceil(N/n);W=B*n,N=J*n;var U=-R/2,D=.4*-_,Z=Math.ceil((W*Math.abs(Math.sin(O))+N*Math.abs(Math.cos(O)))/n),z=Math.ceil((W*Math.abs(Math.cos(O))+N*Math.abs(Math.sin(O)))/n),Y=z*n,K=Z*n;A.setAttribute("width",Y),A.setAttribute("height",K),C.scale(1/M,1/M),C.translate(Y*M/2,K*M/2),C.rotate(-O),C.font=y+" "+(P*M).toString(10)+"px "+t.fontFamily,C.fillStyle="#000",C.textBaseline="middle",C.fillText(d,U*M,(D+.5*P)*M);var rt=C.getImageData(0,0,Y,K).data;if(Ct())return!1;for(var q,ct,ut,Rt=[],it=z,Q=[Z/2,z/2,Z/2,z/2];it--;)for(q=Z;q--;){ut=n;t:for(;ut--;)for(ct=n;ct--;)if(rt[4*((q*n+ut)*Y+(it*n+ct))+3]){Rt.push([it,q]),it<Q[3]&&(Q[3]=it),it>Q[1]&&(Q[1]=it),q<Q[0]&&(Q[0]=q),q>Q[2]&&(Q[2]=q);break t}}return{mu:M,occupied:Rt,bounds:Q,gw:z,gh:Z,fillTextOffsetX:U,fillTextOffsetY:D,fillTextWidth:R,fillTextHeight:_,fontSize:P}}(c,u,j,V);if(!E||Ct())return!1;if(!t.drawOutOfBound&&!t.shrinkToFit){var tt=E.bounds;if(tt[1]-tt[3]+1>f||tt[2]-tt[0]+1>s)return!1}for(var lt=g+1,vt=function(d){var S=Math.floor(d[0]-E.gw/2),O=Math.floor(d[1]-E.gh/2);return E.gw,E.gh,!!function($,P,y,M,A){for(var C=A.length;C--;){var R=$+A[C][0],_=P+A[C][1];if(R>=f||_>=s||R<0||_<0){if(!t.drawOutOfBound)return!1}else if(!k[R][_])return!1}return!0}(S,O,0,0,E.occupied)&&(function($,P,y,M,A,C,R,_,W,N){var B,J,U,D=y.fontSize;B=T?T(M,A,D,C,R,N):t.color,J=F?F(M,A,D,N):t.fontWeight,U=I?I(M,A,D,N):t.classes,e.forEach(function(Z){if(Z.getContext){var z=Z.getContext("2d"),Y=y.mu;z.save(),z.scale(1/Y,1/Y),z.font=J+" "+(D*Y).toString(10)+"px "+t.fontFamily,z.fillStyle=B,z.translate(($+y.gw/2)*n*Y,(P+y.gh/2)*n*Y),_!==0&&z.rotate(-_),z.textBaseline="middle",z.fillText(M,y.fillTextOffsetX*Y,(y.fillTextOffsetY+.5*D)*Y),z.restore()}else{var K=document.createElement("span"),rt="";rt="rotate("+-_/Math.PI*180+"deg) ",y.mu!==1&&(rt+="translateX(-"+y.fillTextWidth/4+"px) scale("+1/y.mu+")");var q={position:"absolute",display:"block",font:J+" "+D*y.mu+"px "+t.fontFamily,left:($+y.gw/2)*n+y.fillTextOffsetX+"px",top:(P+y.gh/2)*n+y.fillTextOffsetY+"px",width:y.fillTextWidth+"px",height:y.fillTextHeight+"px",lineHeight:D+"px",whiteSpace:"nowrap",transform:rt,webkitTransform:rt,msTransform:rt,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var ct in B&&(q.color=B),K.textContent=M,q)K.style[ct]=q[ct];if(W)for(var ut in W)K.setAttribute(ut,W[ut]);U&&(K.className+=U),Z.appendChild(K)}})}(S,O,E,c,u,g-lt,d[2],j,G,V),function($,P,y,M,A,C){var R,_,W=A.occupied,N=t.drawMask;if(N&&((R=e[0].getContext("2d")).save(),R.fillStyle=t.maskColor),st){var B=A.bounds;_={x:($+B[3])*n,y:(P+B[0])*n,w:(B[1]-B[3]+1)*n,h:(B[2]-B[0]+1)*n}}for(var J=W.length;J--;){var U=$+W[J][0],D=P+W[J][1];U>=f||D>=s||U<0||D<0||ue(U,D,N,_,C)}N&&R.restore()}(S,O,0,0,E,r),{gx:S,gy:O,rot:j,info:E})};lt--;){var et=ce(g-lt);t.shuffle&&(et=[].concat(et),de(et));for(var at=0;at<et.length;at++){var dt=vt(et[at]);if(dt)return dt}}return t.shrinkToFit?(Array.isArray(r)?r[1]=3*r[1]/4:r.weight=3*r.weight/4,a(r,l+1)):null},ht=function(a,r,l){if(r)return!e.some(function(c){var u=new CustomEvent(a,{detail:l||{}});return!c.dispatchEvent(u)},this);e.forEach(function(c){var u=new CustomEvent(a,{detail:l||{}});c.dispatchEvent(u)},this)};(function(){var a=e[0];if(a.getContext)f=Math.ceil(a.width/n),s=Math.ceil(a.height/n);else{var r=a.getBoundingClientRect();f=Math.ceil(r.width/n),s=Math.ceil(r.height/n)}if(ht("wordcloudstart",!0)){var l,c,u,G,j;if(b=t.origin?[t.origin[0]/n,t.origin[1]/n]:[f/2,s/2],g=Math.floor(Math.sqrt(f*f+s*s)),k=[],!a.getContext||t.clearCanvas)for(e.forEach(function(d){if(d.getContext){var S=d.getContext("2d");S.fillStyle=t.backgroundColor,S.clearRect(0,0,f*(n+1),s*(n+1)),S.fillRect(0,0,f*(n+1),s*(n+1))}else d.textContent="",d.style.backgroundColor=t.backgroundColor,d.style.position="relative"}),l=f;l--;)for(k[l]=[],c=s;c--;)k[l][c]=!0;else{var V=document.createElement("canvas").getContext("2d");V.fillStyle=t.backgroundColor,V.fillRect(0,0,1,1);var E,tt,lt=V.getImageData(0,0,1,1).data,vt=a.getContext("2d").getImageData(0,0,f*n,s*n).data;for(l=f;l--;)for(k[l]=[],c=s;c--;){tt=n;t:for(;tt--;)for(E=n;E--;)for(u=4;u--;)if(vt[4*((c*n+tt)*f*n+(l*n+E))+u]!==lt[u]){k[l][c]=!1;break t}k[l][c]!==!1&&(k[l][c]=!0)}vt=V=lt=void 0}if(t.hover||t.click){for(st=!0,l=f+1;l--;)m[l]=[];t.hover&&a.addEventListener("mousemove",ft),t.click&&(a.addEventListener("click",Mt),a.addEventListener("touchstart",Mt),a.addEventListener("touchend",function(d){d.preventDefault()}),a.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),a.addEventListener("wordcloudstart",function d(){a.removeEventListener("wordcloudstart",d),a.removeEventListener("mousemove",ft),a.removeEventListener("click",Mt),nt=void 0})}u=0;var et=!0;t.layoutAnimation?t.wait!==0?(G=window.setTimeout,j=window.clearTimeout):(G=window.setImmediate,j=window.clearImmediate):(G=function(d){d()},j=function(){et=!1});var at=function(d,S){e.forEach(function(O){O.removeEventListener(d,S)},this)},dt=function d(){at("wordcloudstart",d),j(ot[i])};(function(d,S){e.forEach(function(O){O.addEventListener(d,S)},this)})("wordcloudstart",dt),ot[i]=(t.layoutAnimation?G:setTimeout)(function d(){if(et){if(u>=t.list.length)return j(ot[i]),ht("wordcloudstop",!1),at("wordcloudstart",dt),void delete ot[i];L=new Date().getTime();var S=fe(t.list[u],0),O=!ht("wordclouddrawn",!0,{item:t.list[u],drawn:S});if(Ct()||O)return j(ot[i]),t.abort(),ht("wordcloudabort",!1),ht("wordcloudstop",!1),void at("wordcloudstart",dt);u++,ot[i]=G(d,t.wait)}},t.wait)}})()}function Ft(a,r){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(r-a)+a).toFixed()+"%)"}};if(gt.isSupported=bt,gt.minFontSize=xt,!gt.isSupported)throw new Error("Sorry your browser not support wordCloud");Vt(function(e,o){e.eachSeriesByType("wordCloud",function(i){var t=Wt(i.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),p=i.get("keepAspect"),v=i.get("maskImage"),k=v?v.width/v.height:1;p&&function(h,w){var x=h.width,I=h.height;x>I*w?(h.x+=(x-I*w)/2,h.width=I*w):(h.y+=(I-x/w)/2,h.height=x/w)}(t,k);var f=i.getData(),s=document.createElement("canvas");s.width=t.width,s.height=t.height;var b=s.getContext("2d");if(v)try{b.drawImage(v,0,0,s.width,s.height),function(h){for(var w=h.getContext("2d"),x=w.getImageData(0,0,h.width,h.height),I=w.createImageData(x),nt=0,st=0,m=0;m<x.data.length;m+=4)x.data[m+3]>128&&(nt+=ft=x.data[m]+x.data[m+1]+x.data[m+2],++st);var pt=nt/st;for(m=0;m<x.data.length;m+=4){var ft=x.data[m]+x.data[m+1]+x.data[m+2];x.data[m+3]<128||ft>pt?(I.data[m]=0,I.data[m+1]=0,I.data[m+2]=0,I.data[m+3]=0):(I.data[m]=255,I.data[m+1]=255,I.data[m+2]=255,I.data[m+3]=255)}w.putImageData(I,0,0)}(s)}catch{}var g=i.get("sizeRange"),L=i.get("rotationRange"),T=f.getDataExtent("value"),F=Math.PI/180,n=i.get("gridSize");function H(h){var w=h.detail.item;h.detail.drawn&&i.layoutInstance.ondraw&&(h.detail.drawn.gx+=t.x/n,h.detail.drawn.gy+=t.y/n,i.layoutInstance.ondraw(w[0],w[1],w[2],h.detail.drawn))}gt(s,{list:f.mapArray("value",function(h,w){var x=f.getItemModel(w);return[f.getName(w),x.get("textStyle.fontSize",!0)||Nt(h,T,g),w]}).sort(function(h,w){return w[1]-h[1]}),fontFamily:i.get("textStyle.fontFamily")||i.get("emphasis.textStyle.fontFamily")||e.get("textStyle.fontFamily"),fontWeight:i.get("textStyle.fontWeight")||i.get("emphasis.textStyle.fontWeight")||e.get("textStyle.fontWeight"),gridSize:n,ellipticity:t.height/t.width,minRotation:L[0]*F,maxRotation:L[1]*F,clearCanvas:!v,rotateRatio:1,rotationStep:i.get("rotationStep")*F,drawOutOfBound:i.get("drawOutOfBound"),shrinkToFit:i.get("shrinkToFit"),layoutAnimation:i.get("layoutAnimation"),shuffle:!1,shape:i.get("shape")}),s.addEventListener("wordclouddrawn",H),i.layoutInstance&&i.layoutInstance.dispose(),i.layoutInstance={ondraw:null,dispose:function(){s.removeEventListener("wordclouddrawn",H),s.addEventListener("wordclouddrawn",function(h){h.preventDefault()})}}})}),Ut(function(e){var o=(e||{}).series;!Ht(o)&&(o=o?[o]:[]);var i=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function t(p){p&&Pt(i,function(v){p.hasOwnProperty(v)&&(p["text"+qt(v)]=p[v])})}Pt(o,function(p){if(p&&p.type==="wordCloud"){var v=p.textStyle||{};t(v.normal),t(v.emphasis)}})});let Lt;Lt=Jt({name:"EChart"}),te=Jt({...Lt,props:{options:{type:Object,required:!0},width:Zt.oneOfType([Number,String]).def(""),height:Zt.oneOfType([Number,String]).def("500px")},setup(e){const o=e,{getPrefixCls:i,variables:t}=Vr(),p=i("echart"),v=Rr(),k=yt(()=>v.getIsDark),f=yt(()=>!!X(k)||"auto"),s=yt(()=>Object.assign(o.options,{darkMode:X(f)})),b=Kt();let g=null;const L=Kt(),T=yt(()=>({width:Qt(o.width)?o.width:`${o.width}px`,height:Qt(o.height)?o.height:`${o.height}px`}));Br(()=>s.value,H=>{g&&(g==null||g.setOption(H))},{deep:!0});const F=jr(()=>{g&&g.resize()},100),n=async H=>{H.propertyName==="width"&&F()};return Wr(()=>{X(b)&&o.options&&(g=le.init(X(b)),g==null||g.setOption(X(s))),window.addEventListener("resize",F),L.value=document.getElementsByClassName(`${t.namespace}-layout-content`)[0],X(L)&&X(L).addEventListener("transitionend",n)}),Nr(()=>{window.removeEventListener("resize",F),X(L)&&X(L).removeEventListener("transitionend",n)}),Yr(()=>{g&&g.resize()}),(H,h)=>(qr(),Hr("div",{ref_key:"elRef",ref:b,class:Xr([H.$attrs.class,X(p)]),style:Gr(X(T))},null,6))}})});export{te as _,$r as __tla};
